var Kv=Object.defineProperty;var qv=(t,e,n)=>e in t?Kv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $=(t,e,n)=>qv(t,typeof e!="symbol"?e+"":e,n);function Gv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function og(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ag={exports:{}},qa={},lg={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=Symbol.for("react.element"),Jv=Symbol.for("react.portal"),Xv=Symbol.for("react.fragment"),Qv=Symbol.for("react.strict_mode"),Zv=Symbol.for("react.profiler"),e0=Symbol.for("react.provider"),t0=Symbol.for("react.context"),n0=Symbol.for("react.forward_ref"),r0=Symbol.for("react.suspense"),i0=Symbol.for("react.memo"),s0=Symbol.for("react.lazy"),Qh=Symbol.iterator;function o0(t){return t===null||typeof t!="object"?null:(t=Qh&&t[Qh]||t["@@iterator"],typeof t=="function"?t:null)}var ug={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cg=Object.assign,hg={};function Ti(t,e,n){this.props=t,this.context=e,this.refs=hg,this.updater=n||ug}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dg(){}dg.prototype=Ti.prototype;function Bc(t,e,n){this.props=t,this.context=e,this.refs=hg,this.updater=n||ug}var Fc=Bc.prototype=new dg;Fc.constructor=Bc;cg(Fc,Ti.prototype);Fc.isPureReactComponent=!0;var Zh=Array.isArray,fg=Object.prototype.hasOwnProperty,$c={current:null},pg={key:!0,ref:!0,__self:!0,__source:!0};function gg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fg.call(e,r)&&!pg.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qs,type:t,key:s,ref:o,props:i,_owner:$c.current}}function a0(t,e){return{$$typeof:Qs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qs}function l0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ed=/\/+/g;function kl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?l0(""+t.key):e.toString(36)}function Ho(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qs:case Jv:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+kl(o,0):r,Zh(i)?(n="",t!=null&&(n=t.replace(ed,"$&/")+"/"),Ho(i,e,n,"",function(u){return u})):i!=null&&(Uc(i)&&(i=a0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ed,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Zh(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+kl(s,a);o+=Ho(s,e,n,l,i)}else if(l=o0(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+kl(s,a++),o+=Ho(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ao(t,e,n){if(t==null)return t;var r=[],i=0;return Ho(t,r,"","",function(s){return e.call(n,s,i++)}),r}function u0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rt={current:null},Ko={transition:null},c0={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Ko,ReactCurrentOwner:$c};function mg(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ao,forEach:function(t,e,n){ao(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ao(t,function(){e++}),e},toArray:function(t){return ao(t,function(e){return e})||[]},only:function(t){if(!Uc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=Ti;J.Fragment=Xv;J.Profiler=Zv;J.PureComponent=Bc;J.StrictMode=Qv;J.Suspense=r0;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c0;J.act=mg;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$c.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fg.call(e,l)&&!pg.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Qs,type:t.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(t){return t={$$typeof:t0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:e0,_context:t},t.Consumer=t};J.createElement=gg;J.createFactory=function(t){var e=gg.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:n0,render:t}};J.isValidElement=Uc;J.lazy=function(t){return{$$typeof:s0,_payload:{_status:-1,_result:t},_init:u0}};J.memo=function(t,e){return{$$typeof:i0,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Ko.transition;Ko.transition={};try{t()}finally{Ko.transition=e}};J.unstable_act=mg;J.useCallback=function(t,e){return rt.current.useCallback(t,e)};J.useContext=function(t){return rt.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return rt.current.useDeferredValue(t)};J.useEffect=function(t,e){return rt.current.useEffect(t,e)};J.useId=function(){return rt.current.useId()};J.useImperativeHandle=function(t,e,n){return rt.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return rt.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return rt.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return rt.current.useMemo(t,e)};J.useReducer=function(t,e,n){return rt.current.useReducer(t,e,n)};J.useRef=function(t){return rt.current.useRef(t)};J.useState=function(t){return rt.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return rt.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return rt.current.useTransition()};J.version="18.3.1";lg.exports=J;var I=lg.exports;const yg=og(I),h0=Gv({__proto__:null,default:yg},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0=I,f0=Symbol.for("react.element"),p0=Symbol.for("react.fragment"),g0=Object.prototype.hasOwnProperty,m0=d0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y0={key:!0,ref:!0,__self:!0,__source:!0};function vg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)g0.call(e,r)&&!y0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:f0,type:t,key:s,ref:o,props:i,_owner:m0.current}}qa.Fragment=p0;qa.jsx=vg;qa.jsxs=vg;ag.exports=qa;var b=ag.exports,vu={},_g={exports:{}},St={},wg={exports:{}},bg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,P){var z=A.length;A.push(P);e:for(;0<z;){var M=z-1>>>1,F=A[M];if(0<i(F,P))A[M]=P,A[z]=F,z=M;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var P=A[0],z=A.pop();if(z!==P){A[0]=z;e:for(var M=0,F=A.length,D=F>>>1;M<D;){var Z=2*(M+1)-1,ie=A[Z],te=Z+1,Ue=A[te];if(0>i(ie,z))te<F&&0>i(Ue,ie)?(A[M]=Ue,A[te]=z,M=te):(A[M]=ie,A[Z]=z,M=Z);else if(te<F&&0>i(Ue,z))A[M]=Ue,A[te]=z,M=te;else break e}}return P}function i(A,P){var z=A.sortIndex-P.sortIndex;return z!==0?z:A.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=A)r(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(u)}}function S(A){if(y=!1,v(A),!p)if(n(l)!==null)p=!0,K(k);else{var P=n(u);P!==null&&N(S,P.startTime-A)}}function k(A,P){p=!1,y&&(y=!1,g(w),w=-1),f=!0;var z=d;try{for(v(P),h=n(l);h!==null&&(!(h.expirationTime>P)||A&&!O());){var M=h.callback;if(typeof M=="function"){h.callback=null,d=h.priorityLevel;var F=M(h.expirationTime<=P);P=t.unstable_now(),typeof F=="function"?h.callback=F:h===n(l)&&r(l),v(P)}else r(l);h=n(l)}if(h!==null)var D=!0;else{var Z=n(u);Z!==null&&N(S,Z.startTime-P),D=!1}return D}finally{h=null,d=z,f=!1}}var T=!1,C=null,w=-1,x=5,E=-1;function O(){return!(t.unstable_now()-E<x)}function R(){if(C!==null){var A=t.unstable_now();E=A;var P=!0;try{P=C(!0,A)}finally{P?B():(T=!1,C=null)}}else T=!1}var B;if(typeof m=="function")B=function(){m(R)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,H=X.port2;X.port1.onmessage=R,B=function(){H.postMessage(null)}}else B=function(){_(R,0)};function K(A){C=A,T||(T=!0,B())}function N(A,P){w=_(function(){A(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,K(k))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var z=d;d=P;try{return A()}finally{d=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,P){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=d;d=A;try{return P()}finally{d=z}},t.unstable_scheduleCallback=function(A,P,z){var M=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?M+z:M):z=M,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,A={id:c++,callback:P,priorityLevel:A,startTime:z,expirationTime:F,sortIndex:-1},z>M?(A.sortIndex=z,e(u,A),n(l)===null&&A===n(u)&&(y?(g(w),w=-1):y=!0,N(S,z-M))):(A.sortIndex=F,e(l,A),p||f||(p=!0,K(k))),A},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(A){var P=d;return function(){var z=d;d=P;try{return A.apply(this,arguments)}finally{d=z}}}})(bg);wg.exports=bg;var v0=wg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0=I,xt=v0;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xg=new Set,ws={};function Pr(t,e){yi(t,e),yi(t+"Capture",e)}function yi(t,e){for(ws[t]=e,t=0;t<e.length;t++)xg.add(e[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=Object.prototype.hasOwnProperty,w0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,td={},nd={};function b0(t){return _u.call(nd,t)?!0:_u.call(td,t)?!1:w0.test(t)?nd[t]=!0:(td[t]=!0,!1)}function x0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S0(t,e,n,r){if(e===null||typeof e>"u"||x0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new it(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new it(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new it(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new it(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new it(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new it(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new it(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new it(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new it(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wc=/[\-:]([a-z])/g;function Vc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wc,Vc);qe[e]=new it(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wc,Vc);qe[e]=new it(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wc,Vc);qe[e]=new it(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new it(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new it(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hc(t,e,n,r){var i=qe.hasOwnProperty(e)?qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S0(e,n,i,r)&&(n=null),r||i===null?b0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wn=_0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lo=Symbol.for("react.element"),Gr=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),Kc=Symbol.for("react.strict_mode"),wu=Symbol.for("react.profiler"),Sg=Symbol.for("react.provider"),kg=Symbol.for("react.context"),qc=Symbol.for("react.forward_ref"),bu=Symbol.for("react.suspense"),xu=Symbol.for("react.suspense_list"),Gc=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),Eg=Symbol.for("react.offscreen"),rd=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=rd&&t[rd]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,El;function Yi(t){if(El===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);El=e&&e[1]||""}return`
`+El+t}var Cl=!1;function Tl(t,e){if(!t||Cl)return"";Cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yi(t):""}function k0(t){switch(t.tag){case 5:return Yi(t.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 2:case 15:return t=Tl(t.type,!1),t;case 11:return t=Tl(t.type.render,!1),t;case 1:return t=Tl(t.type,!0),t;default:return""}}function Su(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yr:return"Fragment";case Gr:return"Portal";case wu:return"Profiler";case Kc:return"StrictMode";case bu:return"Suspense";case xu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kg:return(t.displayName||"Context")+".Consumer";case Sg:return(t._context.displayName||"Context")+".Provider";case qc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gc:return e=t.displayName||null,e!==null?e:Su(t.type)||"Memo";case kn:e=t._payload,t=t._init;try{return Su(t(e))}catch{}}return null}function E0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Su(e);case 8:return e===Kc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function C0(t){var e=Cg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uo(t){t._valueTracker||(t._valueTracker=C0(t))}function Tg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function la(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ku(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function id(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Og(t,e){e=e.checked,e!=null&&Hc(t,"checked",e,!1)}function Eu(t,e){Og(t,e);var n=Gn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cu(t,e.type,Gn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cu(t,e,n){(e!=="number"||la(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ji=Array.isArray;function ai(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function od(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Ji(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gn(n)}}function Pg(t,e){var n=Gn(e.value),r=Gn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ad(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ou(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var co,Ag=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(co=co||document.createElement("div"),co.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=co.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T0=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(t){T0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ss[e]=ss[t]})});function jg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ss.hasOwnProperty(t)&&ss[t]?(""+e).trim():e+"px"}function Ig(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var O0=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pu(t,e){if(e){if(O0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Ru(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function Yc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ju=null,li=null,ui=null;function ld(t){if(t=to(t)){if(typeof ju!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Qa(e),ju(t.stateNode,t.type,e))}}function Mg(t){li?ui?ui.push(t):ui=[t]:li=t}function Lg(){if(li){var t=li,e=ui;if(ui=li=null,ld(t),e)for(t=0;t<e.length;t++)ld(e[t])}}function Dg(t,e){return t(e)}function Ng(){}var Ol=!1;function zg(t,e,n){if(Ol)return t(e,n);Ol=!0;try{return Dg(t,e,n)}finally{Ol=!1,(li!==null||ui!==null)&&(Ng(),Lg())}}function xs(t,e){var n=t.stateNode;if(n===null)return null;var r=Qa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Iu=!1;if(mn)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Iu=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Iu=!1}function P0(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var os=!1,ua=null,ca=!1,Mu=null,R0={onError:function(t){os=!0,ua=t}};function A0(t,e,n,r,i,s,o,a,l){os=!1,ua=null,P0.apply(R0,arguments)}function j0(t,e,n,r,i,s,o,a,l){if(A0.apply(this,arguments),os){if(os){var u=ua;os=!1,ua=null}else throw Error(j(198));ca||(ca=!0,Mu=u)}}function Rr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ud(t){if(Rr(t)!==t)throw Error(j(188))}function I0(t){var e=t.alternate;if(!e){if(e=Rr(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ud(i),t;if(s===r)return ud(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function Fg(t){return t=I0(t),t!==null?$g(t):null}function $g(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$g(t);if(e!==null)return e;t=t.sibling}return null}var Ug=xt.unstable_scheduleCallback,cd=xt.unstable_cancelCallback,M0=xt.unstable_shouldYield,L0=xt.unstable_requestPaint,Oe=xt.unstable_now,D0=xt.unstable_getCurrentPriorityLevel,Jc=xt.unstable_ImmediatePriority,Wg=xt.unstable_UserBlockingPriority,ha=xt.unstable_NormalPriority,N0=xt.unstable_LowPriority,Vg=xt.unstable_IdlePriority,Ga=null,Qt=null;function z0(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Ga,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:$0,B0=Math.log,F0=Math.LN2;function $0(t){return t>>>=0,t===0?32:31-(B0(t)/F0|0)|0}var ho=64,fo=4194304;function Xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function da(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Xi(a):(s&=o,s!==0&&(r=Xi(s)))}else o=n&~i,o!==0?r=Xi(o):s!==0&&(r=Xi(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bt(e),i=1<<n,r|=t[n],e&=~i;return r}function U0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Bt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=U0(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Lu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hg(){var t=ho;return ho<<=1,!(ho&4194240)&&(ho=64),t}function Pl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=n}function V0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function Kg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qg,Qc,Gg,Yg,Jg,Du=!1,po=[],zn=null,Bn=null,Fn=null,Ss=new Map,ks=new Map,Tn=[],H0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hd(t,e){switch(t){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Ss.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(e.pointerId)}}function Ni(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=to(e),e!==null&&Qc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function K0(t,e,n,r,i){switch(e){case"focusin":return zn=Ni(zn,t,e,n,r,i),!0;case"dragenter":return Bn=Ni(Bn,t,e,n,r,i),!0;case"mouseover":return Fn=Ni(Fn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ss.set(s,Ni(Ss.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ks.set(s,Ni(ks.get(s)||null,t,e,n,r,i)),!0}return!1}function Xg(t){var e=gr(t.target);if(e!==null){var n=Rr(e);if(n!==null){if(e=n.tag,e===13){if(e=Bg(n),e!==null){t.blockedOn=e,Jg(t.priority,function(){Gg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Au=r,n.target.dispatchEvent(r),Au=null}else return e=to(n),e!==null&&Qc(e),t.blockedOn=n,!1;e.shift()}return!0}function dd(t,e,n){qo(t)&&n.delete(e)}function q0(){Du=!1,zn!==null&&qo(zn)&&(zn=null),Bn!==null&&qo(Bn)&&(Bn=null),Fn!==null&&qo(Fn)&&(Fn=null),Ss.forEach(dd),ks.forEach(dd)}function zi(t,e){t.blockedOn===e&&(t.blockedOn=null,Du||(Du=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,q0)))}function Es(t){function e(i){return zi(i,t)}if(0<po.length){zi(po[0],t);for(var n=1;n<po.length;n++){var r=po[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zn!==null&&zi(zn,t),Bn!==null&&zi(Bn,t),Fn!==null&&zi(Fn,t),Ss.forEach(e),ks.forEach(e),n=0;n<Tn.length;n++)r=Tn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tn.length&&(n=Tn[0],n.blockedOn===null);)Xg(n),n.blockedOn===null&&Tn.shift()}var ci=wn.ReactCurrentBatchConfig,fa=!0;function G0(t,e,n,r){var i=ae,s=ci.transition;ci.transition=null;try{ae=1,Zc(t,e,n,r)}finally{ae=i,ci.transition=s}}function Y0(t,e,n,r){var i=ae,s=ci.transition;ci.transition=null;try{ae=4,Zc(t,e,n,r)}finally{ae=i,ci.transition=s}}function Zc(t,e,n,r){if(fa){var i=Nu(t,e,n,r);if(i===null)Bl(t,e,r,pa,n),hd(t,r);else if(K0(i,t,e,n,r))r.stopPropagation();else if(hd(t,r),e&4&&-1<H0.indexOf(t)){for(;i!==null;){var s=to(i);if(s!==null&&qg(s),s=Nu(t,e,n,r),s===null&&Bl(t,e,r,pa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bl(t,e,r,null,n)}}var pa=null;function Nu(t,e,n,r){if(pa=null,t=Yc(r),t=gr(t),t!==null)if(e=Rr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pa=t,null}function Qg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D0()){case Jc:return 1;case Wg:return 4;case ha:case N0:return 16;case Vg:return 536870912;default:return 16}default:return 16}}var Rn=null,eh=null,Go=null;function Zg(){if(Go)return Go;var t,e=eh,n=e.length,r,i="value"in Rn?Rn.value:Rn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Go=i.slice(t,1<r?1-r:void 0)}function Yo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function go(){return!0}function fd(){return!1}function kt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?go:fd,this.isPropagationStopped=fd,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),e}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},th=kt(Oi),eo=Se({},Oi,{view:0,detail:0}),J0=kt(eo),Rl,Al,Bi,Ya=Se({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bi&&(Bi&&t.type==="mousemove"?(Rl=t.screenX-Bi.screenX,Al=t.screenY-Bi.screenY):Al=Rl=0,Bi=t),Rl)},movementY:function(t){return"movementY"in t?t.movementY:Al}}),pd=kt(Ya),X0=Se({},Ya,{dataTransfer:0}),Q0=kt(X0),Z0=Se({},eo,{relatedTarget:0}),jl=kt(Z0),e_=Se({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),t_=kt(e_),n_=Se({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r_=kt(n_),i_=Se({},Oi,{data:0}),gd=kt(i_),s_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a_[t])?!!e[t]:!1}function nh(){return l_}var u_=Se({},eo,{key:function(t){if(t.key){var e=s_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nh,charCode:function(t){return t.type==="keypress"?Yo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c_=kt(u_),h_=Se({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=kt(h_),d_=Se({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nh}),f_=kt(d_),p_=Se({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),g_=kt(p_),m_=Se({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y_=kt(m_),v_=[9,13,27,32],rh=mn&&"CompositionEvent"in window,as=null;mn&&"documentMode"in document&&(as=document.documentMode);var __=mn&&"TextEvent"in window&&!as,em=mn&&(!rh||as&&8<as&&11>=as),yd=" ",vd=!1;function tm(t,e){switch(t){case"keyup":return v_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jr=!1;function w_(t,e){switch(t){case"compositionend":return nm(e);case"keypress":return e.which!==32?null:(vd=!0,yd);case"textInput":return t=e.data,t===yd&&vd?null:t;default:return null}}function b_(t,e){if(Jr)return t==="compositionend"||!rh&&tm(t,e)?(t=Zg(),Go=eh=Rn=null,Jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return em&&e.locale!=="ko"?null:e.data;default:return null}}var x_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!x_[t.type]:e==="textarea"}function rm(t,e,n,r){Mg(r),e=ga(e,"onChange"),0<e.length&&(n=new th("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ls=null,Cs=null;function S_(t){pm(t,0)}function Ja(t){var e=Zr(t);if(Tg(e))return t}function k_(t,e){if(t==="change")return e}var im=!1;if(mn){var Il;if(mn){var Ml="oninput"in document;if(!Ml){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),Ml=typeof wd.oninput=="function"}Il=Ml}else Il=!1;im=Il&&(!document.documentMode||9<document.documentMode)}function bd(){ls&&(ls.detachEvent("onpropertychange",sm),Cs=ls=null)}function sm(t){if(t.propertyName==="value"&&Ja(Cs)){var e=[];rm(e,Cs,t,Yc(t)),zg(S_,e)}}function E_(t,e,n){t==="focusin"?(bd(),ls=e,Cs=n,ls.attachEvent("onpropertychange",sm)):t==="focusout"&&bd()}function C_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ja(Cs)}function T_(t,e){if(t==="click")return Ja(e)}function O_(t,e){if(t==="input"||t==="change")return Ja(e)}function P_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:P_;function Ts(t,e){if($t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_u.call(e,i)||!$t(t[i],e[i]))return!1}return!0}function xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sd(t,e){var n=xd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xd(n)}}function om(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?om(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function am(){for(var t=window,e=la();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=la(t.document)}return e}function ih(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R_(t){var e=am(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&om(n.ownerDocument.documentElement,n)){if(r!==null&&ih(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Sd(n,s);var o=Sd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A_=mn&&"documentMode"in document&&11>=document.documentMode,Xr=null,zu=null,us=null,Bu=!1;function kd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bu||Xr==null||Xr!==la(r)||(r=Xr,"selectionStart"in r&&ih(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),us&&Ts(us,r)||(us=r,r=ga(zu,"onSelect"),0<r.length&&(e=new th("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xr)))}function mo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qr={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionend:mo("Transition","TransitionEnd")},Ll={},lm={};mn&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function Xa(t){if(Ll[t])return Ll[t];if(!Qr[t])return t;var e=Qr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lm)return Ll[t]=e[n];return t}var um=Xa("animationend"),cm=Xa("animationiteration"),hm=Xa("animationstart"),dm=Xa("transitionend"),fm=new Map,Ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(t,e){fm.set(t,e),Pr(e,[t])}for(var Dl=0;Dl<Ed.length;Dl++){var Nl=Ed[Dl],j_=Nl.toLowerCase(),I_=Nl[0].toUpperCase()+Nl.slice(1);Xn(j_,"on"+I_)}Xn(um,"onAnimationEnd");Xn(cm,"onAnimationIteration");Xn(hm,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(dm,"onTransitionEnd");yi("onMouseEnter",["mouseout","mouseover"]);yi("onMouseLeave",["mouseout","mouseover"]);yi("onPointerEnter",["pointerout","pointerover"]);yi("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function Cd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,j0(r,e,void 0,t),t.currentTarget=null}function pm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Cd(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Cd(i,a,u),s=l}}}if(ca)throw t=Mu,ca=!1,Mu=null,t}function fe(t,e){var n=e[Vu];n===void 0&&(n=e[Vu]=new Set);var r=t+"__bubble";n.has(r)||(gm(e,t,2,!1),n.add(r))}function zl(t,e,n){var r=0;e&&(r|=4),gm(n,t,r,e)}var yo="_reactListening"+Math.random().toString(36).slice(2);function Os(t){if(!t[yo]){t[yo]=!0,xg.forEach(function(n){n!=="selectionchange"&&(M_.has(n)||zl(n,!1,t),zl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yo]||(e[yo]=!0,zl("selectionchange",!1,e))}}function gm(t,e,n,r){switch(Qg(e)){case 1:var i=G0;break;case 4:i=Y0;break;default:i=Zc}n=i.bind(null,e,n,t),i=void 0,!Iu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zg(function(){var u=s,c=Yc(n),h=[];e:{var d=fm.get(t);if(d!==void 0){var f=th,p=t;switch(t){case"keypress":if(Yo(n)===0)break e;case"keydown":case"keyup":f=c_;break;case"focusin":p="focus",f=jl;break;case"focusout":p="blur",f=jl;break;case"beforeblur":case"afterblur":f=jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=f_;break;case um:case cm:case hm:f=t_;break;case dm:f=g_;break;case"scroll":f=J0;break;case"wheel":f=y_;break;case"copy":case"cut":case"paste":f=r_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=md}var y=(e&4)!==0,_=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var m=u,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,g!==null&&(S=xs(m,g),S!=null&&y.push(Ps(m,S,v)))),_)break;m=m.return}0<y.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Au&&(p=n.relatedTarget||n.fromElement)&&(gr(p)||p[yn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?gr(p):null,p!==null&&(_=Rr(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(y=pd,S="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=md,S="onPointerLeave",g="onPointerEnter",m="pointer"),_=f==null?d:Zr(f),v=p==null?d:Zr(p),d=new y(S,m+"leave",f,n,c),d.target=_,d.relatedTarget=v,S=null,gr(c)===u&&(y=new y(g,m+"enter",p,n,c),y.target=v,y.relatedTarget=_,S=y),_=S,f&&p)t:{for(y=f,g=p,m=0,v=y;v;v=Lr(v))m++;for(v=0,S=g;S;S=Lr(S))v++;for(;0<m-v;)y=Lr(y),m--;for(;0<v-m;)g=Lr(g),v--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=Lr(y),g=Lr(g)}y=null}else y=null;f!==null&&Td(h,d,f,y,!1),p!==null&&_!==null&&Td(h,_,p,y,!0)}}e:{if(d=u?Zr(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var k=k_;else if(_d(d))if(im)k=O_;else{k=C_;var T=E_}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=T_);if(k&&(k=k(t,u))){rm(h,k,n,c);break e}T&&T(t,d,u),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&Cu(d,"number",d.value)}switch(T=u?Zr(u):window,t){case"focusin":(_d(T)||T.contentEditable==="true")&&(Xr=T,zu=u,us=null);break;case"focusout":us=zu=Xr=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,kd(h,n,c);break;case"selectionchange":if(A_)break;case"keydown":case"keyup":kd(h,n,c)}var C;if(rh)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Jr?tm(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(em&&n.locale!=="ko"&&(Jr||w!=="onCompositionStart"?w==="onCompositionEnd"&&Jr&&(C=Zg()):(Rn=c,eh="value"in Rn?Rn.value:Rn.textContent,Jr=!0)),T=ga(u,w),0<T.length&&(w=new gd(w,t,null,n,c),h.push({event:w,listeners:T}),C?w.data=C:(C=nm(n),C!==null&&(w.data=C)))),(C=__?w_(t,n):b_(t,n))&&(u=ga(u,"onBeforeInput"),0<u.length&&(c=new gd("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=C))}pm(h,e)})}function Ps(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ga(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xs(t,n),s!=null&&r.unshift(Ps(t,s,i)),s=xs(t,e),s!=null&&r.push(Ps(t,s,i))),t=t.return}return r}function Lr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Td(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=xs(n,s),l!=null&&o.unshift(Ps(n,l,a))):i||(l=xs(n,s),l!=null&&o.push(Ps(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var L_=/\r\n?/g,D_=/\u0000|\uFFFD/g;function Od(t){return(typeof t=="string"?t:""+t).replace(L_,`
`).replace(D_,"")}function vo(t,e,n){if(e=Od(e),Od(t)!==e&&n)throw Error(j(425))}function ma(){}var Fu=null,$u=null;function Uu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wu=typeof setTimeout=="function"?setTimeout:void 0,N_=typeof clearTimeout=="function"?clearTimeout:void 0,Pd=typeof Promise=="function"?Promise:void 0,z_=typeof queueMicrotask=="function"?queueMicrotask:typeof Pd<"u"?function(t){return Pd.resolve(null).then(t).catch(B_)}:Wu;function B_(t){setTimeout(function(){throw t})}function Fl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Es(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Es(e)}function $n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Pi,Rs="__reactProps$"+Pi,yn="__reactContainer$"+Pi,Vu="__reactEvents$"+Pi,F_="__reactListeners$"+Pi,$_="__reactHandles$"+Pi;function gr(t){var e=t[Xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yn]||n[Xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rd(t);t!==null;){if(n=t[Xt])return n;t=Rd(t)}return e}t=n,n=t.parentNode}return null}function to(t){return t=t[Xt]||t[yn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Qa(t){return t[Rs]||null}var Hu=[],ei=-1;function Qn(t){return{current:t}}function ge(t){0>ei||(t.current=Hu[ei],Hu[ei]=null,ei--)}function de(t,e){ei++,Hu[ei]=t.current,t.current=e}var Yn={},Ze=Qn(Yn),dt=Qn(!1),xr=Yn;function vi(t,e){var n=t.type.contextTypes;if(!n)return Yn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ft(t){return t=t.childContextTypes,t!=null}function ya(){ge(dt),ge(Ze)}function Ad(t,e,n){if(Ze.current!==Yn)throw Error(j(168));de(Ze,e),de(dt,n)}function mm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,E0(t)||"Unknown",i));return Se({},n,r)}function va(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yn,xr=Ze.current,de(Ze,t),de(dt,dt.current),!0}function jd(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=mm(t,e,xr),r.__reactInternalMemoizedMergedChildContext=t,ge(dt),ge(Ze),de(Ze,t)):ge(dt),de(dt,n)}var un=null,Za=!1,$l=!1;function ym(t){un===null?un=[t]:un.push(t)}function U_(t){Za=!0,ym(t)}function Zn(){if(!$l&&un!==null){$l=!0;var t=0,e=ae;try{var n=un;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}un=null,Za=!1}catch(i){throw un!==null&&(un=un.slice(t+1)),Ug(Jc,Zn),i}finally{ae=e,$l=!1}}return null}var ti=[],ni=0,_a=null,wa=0,Ct=[],Tt=0,Sr=null,hn=1,dn="";function ar(t,e){ti[ni++]=wa,ti[ni++]=_a,_a=t,wa=e}function vm(t,e,n){Ct[Tt++]=hn,Ct[Tt++]=dn,Ct[Tt++]=Sr,Sr=t;var r=hn;t=dn;var i=32-Bt(r)-1;r&=~(1<<i),n+=1;var s=32-Bt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hn=1<<32-Bt(e)+i|n<<i|r,dn=s+t}else hn=1<<s|n<<i|r,dn=t}function sh(t){t.return!==null&&(ar(t,1),vm(t,1,0))}function oh(t){for(;t===_a;)_a=ti[--ni],ti[ni]=null,wa=ti[--ni],ti[ni]=null;for(;t===Sr;)Sr=Ct[--Tt],Ct[Tt]=null,dn=Ct[--Tt],Ct[Tt]=null,hn=Ct[--Tt],Ct[Tt]=null}var bt=null,wt=null,_e=!1,zt=null;function _m(t,e){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Id(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bt=t,wt=$n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bt=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Sr!==null?{id:hn,overflow:dn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bt=t,wt=null,!0):!1;default:return!1}}function Ku(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qu(t){if(_e){var e=wt;if(e){var n=e;if(!Id(t,e)){if(Ku(t))throw Error(j(418));e=$n(n.nextSibling);var r=bt;e&&Id(t,e)?_m(r,n):(t.flags=t.flags&-4097|2,_e=!1,bt=t)}}else{if(Ku(t))throw Error(j(418));t.flags=t.flags&-4097|2,_e=!1,bt=t}}}function Md(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bt=t}function _o(t){if(t!==bt)return!1;if(!_e)return Md(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uu(t.type,t.memoizedProps)),e&&(e=wt)){if(Ku(t))throw wm(),Error(j(418));for(;e;)_m(t,e),e=$n(e.nextSibling)}if(Md(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wt=$n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=bt?$n(t.stateNode.nextSibling):null;return!0}function wm(){for(var t=wt;t;)t=$n(t.nextSibling)}function _i(){wt=bt=null,_e=!1}function ah(t){zt===null?zt=[t]:zt.push(t)}var W_=wn.ReactCurrentBatchConfig;function Fi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function wo(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ld(t){var e=t._init;return e(t._payload)}function bm(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Hn(g,m),g.index=0,g.sibling=null,g}function s(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,S){return m===null||m.tag!==6?(m=Gl(v,g.mode,S),m.return=g,m):(m=i(m,v),m.return=g,m)}function l(g,m,v,S){var k=v.type;return k===Yr?c(g,m,v.props.children,S,v.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===kn&&Ld(k)===m.type)?(S=i(m,v.props),S.ref=Fi(g,m,v),S.return=g,S):(S=na(v.type,v.key,v.props,null,g.mode,S),S.ref=Fi(g,m,v),S.return=g,S)}function u(g,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Yl(v,g.mode,S),m.return=g,m):(m=i(m,v.children||[]),m.return=g,m)}function c(g,m,v,S,k){return m===null||m.tag!==7?(m=wr(v,g.mode,S,k),m.return=g,m):(m=i(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Gl(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case lo:return v=na(m.type,m.key,m.props,null,g.mode,v),v.ref=Fi(g,null,m),v.return=g,v;case Gr:return m=Yl(m,g.mode,v),m.return=g,m;case kn:var S=m._init;return h(g,S(m._payload),v)}if(Ji(m)||Li(m))return m=wr(m,g.mode,v,null),m.return=g,m;wo(g,m)}return null}function d(g,m,v,S){var k=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(g,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lo:return v.key===k?l(g,m,v,S):null;case Gr:return v.key===k?u(g,m,v,S):null;case kn:return k=v._init,d(g,m,k(v._payload),S)}if(Ji(v)||Li(v))return k!==null?null:c(g,m,v,S,null);wo(g,v)}return null}function f(g,m,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(v)||null,a(m,g,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lo:return g=g.get(S.key===null?v:S.key)||null,l(m,g,S,k);case Gr:return g=g.get(S.key===null?v:S.key)||null,u(m,g,S,k);case kn:var T=S._init;return f(g,m,v,T(S._payload),k)}if(Ji(S)||Li(S))return g=g.get(v)||null,c(m,g,S,k,null);wo(m,S)}return null}function p(g,m,v,S){for(var k=null,T=null,C=m,w=m=0,x=null;C!==null&&w<v.length;w++){C.index>w?(x=C,C=null):x=C.sibling;var E=d(g,C,v[w],S);if(E===null){C===null&&(C=x);break}t&&C&&E.alternate===null&&e(g,C),m=s(E,m,w),T===null?k=E:T.sibling=E,T=E,C=x}if(w===v.length)return n(g,C),_e&&ar(g,w),k;if(C===null){for(;w<v.length;w++)C=h(g,v[w],S),C!==null&&(m=s(C,m,w),T===null?k=C:T.sibling=C,T=C);return _e&&ar(g,w),k}for(C=r(g,C);w<v.length;w++)x=f(C,g,w,v[w],S),x!==null&&(t&&x.alternate!==null&&C.delete(x.key===null?w:x.key),m=s(x,m,w),T===null?k=x:T.sibling=x,T=x);return t&&C.forEach(function(O){return e(g,O)}),_e&&ar(g,w),k}function y(g,m,v,S){var k=Li(v);if(typeof k!="function")throw Error(j(150));if(v=k.call(v),v==null)throw Error(j(151));for(var T=k=null,C=m,w=m=0,x=null,E=v.next();C!==null&&!E.done;w++,E=v.next()){C.index>w?(x=C,C=null):x=C.sibling;var O=d(g,C,E.value,S);if(O===null){C===null&&(C=x);break}t&&C&&O.alternate===null&&e(g,C),m=s(O,m,w),T===null?k=O:T.sibling=O,T=O,C=x}if(E.done)return n(g,C),_e&&ar(g,w),k;if(C===null){for(;!E.done;w++,E=v.next())E=h(g,E.value,S),E!==null&&(m=s(E,m,w),T===null?k=E:T.sibling=E,T=E);return _e&&ar(g,w),k}for(C=r(g,C);!E.done;w++,E=v.next())E=f(C,g,w,E.value,S),E!==null&&(t&&E.alternate!==null&&C.delete(E.key===null?w:E.key),m=s(E,m,w),T===null?k=E:T.sibling=E,T=E);return t&&C.forEach(function(R){return e(g,R)}),_e&&ar(g,w),k}function _(g,m,v,S){if(typeof v=="object"&&v!==null&&v.type===Yr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case lo:e:{for(var k=v.key,T=m;T!==null;){if(T.key===k){if(k=v.type,k===Yr){if(T.tag===7){n(g,T.sibling),m=i(T,v.props.children),m.return=g,g=m;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===kn&&Ld(k)===T.type){n(g,T.sibling),m=i(T,v.props),m.ref=Fi(g,T,v),m.return=g,g=m;break e}n(g,T);break}else e(g,T);T=T.sibling}v.type===Yr?(m=wr(v.props.children,g.mode,S,v.key),m.return=g,g=m):(S=na(v.type,v.key,v.props,null,g.mode,S),S.ref=Fi(g,m,v),S.return=g,g=S)}return o(g);case Gr:e:{for(T=v.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=i(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Yl(v,g.mode,S),m.return=g,g=m}return o(g);case kn:return T=v._init,_(g,m,T(v._payload),S)}if(Ji(v))return p(g,m,v,S);if(Li(v))return y(g,m,v,S);wo(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,v),m.return=g,g=m):(n(g,m),m=Gl(v,g.mode,S),m.return=g,g=m),o(g)):n(g,m)}return _}var wi=bm(!0),xm=bm(!1),ba=Qn(null),xa=null,ri=null,lh=null;function uh(){lh=ri=xa=null}function ch(t){var e=ba.current;ge(ba),t._currentValue=e}function Gu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hi(t,e){xa=t,lh=ri=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ut=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(lh!==t)if(t={context:t,memoizedValue:e,next:null},ri===null){if(xa===null)throw Error(j(308));ri=t,xa.dependencies={lanes:0,firstContext:t}}else ri=ri.next=t;return e}var mr=null;function hh(t){mr===null?mr=[t]:mr.push(t)}function Sm(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hh(e)):(n.next=i.next,i.next=n),e.interleaved=n,vn(t,r)}function vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var En=!1;function dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function km(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Un(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vn(t,n)}return i=r.interleaved,i===null?(e.next=e,hh(r)):(e.next=i.next,i.next=e),r.interleaved=e,vn(t,n)}function Jo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xc(t,n)}}function Dd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sa(t,e,n,r){var i=t.updateQueue;En=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,y=a;switch(d=e,f=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Se({},h,d);break e;case 2:En=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Er|=o,t.lanes=o,t.memoizedState=h}}function Nd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var no={},Zt=Qn(no),As=Qn(no),js=Qn(no);function yr(t){if(t===no)throw Error(j(174));return t}function fh(t,e){switch(de(js,e),de(As,t),de(Zt,no),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ou(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ou(e,t)}ge(Zt),de(Zt,e)}function bi(){ge(Zt),ge(As),ge(js)}function Em(t){yr(js.current);var e=yr(Zt.current),n=Ou(e,t.type);e!==n&&(de(As,t),de(Zt,n))}function ph(t){As.current===t&&(ge(Zt),ge(As))}var we=Qn(0);function ka(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ul=[];function gh(){for(var t=0;t<Ul.length;t++)Ul[t]._workInProgressVersionPrimary=null;Ul.length=0}var Xo=wn.ReactCurrentDispatcher,Wl=wn.ReactCurrentBatchConfig,kr=0,xe=null,Me=null,Fe=null,Ea=!1,cs=!1,Is=0,V_=0;function Je(){throw Error(j(321))}function mh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$t(t[n],e[n]))return!1;return!0}function yh(t,e,n,r,i,s){if(kr=s,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xo.current=t===null||t.memoizedState===null?G_:Y_,t=n(r,i),cs){s=0;do{if(cs=!1,Is=0,25<=s)throw Error(j(301));s+=1,Fe=Me=null,e.updateQueue=null,Xo.current=J_,t=n(r,i)}while(cs)}if(Xo.current=Ca,e=Me!==null&&Me.next!==null,kr=0,Fe=Me=xe=null,Ea=!1,e)throw Error(j(300));return t}function vh(){var t=Is!==0;return Is=0,t}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?xe.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function At(){if(Me===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=Fe===null?xe.memoizedState:Fe.next;if(e!==null)Fe=e,Me=t;else{if(t===null)throw Error(j(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Fe===null?xe.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function Ms(t,e){return typeof e=="function"?e(t):e}function Vl(t){var e=At(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((kr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,xe.lanes|=c,Er|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,$t(r,e.memoizedState)||(ut=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xe.lanes|=s,Er|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hl(t){var e=At(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);$t(s,e.memoizedState)||(ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Cm(){}function Tm(t,e){var n=xe,r=At(),i=e(),s=!$t(r.memoizedState,i);if(s&&(r.memoizedState=i,ut=!0),r=r.queue,_h(Rm.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Ls(9,Pm.bind(null,n,r,i,e),void 0,null),$e===null)throw Error(j(349));kr&30||Om(n,e,i)}return i}function Om(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Pm(t,e,n,r){e.value=n,e.getSnapshot=r,Am(e)&&jm(t)}function Rm(t,e,n){return n(function(){Am(e)&&jm(t)})}function Am(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function jm(t){var e=vn(t,1);e!==null&&Ft(e,t,1,-1)}function zd(t){var e=Yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:t},e.queue=t,t=t.dispatch=q_.bind(null,xe,t),[e.memoizedState,t]}function Ls(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Im(){return At().memoizedState}function Qo(t,e,n,r){var i=Yt();xe.flags|=t,i.memoizedState=Ls(1|e,n,void 0,r===void 0?null:r)}function el(t,e,n,r){var i=At();r=r===void 0?null:r;var s=void 0;if(Me!==null){var o=Me.memoizedState;if(s=o.destroy,r!==null&&mh(r,o.deps)){i.memoizedState=Ls(e,n,s,r);return}}xe.flags|=t,i.memoizedState=Ls(1|e,n,s,r)}function Bd(t,e){return Qo(8390656,8,t,e)}function _h(t,e){return el(2048,8,t,e)}function Mm(t,e){return el(4,2,t,e)}function Lm(t,e){return el(4,4,t,e)}function Dm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nm(t,e,n){return n=n!=null?n.concat([t]):null,el(4,4,Dm.bind(null,e,t),n)}function wh(){}function zm(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bm(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Fm(t,e,n){return kr&21?($t(n,e)||(n=Hg(),xe.lanes|=n,Er|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=n)}function H_(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=Wl.transition;Wl.transition={};try{t(!1),e()}finally{ae=n,Wl.transition=r}}function $m(){return At().memoizedState}function K_(t,e,n){var r=Vn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Um(t))Wm(e,n);else if(n=Sm(t,e,n,r),n!==null){var i=nt();Ft(n,t,r,i),Vm(n,e,r)}}function q_(t,e,n){var r=Vn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Um(t))Wm(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,$t(a,o)){var l=e.interleaved;l===null?(i.next=i,hh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Sm(t,e,i,r),n!==null&&(i=nt(),Ft(n,t,r,i),Vm(n,e,r))}}function Um(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function Wm(t,e){cs=Ea=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xc(t,n)}}var Ca={readContext:Rt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},G_={readContext:Rt,useCallback:function(t,e){return Yt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:Bd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qo(4194308,4,Dm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qo(4,2,t,e)},useMemo:function(t,e){var n=Yt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=K_.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=Yt();return t={current:t},e.memoizedState=t},useState:zd,useDebugValue:wh,useDeferredValue:function(t){return Yt().memoizedState=t},useTransition:function(){var t=zd(!1),e=t[0];return t=H_.bind(null,t[1]),Yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=Yt();if(_e){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),$e===null)throw Error(j(349));kr&30||Om(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Bd(Rm.bind(null,r,s,t),[t]),r.flags|=2048,Ls(9,Pm.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Yt(),e=$e.identifierPrefix;if(_e){var n=dn,r=hn;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Is++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=V_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Y_={readContext:Rt,useCallback:zm,useContext:Rt,useEffect:_h,useImperativeHandle:Nm,useInsertionEffect:Mm,useLayoutEffect:Lm,useMemo:Bm,useReducer:Vl,useRef:Im,useState:function(){return Vl(Ms)},useDebugValue:wh,useDeferredValue:function(t){var e=At();return Fm(e,Me.memoizedState,t)},useTransition:function(){var t=Vl(Ms)[0],e=At().memoizedState;return[t,e]},useMutableSource:Cm,useSyncExternalStore:Tm,useId:$m,unstable_isNewReconciler:!1},J_={readContext:Rt,useCallback:zm,useContext:Rt,useEffect:_h,useImperativeHandle:Nm,useInsertionEffect:Mm,useLayoutEffect:Lm,useMemo:Bm,useReducer:Hl,useRef:Im,useState:function(){return Hl(Ms)},useDebugValue:wh,useDeferredValue:function(t){var e=At();return Me===null?e.memoizedState=t:Fm(e,Me.memoizedState,t)},useTransition:function(){var t=Hl(Ms)[0],e=At().memoizedState;return[t,e]},useMutableSource:Cm,useSyncExternalStore:Tm,useId:$m,unstable_isNewReconciler:!1};function Mt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tl={isMounted:function(t){return(t=t._reactInternals)?Rr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nt(),i=Vn(t),s=gn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Un(t,s,i),e!==null&&(Ft(e,t,i,r),Jo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nt(),i=Vn(t),s=gn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Un(t,s,i),e!==null&&(Ft(e,t,i,r),Jo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nt(),r=Vn(t),i=gn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Un(t,i,r),e!==null&&(Ft(e,t,r,n),Jo(e,t,r))}};function Fd(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ts(n,r)||!Ts(i,s):!0}function Hm(t,e,n){var r=!1,i=Yn,s=e.contextType;return typeof s=="object"&&s!==null?s=Rt(s):(i=ft(e)?xr:Ze.current,r=e.contextTypes,s=(r=r!=null)?vi(t,i):Yn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $d(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tl.enqueueReplaceState(e,e.state,null)}function Ju(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},dh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rt(s):(s=ft(e)?xr:Ze.current,i.context=vi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tl.enqueueReplaceState(i,i.state,null),Sa(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xi(t,e){try{var n="",r=e;do n+=k0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Kl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var X_=typeof WeakMap=="function"?WeakMap:Map;function Km(t,e,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Oa||(Oa=!0,ac=r),Xu(t,e)},n}function qm(t,e,n){n=gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xu(t,e),typeof r!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ud(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new X_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hw.bind(null,t,e,n),e.then(t,t))}function Wd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gn(-1,1),e.tag=2,Un(n,e,1))),n.lanes|=1),t)}var Q_=wn.ReactCurrentOwner,ut=!1;function tt(t,e,n,r){e.child=t===null?xm(e,null,n,r):wi(e,t.child,n,r)}function Hd(t,e,n,r,i){n=n.render;var s=e.ref;return hi(e,i),r=yh(t,e,n,r,s,i),n=vh(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_n(t,e,i)):(_e&&n&&sh(e),e.flags|=1,tt(t,e,r,i),e.child)}function Kd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Oh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Gm(t,e,s,r,i)):(t=na(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ts,n(o,r)&&t.ref===e.ref)return _n(t,e,i)}return e.flags|=1,t=Hn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Gm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ts(s,r)&&t.ref===e.ref)if(ut=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,_n(t,e,i)}return Qu(t,e,n,r,i)}function Ym(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(si,yt),yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(si,yt),yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,de(si,yt),yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,de(si,yt),yt|=r;return tt(t,e,i,n),e.child}function Jm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qu(t,e,n,r,i){var s=ft(n)?xr:Ze.current;return s=vi(e,s),hi(e,i),n=yh(t,e,n,r,s,i),r=vh(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_n(t,e,i)):(_e&&r&&sh(e),e.flags|=1,tt(t,e,n,i),e.child)}function qd(t,e,n,r,i){if(ft(n)){var s=!0;va(e)}else s=!1;if(hi(e,i),e.stateNode===null)Zo(t,e),Hm(e,n,r),Ju(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=ft(n)?xr:Ze.current,u=vi(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&$d(e,o,r,u),En=!1;var d=e.memoizedState;o.state=d,Sa(e,r,o,i),l=e.memoizedState,a!==r||d!==l||dt.current||En?(typeof c=="function"&&(Yu(e,n,c,r),l=e.memoizedState),(a=En||Fd(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,km(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rt(l):(l=ft(n)?xr:Ze.current,l=vi(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&$d(e,o,r,l),En=!1,d=e.memoizedState,o.state=d,Sa(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||dt.current||En?(typeof f=="function"&&(Yu(e,n,f,r),p=e.memoizedState),(u=En||Fd(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Zu(t,e,n,r,s,i)}function Zu(t,e,n,r,i,s){Jm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&jd(e,n,!1),_n(t,e,s);r=e.stateNode,Q_.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wi(e,t.child,null,s),e.child=wi(e,null,a,s)):tt(t,e,a,s),e.memoizedState=r.state,i&&jd(e,n,!0),e.child}function Xm(t){var e=t.stateNode;e.pendingContext?Ad(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ad(t,e.context,!1),fh(t,e.containerInfo)}function Gd(t,e,n,r,i){return _i(),ah(i),e.flags|=256,tt(t,e,n,r),e.child}var ec={dehydrated:null,treeContext:null,retryLane:0};function tc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qm(t,e,n){var r=e.pendingProps,i=we.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),de(we,i&1),t===null)return qu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=il(o,r,0,null),t=wr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tc(n),e.memoizedState=ec,t):bh(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Z_(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hn(a,s):(s=wr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ec,r}return s=t.child,t=s.sibling,r=Hn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bh(t,e){return e=il({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bo(t,e,n,r){return r!==null&&ah(r),wi(e,t.child,null,n),t=bh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Z_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Kl(Error(j(422))),bo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=il({mode:"visible",children:r.children},i,0,null),s=wr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wi(e,t.child,null,o),e.child.memoizedState=tc(o),e.memoizedState=ec,s);if(!(e.mode&1))return bo(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=Kl(s,r,void 0),bo(t,e,o,r)}if(a=(o&t.childLanes)!==0,ut||a){if(r=$e,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vn(t,i),Ft(r,t,i,-1))}return Th(),r=Kl(Error(j(421))),bo(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dw.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wt=$n(i.nextSibling),bt=e,_e=!0,zt=null,t!==null&&(Ct[Tt++]=hn,Ct[Tt++]=dn,Ct[Tt++]=Sr,hn=t.id,dn=t.overflow,Sr=e),e=bh(e,r.children),e.flags|=4096,e)}function Yd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gu(t.return,e,n)}function ql(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Zm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tt(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yd(t,n,e);else if(t.tag===19)Yd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(de(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ka(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ql(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ka(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ql(e,!0,n,null,s);break;case"together":ql(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Er|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ew(t,e,n){switch(e.tag){case 3:Xm(e),_i();break;case 5:Em(e);break;case 1:ft(e.type)&&va(e);break;case 4:fh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;de(ba,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(de(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?Qm(t,e,n):(de(we,we.current&1),t=_n(t,e,n),t!==null?t.sibling:null);de(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Zm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,Ym(t,e,n)}return _n(t,e,n)}var ey,nc,ty,ny;ey=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nc=function(){};ty=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yr(Zt.current);var s=null;switch(n){case"input":i=ku(t,i),r=ku(t,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=Tu(t,i),r=Tu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ma)}Pu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ws.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ws.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ny=function(t,e,n,r){n!==r&&(e.flags|=4)};function $i(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tw(t,e,n){var r=e.pendingProps;switch(oh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return ft(e.type)&&ya(),Xe(e),null;case 3:return r=e.stateNode,bi(),ge(dt),ge(Ze),gh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_o(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zt!==null&&(cc(zt),zt=null))),nc(t,e),Xe(e),null;case 5:ph(e);var i=yr(js.current);if(n=e.type,t!==null&&e.stateNode!=null)ty(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Xe(e),null}if(t=yr(Zt.current),_o(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xt]=e,r[Rs]=s,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(i=0;i<Qi.length;i++)fe(Qi[i],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":id(r,s),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fe("invalid",r);break;case"textarea":od(r,s),fe("invalid",r)}Pu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vo(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vo(r.textContent,a,t),i=["children",""+a]):ws.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":uo(r),sd(r,s,!0);break;case"textarea":uo(r),ad(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ma)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xt]=e,t[Rs]=r,ey(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ru(n,r),n){case"dialog":fe("cancel",t),fe("close",t),i=r;break;case"iframe":case"object":case"embed":fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qi.length;i++)fe(Qi[i],t);i=r;break;case"source":fe("error",t),i=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),i=r;break;case"details":fe("toggle",t),i=r;break;case"input":id(t,r),i=ku(t,r),fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),fe("invalid",t);break;case"textarea":od(t,r),i=Tu(t,r),fe("invalid",t);break;default:i=r}Pu(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ig(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ag(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bs(t,l):typeof l=="number"&&bs(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ws.hasOwnProperty(s)?l!=null&&s==="onScroll"&&fe("scroll",t):l!=null&&Hc(t,s,l,o))}switch(n){case"input":uo(t),sd(t,r,!1);break;case"textarea":uo(t),ad(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ai(t,!!r.multiple,s,!1):r.defaultValue!=null&&ai(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ma)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)ny(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=yr(js.current),yr(Zt.current),_o(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xt]=e,(s=r.nodeValue!==n)&&(t=bt,t!==null))switch(t.tag){case 3:vo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xt]=e,e.stateNode=r}return Xe(e),null;case 13:if(ge(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&wt!==null&&e.mode&1&&!(e.flags&128))wm(),_i(),e.flags|=98560,s=!1;else if(s=_o(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Xt]=e}else _i(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),s=!1}else zt!==null&&(cc(zt),zt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?De===0&&(De=3):Th())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return bi(),nc(t,e),t===null&&Os(e.stateNode.containerInfo),Xe(e),null;case 10:return ch(e.type._context),Xe(e),null;case 17:return ft(e.type)&&ya(),Xe(e),null;case 19:if(ge(we),s=e.memoizedState,s===null)return Xe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)$i(s,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ka(t),o!==null){for(e.flags|=128,$i(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(we,we.current&1|2),e.child}t=t.sibling}s.tail!==null&&Oe()>Si&&(e.flags|=128,r=!0,$i(s,!1),e.lanes=4194304)}else{if(!r)if(t=ka(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$i(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_e)return Xe(e),null}else 2*Oe()-s.renderingStartTime>Si&&n!==1073741824&&(e.flags|=128,r=!0,$i(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,n=we.current,de(we,r?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return Ch(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function nw(t,e){switch(oh(e),e.tag){case 1:return ft(e.type)&&ya(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bi(),ge(dt),ge(Ze),gh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ph(e),null;case 13:if(ge(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));_i()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(we),null;case 4:return bi(),null;case 10:return ch(e.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var xo=!1,Qe=!1,rw=typeof WeakSet=="function"?WeakSet:Set,L=null;function ii(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(t,e,r)}else n.current=null}function rc(t,e,n){try{n()}catch(r){Ce(t,e,r)}}var Jd=!1;function iw(t,e){if(Fu=fa,t=am(),ih(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($u={focusedElem:t,selectionRange:n},fa=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,_=p.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Mt(e.type,y),_);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(S){Ce(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return p=Jd,Jd=!1,p}function hs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rc(e,n,s)}i=i.next}while(i!==r)}}function nl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ic(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ry(t){var e=t.alternate;e!==null&&(t.alternate=null,ry(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xt],delete e[Rs],delete e[Vu],delete e[F_],delete e[$_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iy(t){return t.tag===5||t.tag===3||t.tag===4}function Xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ma));else if(r!==4&&(t=t.child,t!==null))for(sc(t,e,n),t=t.sibling;t!==null;)sc(t,e,n),t=t.sibling}function oc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(oc(t,e,n),t=t.sibling;t!==null;)oc(t,e,n),t=t.sibling}var He=null,Dt=!1;function xn(t,e,n){for(n=n.child;n!==null;)sy(t,e,n),n=n.sibling}function sy(t,e,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Ga,n)}catch{}switch(n.tag){case 5:Qe||ii(n,e);case 6:var r=He,i=Dt;He=null,xn(t,e,n),He=r,Dt=i,He!==null&&(Dt?(t=He,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Dt?(t=He,n=n.stateNode,t.nodeType===8?Fl(t.parentNode,n):t.nodeType===1&&Fl(t,n),Es(t)):Fl(He,n.stateNode));break;case 4:r=He,i=Dt,He=n.stateNode.containerInfo,Dt=!0,xn(t,e,n),He=r,Dt=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rc(n,e,o),i=i.next}while(i!==r)}xn(t,e,n);break;case 1:if(!Qe&&(ii(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,e,a)}xn(t,e,n);break;case 21:xn(t,e,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,xn(t,e,n),Qe=r):xn(t,e,n);break;default:xn(t,e,n)}}function Qd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rw),e.forEach(function(r){var i=fw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:He=a.stateNode,Dt=!1;break e;case 3:He=a.stateNode.containerInfo,Dt=!0;break e;case 4:He=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(He===null)throw Error(j(160));sy(s,o,i),He=null,Dt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ce(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oy(e,t),e=e.sibling}function oy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jt(e,t),Kt(t),r&4){try{hs(3,t,t.return),nl(3,t)}catch(y){Ce(t,t.return,y)}try{hs(5,t,t.return)}catch(y){Ce(t,t.return,y)}}break;case 1:jt(e,t),Kt(t),r&512&&n!==null&&ii(n,n.return);break;case 5:if(jt(e,t),Kt(t),r&512&&n!==null&&ii(n,n.return),t.flags&32){var i=t.stateNode;try{bs(i,"")}catch(y){Ce(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Og(i,s),Ru(a,o);var u=Ru(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Ig(i,h):c==="dangerouslySetInnerHTML"?Ag(i,h):c==="children"?bs(i,h):Hc(i,c,h,u)}switch(a){case"input":Eu(i,s);break;case"textarea":Pg(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ai(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ai(i,!!s.multiple,s.defaultValue,!0):ai(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rs]=s}catch(y){Ce(t,t.return,y)}}break;case 6:if(jt(e,t),Kt(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ce(t,t.return,y)}}break;case 3:if(jt(e,t),Kt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Es(e.containerInfo)}catch(y){Ce(t,t.return,y)}break;case 4:jt(e,t),Kt(t);break;case 13:jt(e,t),Kt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kh=Oe())),r&4&&Qd(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Qe=(u=Qe)||c,jt(e,t),Qe=u):jt(e,t),Kt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(h=L=c;L!==null;){switch(d=L,f=d.child,d.tag){case 0:case 11:case 14:case 15:hs(4,d,d.return);break;case 1:ii(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){Ce(r,n,y)}}break;case 5:ii(d,d.return);break;case 22:if(d.memoizedState!==null){ef(h);continue}}f!==null?(f.return=d,L=f):ef(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jg("display",o))}catch(y){Ce(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Ce(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jt(e,t),Kt(t),r&4&&Qd(t);break;case 21:break;default:jt(e,t),Kt(t)}}function Kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iy(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bs(i,""),r.flags&=-33);var s=Xd(t);oc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Xd(t);sc(t,a,o);break;default:throw Error(j(161))}}catch(l){Ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sw(t,e,n){L=t,ay(t)}function ay(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xo;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qe;a=xo;var u=Qe;if(xo=o,(Qe=l)&&!u)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?tf(i):l!==null?(l.return=o,L=l):tf(i);for(;s!==null;)L=s,ay(s),s=s.sibling;L=i,xo=a,Qe=u}Zd(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):Zd(t)}}function Zd(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qe||nl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nd(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Es(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Qe||e.flags&512&&ic(e)}catch(d){Ce(e,e.return,d)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function ef(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function tf(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nl(4,e)}catch(l){Ce(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ce(e,i,l)}}var s=e.return;try{ic(e)}catch(l){Ce(e,s,l)}break;case 5:var o=e.return;try{ic(e)}catch(l){Ce(e,o,l)}}}catch(l){Ce(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var ow=Math.ceil,Ta=wn.ReactCurrentDispatcher,xh=wn.ReactCurrentOwner,Pt=wn.ReactCurrentBatchConfig,ne=0,$e=null,Ae=null,Ke=0,yt=0,si=Qn(0),De=0,Ds=null,Er=0,rl=0,Sh=0,ds=null,at=null,kh=0,Si=1/0,an=null,Oa=!1,ac=null,Wn=null,So=!1,An=null,Pa=0,fs=0,lc=null,ea=-1,ta=0;function nt(){return ne&6?Oe():ea!==-1?ea:ea=Oe()}function Vn(t){return t.mode&1?ne&2&&Ke!==0?Ke&-Ke:W_.transition!==null?(ta===0&&(ta=Hg()),ta):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Qg(t.type)),t):1}function Ft(t,e,n,r){if(50<fs)throw fs=0,lc=null,Error(j(185));Zs(t,n,r),(!(ne&2)||t!==$e)&&(t===$e&&(!(ne&2)&&(rl|=n),De===4&&On(t,Ke)),pt(t,r),n===1&&ne===0&&!(e.mode&1)&&(Si=Oe()+500,Za&&Zn()))}function pt(t,e){var n=t.callbackNode;W0(t,e);var r=da(t,t===$e?Ke:0);if(r===0)n!==null&&cd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cd(n),e===1)t.tag===0?U_(nf.bind(null,t)):ym(nf.bind(null,t)),z_(function(){!(ne&6)&&Zn()}),n=null;else{switch(Kg(r)){case 1:n=Jc;break;case 4:n=Wg;break;case 16:n=ha;break;case 536870912:n=Vg;break;default:n=ha}n=gy(n,ly.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ly(t,e){if(ea=-1,ta=0,ne&6)throw Error(j(327));var n=t.callbackNode;if(di()&&t.callbackNode!==n)return null;var r=da(t,t===$e?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ra(t,r);else{e=r;var i=ne;ne|=2;var s=cy();($e!==t||Ke!==e)&&(an=null,Si=Oe()+500,_r(t,e));do try{uw();break}catch(a){uy(t,a)}while(!0);uh(),Ta.current=s,ne=i,Ae!==null?e=0:($e=null,Ke=0,e=De)}if(e!==0){if(e===2&&(i=Lu(t),i!==0&&(r=i,e=uc(t,i))),e===1)throw n=Ds,_r(t,0),On(t,r),pt(t,Oe()),n;if(e===6)On(t,r);else{if(i=t.current.alternate,!(r&30)&&!aw(i)&&(e=Ra(t,r),e===2&&(s=Lu(t),s!==0&&(r=s,e=uc(t,s))),e===1))throw n=Ds,_r(t,0),On(t,r),pt(t,Oe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:lr(t,at,an);break;case 3:if(On(t,r),(r&130023424)===r&&(e=kh+500-Oe(),10<e)){if(da(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wu(lr.bind(null,t,at,an),e);break}lr(t,at,an);break;case 4:if(On(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Bt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ow(r/1960))-r,10<r){t.timeoutHandle=Wu(lr.bind(null,t,at,an),r);break}lr(t,at,an);break;case 5:lr(t,at,an);break;default:throw Error(j(329))}}}return pt(t,Oe()),t.callbackNode===n?ly.bind(null,t):null}function uc(t,e){var n=ds;return t.current.memoizedState.isDehydrated&&(_r(t,e).flags|=256),t=Ra(t,e),t!==2&&(e=at,at=n,e!==null&&cc(e)),t}function cc(t){at===null?at=t:at.push.apply(at,t)}function aw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$t(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function On(t,e){for(e&=~Sh,e&=~rl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),r=1<<n;t[n]=-1,e&=~r}}function nf(t){if(ne&6)throw Error(j(327));di();var e=da(t,0);if(!(e&1))return pt(t,Oe()),null;var n=Ra(t,e);if(t.tag!==0&&n===2){var r=Lu(t);r!==0&&(e=r,n=uc(t,r))}if(n===1)throw n=Ds,_r(t,0),On(t,e),pt(t,Oe()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lr(t,at,an),pt(t,Oe()),null}function Eh(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(Si=Oe()+500,Za&&Zn())}}function Cr(t){An!==null&&An.tag===0&&!(ne&6)&&di();var e=ne;ne|=1;var n=Pt.transition,r=ae;try{if(Pt.transition=null,ae=1,t)return t()}finally{ae=r,Pt.transition=n,ne=e,!(ne&6)&&Zn()}}function Ch(){yt=si.current,ge(si)}function _r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N_(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(oh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ya();break;case 3:bi(),ge(dt),ge(Ze),gh();break;case 5:ph(r);break;case 4:bi();break;case 13:ge(we);break;case 19:ge(we);break;case 10:ch(r.type._context);break;case 22:case 23:Ch()}n=n.return}if($e=t,Ae=t=Hn(t.current,null),Ke=yt=e,De=0,Ds=null,Sh=rl=Er=0,at=ds=null,mr!==null){for(e=0;e<mr.length;e++)if(n=mr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}mr=null}return t}function uy(t,e){do{var n=Ae;try{if(uh(),Xo.current=Ca,Ea){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ea=!1}if(kr=0,Fe=Me=xe=null,cs=!1,Is=0,xh.current=null,n===null||n.return===null){De=1,Ds=e,Ae=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Wd(o);if(f!==null){f.flags&=-257,Vd(f,o,a,s,e),f.mode&1&&Ud(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){Ud(s,u,e),Th();break e}l=Error(j(426))}}else if(_e&&a.mode&1){var _=Wd(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Vd(_,o,a,s,e),ah(xi(l,a));break e}}s=l=xi(l,a),De!==4&&(De=2),ds===null?ds=[s]:ds.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Km(s,l,e);Dd(s,g);break e;case 1:a=l;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wn===null||!Wn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=qm(s,a,e);Dd(s,S);break e}}s=s.return}while(s!==null)}dy(n)}catch(k){e=k,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function cy(){var t=Ta.current;return Ta.current=Ca,t===null?Ca:t}function Th(){(De===0||De===3||De===2)&&(De=4),$e===null||!(Er&268435455)&&!(rl&268435455)||On($e,Ke)}function Ra(t,e){var n=ne;ne|=2;var r=cy();($e!==t||Ke!==e)&&(an=null,_r(t,e));do try{lw();break}catch(i){uy(t,i)}while(!0);if(uh(),ne=n,Ta.current=r,Ae!==null)throw Error(j(261));return $e=null,Ke=0,De}function lw(){for(;Ae!==null;)hy(Ae)}function uw(){for(;Ae!==null&&!M0();)hy(Ae)}function hy(t){var e=py(t.alternate,t,yt);t.memoizedProps=t.pendingProps,e===null?dy(t):Ae=e,xh.current=null}function dy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nw(n,e),n!==null){n.flags&=32767,Ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Ae=null;return}}else if(n=tw(n,e,yt),n!==null){Ae=n;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);De===0&&(De=5)}function lr(t,e,n){var r=ae,i=Pt.transition;try{Pt.transition=null,ae=1,cw(t,e,n,r)}finally{Pt.transition=i,ae=r}return null}function cw(t,e,n,r){do di();while(An!==null);if(ne&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(V0(t,s),t===$e&&(Ae=$e=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||So||(So=!0,gy(ha,function(){return di(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var o=ae;ae=1;var a=ne;ne|=4,xh.current=null,iw(t,n),oy(n,t),R_($u),fa=!!Fu,$u=Fu=null,t.current=n,sw(n),L0(),ne=a,ae=o,Pt.transition=s}else t.current=n;if(So&&(So=!1,An=t,Pa=i),s=t.pendingLanes,s===0&&(Wn=null),z0(n.stateNode),pt(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Oa)throw Oa=!1,t=ac,ac=null,t;return Pa&1&&t.tag!==0&&di(),s=t.pendingLanes,s&1?t===lc?fs++:(fs=0,lc=t):fs=0,Zn(),null}function di(){if(An!==null){var t=Kg(Pa),e=Pt.transition,n=ae;try{if(Pt.transition=null,ae=16>t?16:t,An===null)var r=!1;else{if(t=An,An=null,Pa=0,ne&6)throw Error(j(331));var i=ne;for(ne|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:hs(8,c,s)}var h=c.child;if(h!==null)h.return=c,L=h;else for(;L!==null;){c=L;var d=c.sibling,f=c.return;if(ry(c),c===u){L=null;break}if(d!==null){d.return=f,L=d;break}L=f}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hs(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,L=g;break e}L=s.return}}var m=t.current;for(L=m;L!==null;){o=L;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,L=v;else e:for(o=m;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nl(9,a)}}catch(k){Ce(a,a.return,k)}if(a===o){L=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,L=S;break e}L=a.return}}if(ne=i,Zn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Ga,t)}catch{}r=!0}return r}finally{ae=n,Pt.transition=e}}return!1}function rf(t,e,n){e=xi(n,e),e=Km(t,e,1),t=Un(t,e,1),e=nt(),t!==null&&(Zs(t,1,e),pt(t,e))}function Ce(t,e,n){if(t.tag===3)rf(t,t,n);else for(;e!==null;){if(e.tag===3){rf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){t=xi(n,t),t=qm(e,t,1),e=Un(e,t,1),t=nt(),e!==null&&(Zs(e,1,t),pt(e,t));break}}e=e.return}}function hw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nt(),t.pingedLanes|=t.suspendedLanes&n,$e===t&&(Ke&n)===n&&(De===4||De===3&&(Ke&130023424)===Ke&&500>Oe()-kh?_r(t,0):Sh|=n),pt(t,e)}function fy(t,e){e===0&&(t.mode&1?(e=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):e=1);var n=nt();t=vn(t,e),t!==null&&(Zs(t,e,n),pt(t,n))}function dw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fy(t,n)}function fw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),fy(t,n)}var py;py=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dt.current)ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ut=!1,ew(t,e,n);ut=!!(t.flags&131072)}else ut=!1,_e&&e.flags&1048576&&vm(e,wa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zo(t,e),t=e.pendingProps;var i=vi(e,Ze.current);hi(e,n),i=yh(null,e,r,t,i,n);var s=vh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(r)?(s=!0,va(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dh(e),i.updater=tl,e.stateNode=i,i._reactInternals=e,Ju(e,r,t,n),e=Zu(null,e,r,!0,s,n)):(e.tag=0,_e&&s&&sh(e),tt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gw(r),t=Mt(r,t),i){case 0:e=Qu(null,e,r,t,n);break e;case 1:e=qd(null,e,r,t,n);break e;case 11:e=Hd(null,e,r,t,n);break e;case 14:e=Kd(null,e,r,Mt(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Qu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),qd(t,e,r,i,n);case 3:e:{if(Xm(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,km(t,e),Sa(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xi(Error(j(423)),e),e=Gd(t,e,r,n,i);break e}else if(r!==i){i=xi(Error(j(424)),e),e=Gd(t,e,r,n,i);break e}else for(wt=$n(e.stateNode.containerInfo.firstChild),bt=e,_e=!0,zt=null,n=xm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_i(),r===i){e=_n(t,e,n);break e}tt(t,e,r,n)}e=e.child}return e;case 5:return Em(e),t===null&&qu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Uu(r,i)?o=null:s!==null&&Uu(r,s)&&(e.flags|=32),Jm(t,e),tt(t,e,o,n),e.child;case 6:return t===null&&qu(e),null;case 13:return Qm(t,e,n);case 4:return fh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wi(e,null,r,n):tt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Hd(t,e,r,i,n);case 7:return tt(t,e,e.pendingProps,n),e.child;case 8:return tt(t,e,e.pendingProps.children,n),e.child;case 12:return tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,de(ba,r._currentValue),r._currentValue=o,s!==null)if($t(s.value,o)){if(s.children===i.children&&!dt.current){e=_n(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Gu(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gu(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,hi(e,n),i=Rt(i),r=r(i),e.flags|=1,tt(t,e,r,n),e.child;case 14:return r=e.type,i=Mt(r,e.pendingProps),i=Mt(r.type,i),Kd(t,e,r,i,n);case 15:return Gm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Zo(t,e),e.tag=1,ft(r)?(t=!0,va(e)):t=!1,hi(e,n),Hm(e,r,i),Ju(e,r,i,n),Zu(null,e,r,!0,t,n);case 19:return Zm(t,e,n);case 22:return Ym(t,e,n)}throw Error(j(156,e.tag))};function gy(t,e){return Ug(t,e)}function pw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,n,r){return new pw(t,e,n,r)}function Oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gw(t){if(typeof t=="function")return Oh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qc)return 11;if(t===Gc)return 14}return 2}function Hn(t,e){var n=t.alternate;return n===null?(n=Ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function na(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Oh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yr:return wr(n.children,i,s,e);case Kc:o=8,i|=8;break;case wu:return t=Ot(12,n,e,i|2),t.elementType=wu,t.lanes=s,t;case bu:return t=Ot(13,n,e,i),t.elementType=bu,t.lanes=s,t;case xu:return t=Ot(19,n,e,i),t.elementType=xu,t.lanes=s,t;case Eg:return il(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sg:o=10;break e;case kg:o=9;break e;case qc:o=11;break e;case Gc:o=14;break e;case kn:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Ot(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wr(t,e,n,r){return t=Ot(7,t,r,e),t.lanes=n,t}function il(t,e,n,r){return t=Ot(22,t,r,e),t.elementType=Eg,t.lanes=n,t.stateNode={isHidden:!1},t}function Gl(t,e,n){return t=Ot(6,t,null,e),t.lanes=n,t}function Yl(t,e,n){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mw(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ph(t,e,n,r,i,s,o,a,l){return t=new mw(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ot(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dh(s),t}function yw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function my(t){if(!t)return Yn;t=t._reactInternals;e:{if(Rr(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(ft(n))return mm(t,n,e)}return e}function yy(t,e,n,r,i,s,o,a,l){return t=Ph(n,r,!0,t,i,s,o,a,l),t.context=my(null),n=t.current,r=nt(),i=Vn(n),s=gn(r,i),s.callback=e??null,Un(n,s,i),t.current.lanes=i,Zs(t,i,r),pt(t,r),t}function sl(t,e,n,r){var i=e.current,s=nt(),o=Vn(i);return n=my(n),e.context===null?e.context=n:e.pendingContext=n,e=gn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Un(i,e,o),t!==null&&(Ft(t,i,o,s),Jo(t,i,o)),o}function Aa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rh(t,e){sf(t,e),(t=t.alternate)&&sf(t,e)}function vw(){return null}var vy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ah(t){this._internalRoot=t}ol.prototype.render=Ah.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));sl(t,e,null,null)};ol.prototype.unmount=Ah.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cr(function(){sl(null,t,null,null)}),e[yn]=null}};function ol(t){this._internalRoot=t}ol.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tn.length&&e!==0&&e<Tn[n].priority;n++);Tn.splice(n,0,t),n===0&&Xg(t)}};function jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function al(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function of(){}function _w(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Aa(o);s.call(u)}}var o=yy(e,r,t,0,null,!1,!1,"",of);return t._reactRootContainer=o,t[yn]=o.current,Os(t.nodeType===8?t.parentNode:t),Cr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Aa(l);a.call(u)}}var l=Ph(t,0,!1,null,null,!1,!1,"",of);return t._reactRootContainer=l,t[yn]=l.current,Os(t.nodeType===8?t.parentNode:t),Cr(function(){sl(e,l,n,r)}),l}function ll(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Aa(o);a.call(l)}}sl(e,o,t,i)}else o=_w(n,e,t,i,r);return Aa(o)}qg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xi(e.pendingLanes);n!==0&&(Xc(e,n|1),pt(e,Oe()),!(ne&6)&&(Si=Oe()+500,Zn()))}break;case 13:Cr(function(){var r=vn(t,1);if(r!==null){var i=nt();Ft(r,t,1,i)}}),Rh(t,1)}};Qc=function(t){if(t.tag===13){var e=vn(t,134217728);if(e!==null){var n=nt();Ft(e,t,134217728,n)}Rh(t,134217728)}};Gg=function(t){if(t.tag===13){var e=Vn(t),n=vn(t,e);if(n!==null){var r=nt();Ft(n,t,e,r)}Rh(t,e)}};Yg=function(){return ae};Jg=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};ju=function(t,e,n){switch(e){case"input":if(Eu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qa(r);if(!i)throw Error(j(90));Tg(r),Eu(r,i)}}}break;case"textarea":Pg(t,n);break;case"select":e=n.value,e!=null&&ai(t,!!n.multiple,e,!1)}};Dg=Eh;Ng=Cr;var ww={usingClientEntryPoint:!1,Events:[to,Zr,Qa,Mg,Lg,Eh]},Ui={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bw={bundleType:Ui.bundleType,version:Ui.version,rendererPackageName:Ui.rendererPackageName,rendererConfig:Ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fg(t),t===null?null:t.stateNode},findFiberByHostInstance:Ui.findFiberByHostInstance||vw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{Ga=ko.inject(bw),Qt=ko}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ww;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jh(e))throw Error(j(200));return yw(t,e,null,n)};St.createRoot=function(t,e){if(!jh(t))throw Error(j(299));var n=!1,r="",i=vy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ph(t,1,!1,null,null,n,!1,r,i),t[yn]=e.current,Os(t.nodeType===8?t.parentNode:t),new Ah(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Fg(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return Cr(t)};St.hydrate=function(t,e,n){if(!al(e))throw Error(j(200));return ll(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!jh(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=yy(e,null,t,1,n??null,i,!1,s,o),t[yn]=e.current,Os(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ol(e)};St.render=function(t,e,n){if(!al(e))throw Error(j(200));return ll(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!al(t))throw Error(j(40));return t._reactRootContainer?(Cr(function(){ll(null,null,t,!1,function(){t._reactRootContainer=null,t[yn]=null})}),!0):!1};St.unstable_batchedUpdates=Eh;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!al(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return ll(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function _y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_y)}catch(t){console.error(t)}}_y(),_g.exports=St;var xw=_g.exports,af=xw;vu.createRoot=af.createRoot,vu.hydrateRoot=af.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ns.apply(this,arguments)}var jn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jn||(jn={}));const lf="popstate";function Sw(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return hc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ja(i)}return Ew(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ih(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kw(){return Math.random().toString(36).substr(2,8)}function uf(t,e){return{usr:t.state,key:t.key,idx:e}}function hc(t,e,n,r){return n===void 0&&(n=null),Ns({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ri(e):e,{state:n,key:e&&e.key||r||kw()})}function ja(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ew(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=jn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ns({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=jn.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:g})}function d(_,g){a=jn.Push;let m=hc(y.location,_,g);u=c()+1;let v=uf(m,u),S=y.createHref(m);try{o.pushState(v,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}s&&l&&l({action:a,location:y.location,delta:1})}function f(_,g){a=jn.Replace;let m=hc(y.location,_,g);u=c();let v=uf(m,u),S=y.createHref(m);o.replaceState(v,"",S),s&&l&&l({action:a,location:y.location,delta:0})}function p(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof _=="string"?_:ja(_);return m=m.replace(/ $/,"%20"),Te(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lf,h),l=_,()=>{i.removeEventListener(lf,h),l=null}},createHref(_){return e(i,_)},createURL:p,encodeLocation(_){let g=p(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:f,go(_){return o.go(_)}};return y}var cf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cf||(cf={}));function Cw(t,e,n){return n===void 0&&(n="/"),Tw(t,e,n)}function Tw(t,e,n,r){let i=typeof e=="string"?Ri(e):e,s=ki(i.pathname||"/",n);if(s==null)return null;let o=wy(t);Ow(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Bw(s);a=Nw(o[l],u)}return a}function wy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Te(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Kn([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wy(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Lw(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of by(s.path))i(s,o,l)}),e}function by(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=by(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Ow(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Dw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Pw=/^:[\w-]+$/,Rw=3,Aw=2,jw=1,Iw=10,Mw=-2,hf=t=>t==="*";function Lw(t,e){let n=t.split("/"),r=n.length;return n.some(hf)&&(r+=Mw),e&&(r+=Aw),n.filter(i=>!hf(i)).reduce((i,s)=>i+(Pw.test(s)?Rw:s===""?jw:Iw),r)}function Dw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Nw(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=dc({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Kn([s,h.pathname]),pathnameBase:Vw(Kn([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=Kn([s,h.pathnameBase]))}return o}function dc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zw(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function zw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ih(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Bw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ih(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$w=t=>Fw.test(t);function Uw(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ri(t):t,s;if(n)if($w(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Ih(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=df(n.substring(1),"/"):s=df(n,e)}else s=e;return{pathname:s,search:Hw(r),hash:Kw(i)}}function df(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jl(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ww(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xy(t,e){let n=Ww(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ri(t):(i=Ns({},t),Te(!i.pathname||!i.pathname.includes("?"),Jl("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),Jl("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),Jl("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=Uw(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Kn=t=>t.join("/").replace(/\/\/+/g,"/"),Vw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Kw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ky=["post","put","patch","delete"];new Set(ky);const Gw=["get",...ky];new Set(Gw);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zs.apply(this,arguments)}const ul=I.createContext(null),Ey=I.createContext(null),er=I.createContext(null),cl=I.createContext(null),Ar=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Cy=I.createContext(null);function Yw(t,e){let{relative:n}=e===void 0?{}:e;ro()||Te(!1);let{basename:r,navigator:i}=I.useContext(er),{hash:s,pathname:o,search:a}=hl(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Kn([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ro(){return I.useContext(cl)!=null}function io(){return ro()||Te(!1),I.useContext(cl).location}function Ty(t){I.useContext(er).static||I.useLayoutEffect(t)}function Oy(){let{isDataRoute:t}=I.useContext(Ar);return t?lb():Jw()}function Jw(){ro()||Te(!1);let t=I.useContext(ul),{basename:e,future:n,navigator:r}=I.useContext(er),{matches:i}=I.useContext(Ar),{pathname:s}=io(),o=JSON.stringify(xy(i,n.v7_relativeSplatPath)),a=I.useRef(!1);return Ty(()=>{a.current=!0}),I.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Sy(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Kn([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}function hl(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(er),{matches:i}=I.useContext(Ar),{pathname:s}=io(),o=JSON.stringify(xy(i,r.v7_relativeSplatPath));return I.useMemo(()=>Sy(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Xw(t,e){return Qw(t,e)}function Qw(t,e,n,r){ro()||Te(!1);let{navigator:i}=I.useContext(er),{matches:s}=I.useContext(Ar),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=io(),c;if(e){var h;let _=typeof e=="string"?Ri(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||Te(!1),c=_}else c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let p=Cw(t,{pathname:f}),y=rb(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Kn([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Kn([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&y?I.createElement(cl.Provider,{value:{location:zs({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:jn.Pop}},y):y}function Zw(){let t=ab(),e=qw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const eb=I.createElement(Zw,null);class tb extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(Ar.Provider,{value:this.props.routeContext},I.createElement(Cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nb(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(ul);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Ar.Provider,{value:e},r)}function rb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Te(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=n,p=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,d)=>{let f,p=!1,y=null,_=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||eb,l&&(u<0&&d===0?(ub("route-fallback"),p=!0,_=null):u===d&&(p=!0,_=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),m=()=>{let v;return f?v=y:p?v=_:h.route.Component?v=I.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=c,I.createElement(nb,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?I.createElement(tb,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Py=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Py||{}),Ry=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ry||{});function ib(t){let e=I.useContext(ul);return e||Te(!1),e}function sb(t){let e=I.useContext(Ey);return e||Te(!1),e}function ob(t){let e=I.useContext(Ar);return e||Te(!1),e}function Ay(t){let e=ob(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function ab(){var t;let e=I.useContext(Cy),n=sb(),r=Ay();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function lb(){let{router:t}=ib(Py.UseNavigateStable),e=Ay(Ry.UseNavigateStable),n=I.useRef(!1);return Ty(()=>{n.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zs({fromRouteId:e},s)))},[t,e])}const ff={};function ub(t,e,n){ff[t]||(ff[t]=!0)}function cb(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ur(t){Te(!1)}function hb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=jn.Pop,navigator:s,static:o=!1,future:a}=t;ro()&&Te(!1);let l=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:s,static:o,future:zs({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ri(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,y=I.useMemo(()=>{let _=ki(c,l);return _==null?null:{location:{pathname:_,search:h,hash:d,state:f,key:p},navigationType:i}},[l,c,h,d,f,p,i]);return y==null?null:I.createElement(er.Provider,{value:u},I.createElement(cl.Provider,{children:n,value:y}))}function db(t){let{children:e,location:n}=t;return Xw(fc(e),n)}new Promise(()=>{});function fc(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){n.push.apply(n,fc(r.props.children,s));return}r.type!==ur&&Te(!1),!r.props.index||!r.props.children||Te(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fc(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ia.apply(this,arguments)}function jy(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pb(t,e){return t.button===0&&(!e||e==="_self")&&!fb(t)}const gb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mb=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],yb="6";try{window.__reactRouterVersion=yb}catch{}const vb=I.createContext({isTransitioning:!1}),_b="startTransition",pf=h0[_b];function wb(t){let{basename:e,children:n,future:r,window:i}=t,s=I.useRef();s.current==null&&(s.current=Sw({window:i,v5Compat:!0}));let o=s.current,[a,l]=I.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=I.useCallback(h=>{u&&pf?pf(()=>l(h)):l(h)},[l,u]);return I.useLayoutEffect(()=>o.listen(c),[o,c]),I.useEffect(()=>cb(r),[r]),I.createElement(hb,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pc=I.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,d=jy(e,gb),{basename:f}=I.useContext(er),p,y=!1;if(typeof u=="string"&&xb.test(u)&&(p=u,bb))try{let v=new URL(window.location.href),S=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=ki(S.pathname,f);S.origin===v.origin&&k!=null?u=k+S.search+S.hash:y=!0}catch{}let _=Yw(u,{relative:i}),g=kb(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function m(v){r&&r(v),v.defaultPrevented||g(v)}return I.createElement("a",Ia({},d,{href:p||_,onClick:y||s?r:m,ref:n,target:l}))}),tr=I.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=e,h=jy(e,mb),d=hl(l,{relative:h.relative}),f=io(),p=I.useContext(Ey),{navigator:y,basename:_}=I.useContext(er),g=p!=null&&Eb(d)&&u===!0,m=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,v=f.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(v=v.toLowerCase(),S=S?S.toLowerCase():null,m=m.toLowerCase()),S&&_&&(S=ki(S,_)||S);const k=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let T=v===m||!o&&v.startsWith(m)&&v.charAt(k)==="/",C=S!=null&&(S===m||!o&&S.startsWith(m)&&S.charAt(m.length)==="/"),w={isActive:T,isPending:C,isTransitioning:g},x=T?r:void 0,E;typeof s=="function"?E=s(w):E=[s,T?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(w):a;return I.createElement(pc,Ia({},h,{"aria-current":x,className:E,ref:n,style:O,to:l,viewTransition:u}),typeof c=="function"?c(w):c)});var gc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gc||(gc={}));var gf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gf||(gf={}));function Sb(t){let e=I.useContext(ul);return e||Te(!1),e}function kb(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Oy(),u=io(),c=hl(t,{relative:o});return I.useCallback(h=>{if(pb(h,n)){h.preventDefault();let d=r!==void 0?r:ja(u)===ja(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function Eb(t,e){e===void 0&&(e={});let n=I.useContext(vb);n==null&&Te(!1);let{basename:r}=Sb(gc.useViewTransitionState),i=hl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ki(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ki(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dc(i.pathname,o)!=null||dc(i.pathname,s)!=null}const Cb=()=>b.jsxs("section",{children:[b.jsx("div",{className:"hero animate-in",children:b.jsxs("div",{className:"hero-content",children:[b.jsx("span",{style:{textTransform:"uppercase",letterSpacing:"0.2em",fontSize:"0.8rem",fontWeight:"700",background:"rgba(255,255,255,0.15)",padding:"0.5rem 1.5rem",borderRadius:"2rem",display:"inline-block",marginBottom:"1.5rem"},children:"MBA Research Project 2026"}),b.jsx("h1",{children:"Clicks vs Bricks"}),b.jsxs("p",{children:["A deep-dive comparative analysis of ",b.jsx("strong",{children:"Digital"})," vs ",b.jsx("strong",{children:"Offline"})," marketing influence on consumer purchase intention and brand trust metrics."]}),b.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1.5rem",flexWrap:"wrap"},children:[b.jsx(pc,{to:"/survey",className:"btn-wow",children:"Participate in Study"}),b.jsx(pc,{to:"/analysis",className:"btn-wow",style:{background:"transparent",color:"white",border:"2px solid rgba(255,255,255,0.3)"},children:"View Data Analysis"})]})]})}),b.jsx("div",{className:"glass-panel animate-in",style:{marginTop:"-4rem",position:"relative",zIndex:10},children:b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"4rem"},children:[b.jsxs("div",{children:[b.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"1.5rem"},children:"The Evolution of Market Trust."}),b.jsxs("p",{style:{fontSize:"1.1rem",color:"var(--text-muted)"},children:["As consumers balance their lives between digital screens and physical spaces, the drivers of",b.jsx("strong",{children:" brand trust"})," have shifted. This study explores where the real conversion happens: in the palm of a hand or on a city billboard."]})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[b.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.05)",padding:"1.5rem",borderRadius:"1rem",border:"1px solid rgba(59, 130, 246, 0.1)"},children:[b.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"0.5rem",color:"var(--primary-accent)"},children:"74%"}),b.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"of surveyed Gen Z prefer digital discovery channels."})]}),b.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.05)",padding:"1.5rem",borderRadius:"1rem",border:"1px solid rgba(139, 92, 246, 0.1)"},children:[b.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"0.5rem",color:"var(--secondary-accent)"},children:"High"}),b.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Correlation between offline presence and premium brand trust."})]}),b.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.05)",padding:"1.5rem",borderRadius:"1rem",border:"1px solid rgba(16, 185, 129, 0.1)",gridColumn:"span 2"},children:[b.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"0.5rem",color:"var(--success-color)"},children:"Predictive"}),b.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Our model predicts purchase intention based on cross-channel engagement stimuli."})]})]})]})})]}),Tb=()=>b.jsxs("section",{className:"animate-in",children:[b.jsxs("div",{className:"glass-panel",style:{marginBottom:"4rem"},children:[b.jsx("span",{style:{color:"var(--primary-accent)",fontWeight:800,letterSpacing:"0.1em",fontSize:"0.9rem",textTransform:"uppercase",display:"block",marginBottom:"1rem"},children:"Foundation & Methodology"}),b.jsx("h2",{style:{fontSize:"3rem",marginBottom:"2rem"},children:"Behind the Study"}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"3rem"},children:[b.jsxs("div",{children:[b.jsx("h3",{children:"Contextual Framework"}),b.jsxs("p",{style:{color:"var(--text-muted)",marginTop:"1rem"},children:["In the contemporary marketing landscape, the dichotomy between ",b.jsx("strong",{children:"Digital (Clicks)"})," and",b.jsx("strong",{children:" Physical (Bricks)"})," touchpoints creates a complex trust-to-transaction funnel. This MBA initiative deconstructs these interactions to find where consumer loyalty is truly forged."]})]}),b.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.03)",padding:"2rem",borderRadius:"1.5rem",border:"1px solid rgba(59, 130, 246, 0.1)"},children:[b.jsx("h3",{style:{color:"var(--primary-accent)",marginBottom:"1rem"},children:"The Research Core"}),b.jsx("p",{style:{fontSize:"0.95rem"},children:'"Does the perceived weight of traditional media still outperform digital micro-targeted stimuli in establishing long-term brand equity?"'})]})]})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginBottom:"4rem"},children:[b.jsxs("div",{className:"stat-card",children:[b.jsx("h4",{style:{color:"var(--primary-accent)",marginBottom:"1rem"},children:"Hypothesis H0"}),b.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"There is no statistically significant variance in purchase intention between digital and offline marketing mediums across primary demographics."})]}),b.jsxs("div",{className:"stat-card",style:{borderBottom:"4px solid var(--secondary-accent)"},children:[b.jsx("h4",{style:{color:"var(--secondary-accent)",marginBottom:"1rem"},children:"Hypothesis H1"}),b.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Digital marketing stimuli yield a significantly higher conversion probability in participants aged 18-35 compared to traditional offline media."})]})]}),b.jsxs("div",{className:"glass-panel",style:{textAlign:"center"},children:[b.jsx("h3",{style:{marginBottom:"3rem"},children:"Generational Moderation Model"}),b.jsx("div",{style:{padding:"2rem",display:"flex",justifyContent:"center"},children:b.jsxs("svg",{width:"100%",height:"300",viewBox:"0 0 800 300",style:{maxWidth:"700px"},children:[b.jsx("rect",{x:"50",y:"100",width:"200",height:"100",rx:"20",fill:"var(--primary-color)"}),b.jsx("text",{x:"150",y:"145",textAnchor:"middle",fill:"white",fontWeight:"800",children:"MARKETING MEDIUM"}),b.jsx("text",{x:"150",y:"170",textAnchor:"middle",fill:"rgba(255,255,255,0.7)",fontSize:"12",children:"Digital vs. Offline"}),b.jsx("defs",{children:b.jsx("marker",{id:"arrow",markerWidth:"10",markerHeight:"10",refX:"9",refY:"5",orient:"auto",children:b.jsx("path",{d:"M0,0 L10,5 L0,10 Z",fill:"var(--primary-color)"})})}),b.jsx("line",{x1:"250",y1:"150",x2:"540",y2:"150",stroke:"var(--primary-color)",strokeWidth:"3",markerEnd:"url(#arrow)"}),b.jsx("rect",{x:"300",y:"20",width:"200",height:"70",rx:"15",fill:"var(--primary-accent)"}),b.jsx("text",{x:"400",y:"55",textAnchor:"middle",fill:"white",fontWeight:"800",children:"AGE (MODERATOR)"}),b.jsx("line",{x1:"400",y1:"90",x2:"400",y2:"150",stroke:"var(--primary-accent)",strokeWidth:"2",strokeDasharray:"6"}),b.jsx("rect",{x:"550",y:"100",width:"200",height:"100",rx:"20",fill:"var(--primary-color)"}),b.jsx("text",{x:"650",y:"145",textAnchor:"middle",fill:"white",fontWeight:"800",children:"CONSUMER RESPONSE"}),b.jsx("text",{x:"650",y:"170",textAnchor:"middle",fill:"rgba(255,255,255,0.7)",fontSize:"12",children:"Purchase Intention & Trust"})]})})]})]});function dl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ob(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}const Pb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Mh extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Rb extends Mh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mf extends Mh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yf extends Mh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(mc||(mc={}));class Ab{constructor(e,{headers:n={},customFetch:r,region:i=mc.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Pb(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ob(this,arguments,void 0,function*(n,r={}){var i;let s,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=r;let d={},{region:f}=r;f||(f=this.region);const p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(d["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(d["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(d["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let _=c;h&&(o=new AbortController,s=setTimeout(()=>o.abort(),h),c?(_=o.signal,c.addEventListener("abort",()=>o.abort())):_=o.signal);const g=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:y,signal:_}).catch(k=>{throw new Rb(k)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new mf(g);if(!g.ok)throw new yf(g);let v=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return v==="application/json"?S=yield g.json():v==="application/octet-stream"||v==="application/pdf"?S=yield g.blob():v==="text/event-stream"?S=g:v==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof yf||a instanceof mf?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var jb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Ib=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,a=null,l=null,u=s.status,c=s.statusText;if(s.ok){var h,d;if(n.method!=="HEAD"){var f;const g=await s.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=g:a=JSON.parse(g))}const y=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(d=s.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");y&&_&&_.length>1&&(l=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;const y=await s.text();try{o=JSON.parse(y),Array.isArray(o)&&s.status===404&&(a=[],o=null,u=200,c="OK")}catch{s.status===404&&y===""?(u=204,c="No Content"):o={message:y}}if(o&&n.isMaybeSingle&&(!(o==null||(p=o.details)===null||p===void 0)&&p.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new jb(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let a="",l="",u="";const c=s==null?void 0:s.cause;if(c){var h,d,f,p;const g=(h=c==null?void 0:c.message)!==null&&h!==void 0?h:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";a=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,a+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${g}`,m&&(a+=` (${m})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var y;a=(y=s==null?void 0:s.stack)!==null&&y!==void 0?y:""}const _=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(l+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:a,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},Mb=class extends Ib{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const vf=new RegExp("[,()]");var Hr=class extends Mb{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&vf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&vf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Lb=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Hr({method:i,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),n||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);s.searchParams.set("columns",l.join(","))}}return new Hr({method:i,url:s,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",c.join(","))}}return new Hr({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Hr({method:r,url:i,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Hr({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function Db(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nb(t){var e=Db(t,"string");return Bs(e)=="symbol"?e:e+""}function zb(t,e,n){return(e=Nb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_f(Object(n),!0).forEach(function(r){zb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Bb=class Iy{constructor(e,{headers:n={},schema:r,fetch:i,timeout:s,urlLengthLimit:o=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const a=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,u)=>{const c=new AbortController,h=setTimeout(()=>c.abort(),s),d=u==null?void 0:u.signal;if(d){if(d.aborted)return clearTimeout(h),a(l,u);const f=()=>{clearTimeout(h),c.abort()};return d.addEventListener("abort",f,{once:!0}),a(l,Eo(Eo({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(h),d.removeEventListener("abort",f)})}return a(l,Eo(Eo({},u),{},{signal:c.signal})).finally(()=>clearTimeout(h))}:this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Lb(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Iy(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(c)),h=r&&Object.values(n).some(c);h?(a="POST",u=n):r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(a="POST",u=n);const d=new Headers(this.headers);return h?d.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&d.set("Prefer",`count=${s}`),new Hr({method:a,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class Fb{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $b="2.95.3",Ub=`realtime-js/${$b}`,Wb="1.0.0",My="2.0.0",wf=My,yc=1e4,Vb=1e3,Hb=100;var Cn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Cn||(Cn={}));var Ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ie||(Ie={}));var Nt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nt||(Nt={}));var vc;(function(t){t.websocket="websocket"})(vc||(vc={}));var fr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fr||(fr={}));class Kb{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var i,s;const o=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(f),y=0;p.setUint8(y++,this.KINDS.userBroadcastPush),p.setUint8(y++,l.length),p.setUint8(y++,a.length),p.setUint8(y++,o.length),p.setUint8(y++,u.length),p.setUint8(y++,h.length),p.setUint8(y++,n),Array.from(l,g=>p.setUint8(y++,g.charCodeAt(0))),Array.from(a,g=>p.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>p.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>p.setUint8(y++,g.charCodeAt(0))),Array.from(h,g=>p.setUint8(y++,g.charCodeAt(0)));var _=new Uint8Array(f.byteLength+r.byteLength);return _.set(new Uint8Array(f),0),_.set(new Uint8Array(r),f.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,o,a,l]=r;return n({join_ref:i,ref:s,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+s));l=l+s;const h=r.decode(e.slice(l,l+o));l=l+o;const d=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,p={type:this.BROADCAST_EVENT,event:c,payload:f};return o>0&&(p.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Ly{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(he||(he={}));const bf=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=qb(o,t,e,i),s),{}):{}},qb=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?Dy(s,o):_c(o)},Dy=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Xb(e,n)}switch(t){case he.bool:return Gb(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return Yb(e);case he.json:case he.jsonb:return Jb(e);case he.timestamp:return Qb(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return _c(e);default:return _c(e)}},_c=t=>t,Gb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Yb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Jb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Xb=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Dy(e,a))}return t},Qb=t=>typeof t=="string"?t.replace(" ","T"):t,Ny=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Xl{constructor(e,n,r={},i=yc){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xf||(xf={}));class ps{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ps.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=ps.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ps.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=s[u];if(h){const d=c.map(_=>_.presence_ref),f=h.map(_=>_.presence_ref),p=c.filter(_=>f.indexOf(_.presence_ref)<0),y=h.filter(_=>d.indexOf(_.presence_ref)<0);p.length>0&&(a[u]=p),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(f=>f.presence_ref),d=c.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Sf||(Sf={}));var gs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gs||(gs={}));var ln;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ln||(ln={}));class oi{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xl(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new Ly(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ps(this),this.broadcastEndpointURL=Ny(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[gs.PRESENCE]&&this.bindings[gs.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(ln.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(ln.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(ln.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,g=[];for(let m=0;m<_;m++){const v=y[m],{filter:{event:S,schema:k,table:T,filter:C}}=v,w=f&&f[m];if(w&&w.event===S&&oi.isFilterValueEqual(w.schema,k)&&oi.isFilterValueEqual(w.table,T)&&oi.isFilterValueEqual(w.filter,C))g.push(Object.assign(Object.assign({},v),{id:w.id}));else{this.unsubscribe(),this.state=Ie.errored,e==null||e(ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(ln.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ie.errored,e==null||e(ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Ie.joined&&e===gs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Xl(this,Nt.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xl(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Hb){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Nt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,y,_;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((_=(y=f.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(f=>f.callback(d,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var p,y,_,g,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,k=(p=f.filter)===null||p===void 0?void 0:p.event;return S&&((y=n.ids)===null||y===void 0?void 0:y.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(m=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return S==="*"||S===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:y,table:_,commit_timestamp:g,type:m,errors:v}=p;d=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:g,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(p))}f.callback(d,r)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&oi.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nt.close,{},e)}_onError(e){this._on(Nt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=bf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=bf(e.columns,e.old_record)),n}}const Ql=()=>{},Co={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zb=[1e3,2e3,5e3,1e4],ex=1e4,tx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nx{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yc,this.transport=null,this.heartbeatIntervalMs=Co.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ql,this.ref=0,this.reconnectTimer=null,this.vsn=wf,this.logger=Ql,this.conn=null,this.sendBuffer=[],this.serializer=new Kb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${vc.websocket}`,this.httpEndpoint=Ny(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Cn.connecting:return fr.Connecting;case Cn.open:return fr.Open;case Cn.closing:return fr.Closing;default:return fr.Closed}}isConnected(){return this.connectionState()===fr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new oi(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Vb,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Co.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Cn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Cn.open||this.conn.readyState===Cn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([tx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:Ub};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Nt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ly(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Co.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,l,u,c,h,d,f;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:yc,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Co.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ql,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:wf,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:p=>Zb[p-1]||ex,this.vsn){case Wb:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(p,y)=>y(JSON.stringify(p)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(p,y)=>y(JSON.parse(p));break;case My:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Fs=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rx(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function ix(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function sx(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:o}){const a=rx(t.baseUrl,r,i),l=await ix(t.auth),u=await e(a,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...o},body:s?JSON.stringify(s):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),d=h&&c?JSON.parse(c):c;if(!u.ok){const f=h?d:void 0,p=f==null?void 0:f.error;throw new Fs((p==null?void 0:p.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:f})}return{status:u.status,headers:u.headers,data:d}}}}function To(t){return t.join("")}var ox=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:To(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${To(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${To(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${To(t.namespace)}`}),!0}catch(e){if(e instanceof Fs&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Fs&&n.status===409)return;throw n}}};function Dr(t){return t.join("")}var ax=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dr(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Fs&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Fs&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},lx=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=sx({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new ox(this.client,e),this.tableOps=new ax(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},fl=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function pl(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Oo=class extends fl{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zy=class extends fl{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const ux=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cx=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wc=t=>{if(Array.isArray(t))return t.map(n=>wc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=wc(r)}),e},hx=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function dx(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fx(t){var e=dx(t,"string");return $s(e)=="symbol"?e:e+""}function px(t,e,n){return(e=fx(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kf(Object(n),!0).forEach(function(r){px(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Ef=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},gx=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Oo(Ef(o),s,a,r))}).catch(()=>{if(r==="vectors"){const o=s+"";e(new Oo(i.statusText||`HTTP ${s} error`,s,o,r))}else{const o=s+"";e(new Oo(i.statusText||`HTTP ${s} error`,s,o,r))}});else{const o=s+"";e(new Oo(i.statusText||`HTTP ${s} error`,s,o,r))}}else e(new zy(Ef(t),t,r))},mx=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?V(V({},i),n):(cx(r)?(i.headers=V({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),V(V({},i),n))};async function Wi(t,e,n,r,i,s,o){return new Promise((a,l)=>{t(n,mx(e,r,i,s)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>gx(u,l,r,o))})}function By(t="storage"){return{get:async(e,n,r,i)=>Wi(e,"GET",n,r,i,void 0,t),post:async(e,n,r,i,s)=>Wi(e,"POST",n,i,s,r,t),put:async(e,n,r,i,s)=>Wi(e,"PUT",n,i,s,r,t),head:async(e,n,r,i)=>Wi(e,"HEAD",n,V(V({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,n,r,i,s)=>Wi(e,"DELETE",n,i,s,r,t)}}const yx=By("storage"),{get:Us,post:Lt,put:bc,head:vx,remove:Lh}=yx,_t=By("vectors");var Ai=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=ux(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pl(n))return{data:null,error:n};throw n}}},_x=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pl(e))return{data:null,error:e};throw e}}};let Fy;Fy=Symbol.toStringTag;var wx=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Fy]="BlobDownloadBuilder",this.promise=null}asStream(){return new _x(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pl(e))return{data:null,error:e};throw e}}};const bx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var xx=class extends Ai{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var i=this;return i.handleOperation(async()=>{let s;const o=V(V({},Cf),r);let a=V(V({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=V(V({},a),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),h=await(t=="PUT"?bc:Lt)(i.fetch,`${i.url}/object/${c}`,s,V({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const s=i._removeEmptyFolders(t),o=i._getFinalPath(s),a=new URL(i.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),i.handleOperation(async()=>{let l;const u=V({upsert:Cf.upsert},r),c=V(V({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:s,fullPath:(await bc(i.fetch,a.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const i=V({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await Lt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+s.url),a=o.searchParams.get("token");if(!a)throw new fl("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await Lt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await Lt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),s=await Lt(r.fetch,`${r.url}/object/sign/${i}`,V({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${o}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const i=await Lt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(o=>V(V({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${s}`):null}))})}download(t,e,n){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),a=()=>Us(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0},n);return new wx(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>wc(await Us(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await vx(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pl(r)&&r instanceof zy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Lh(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const i=V(V(V({},bx),e),{},{prefix:t||""});return await Lt(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=V({},t);return await Lt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Sx="2.95.3",so={"X-Client-Info":`storage-js/${Sx}`};var kx=class extends Ai{constructor(t,e={},n,r){const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),o=V(V({},so),e);super(s,o,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await Us(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Us(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Lt(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await bc(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Lh(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Ex=class extends Ai{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=V(V({},so),e);super(r,i,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Us(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Lh(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!hx(t))throw new fl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new lx({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},Cx=class extends Ai{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=V(V({},so),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await _t.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await _t.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await _t.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await _t.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},Tx=class extends Ai{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=V(V({},so),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await _t.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await _t.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await _t.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await _t.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await _t.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Ox=class extends Ai{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=V(V({},so),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await _t.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await _t.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await _t.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await _t.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},Px=class extends Ox{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Rx(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Rx=class extends Cx{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Ax(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Ax=class extends Tx{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,V(V({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},jx=class extends kx{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new xx(this.url,this.headers,t,this.fetch)}get vectors(){return new Px(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ex(this.url+"/iceberg",this.headers,this.fetch)}};const $y="2.95.3",Kr=30*1e3,xc=3,Zl=xc*Kr,Ix="http://localhost:9999",Mx="supabase.auth.token",Lx={"X-Client-Info":`gotrue-js/${$y}`},Sc="X-Supabase-Api-Version",Uy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Nx=10*60*1e3;class Ws extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function U(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class zx extends Ws{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Bx(t){return U(t)&&t.name==="AuthApiError"}class pr extends Ws{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class bn extends Ws{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class gt extends bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eu(t){return U(t)&&t.name==="AuthSessionMissingError"}class Nr extends bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Po extends bn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ro extends bn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fx(t){return U(t)&&t.name==="AuthImplicitGrantRedirectError"}class Tf extends bn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $x extends bn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kc extends bn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function tu(t){return U(t)&&t.name==="AuthRetryableFetchError"}class Of extends bn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ec extends bn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pf=` 	
\r=`.split(""),Ux=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Pf.length;e+=1)t[Pf[e].charCodeAt(0)]=-2;for(let e=0;e<Ma.length;e+=1)t[Ma[e].charCodeAt(0)]=e;return t})();function Rf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ma[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ma[r]),e.queuedBits-=6}}function Wy(t,e,n){const r=Ux[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Af(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Hx(o,r,n)};for(let o=0;o<t.length;o+=1)Wy(t.charCodeAt(o),i,s);return e.join("")}function Wx(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Vx(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Wx(r,e)}}function Hx(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function fi(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Wy(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Kx(t){const e=[];return Vx(t,n=>e.push(n)),new Uint8Array(e)}function vr(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Rf(i,n,r)),Rf(null,n,r),e.join("")}function qx(t){return Math.round(Date.now()/1e3)+t}function Gx(){return Symbol("auth-callback")}const Ve=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},Vy=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function Yx(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Hy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Jx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},rr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},We=async(t,e)=>{await t.removeItem(e)};class gl{constructor(){this.promise=new gl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}gl.promiseConstructor=Promise;function Ao(t){const e=t.split(".");if(e.length!==3)throw new Ec("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Dx.test(e[r]))throw new Ec("JWT not in base64url format");return{header:JSON.parse(Af(e[0])),payload:JSON.parse(Af(e[1])),signature:fi(e[2]),raw:{header:e[0],payload:e[1]}}}async function Xx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Qx(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Zx(t){return("0"+t.toString(16)).substr(-2)}function eS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Zx).join("")}async function tS(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function nS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await tS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zr(t,e,n=!1){const r=eS();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await qr(t,`${e}-code-verifier`,i);const s=await nS(r);return[s,r===s?"plain":"s256"]}const rS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iS(t){const e=t.headers.get(Sc);if(!e||!e.match(rS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function oS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Br(t){if(!aS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lS(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function jf(t){return JSON.parse(JSON.stringify(t))}const cr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uS=[502,503,504];async function If(t){var e;if(!Jx(t))throw new kc(cr(t),0);if(uS.includes(t.status))throw new kc(cr(t),t.status);let n;try{n=await t.json()}catch(s){throw new pr(cr(s),s)}let r;const i=iS(t);if(i&&i.getTime()>=Uy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Of(cr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new gt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Of(cr(n),t.status,n.weak_password.reasons);throw new zx(cr(n),t.status||500,r)}const cS=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function W(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Sc]||(s[Sc]=Uy["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hS(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function hS(t,e,n,r,i,s){const o=cS(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new kc(cr(l),0)}if(a.ok||await If(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await If(l)}}function It(t){var e;let n=null;pS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=qx(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Mf(t){const e=It(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dS(t){return{data:t,error:null}}function fS(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=dl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Lf(t){return t}function pS(t){return t.access_token&&t.refresh_token&&t.expires_in}const ru=["global","local","others"];class gS{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Hy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ru[0]){if(ru.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ru.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pn})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=dl(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:fS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(U(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pn})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Lf});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(p.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Br(e);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pn})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Br(e);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Pn})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Br(e);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pn})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Br(e.userId);try{const{data:n,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(U(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Br(e.userId),Br(e.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Lf});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(p.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(U(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}}function Df(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Fr={debug:!!(globalThis&&Vy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ky extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mS extends Ky{}async function yS(t,e,n){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function vS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qy(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function _S(t){return parseInt(t,16)}function wS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function bS(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:d}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=qy(t.address),p=c?`${c}://${r}`:r,y=t.statement?`${t.statement}
`:"",_=`${p} wants you to sign in with your Ethereum account:
${f}

${y}`;let g=`URI: ${h}
Version: ${d}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);m+=`
- ${v}`}g+=m}return`${_}
${g}`}class Re extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class La extends Re{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function xS({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Gy(o)){if(s.rp.id!==o)return new Re({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function SS({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Gy(r)){if(n.rpId!==r)return new Re({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class kS{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ES=new kS;function CS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=dl(t,["challenge","user","excludeCredentials"]),s=fi(e).buffer,o=Object.assign(Object.assign({},n),{id:fi(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:fi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function TS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=dl(t,["challenge","allowCredentials"]),i=fi(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:fi(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function OS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:vr(new Uint8Array(t.response.attestationObject)),clientDataJSON:vr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function PS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:vr(new Uint8Array(i.authenticatorData)),clientDataJSON:vr(new Uint8Array(i.clientDataJSON)),signature:vr(new Uint8Array(i.signature)),userHandle:i.userHandle?vr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Gy(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Nf(){var t,e;return!!(Ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function RS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new La("Browser returned unexpected credential type",e)}:{data:null,error:new La("Empty credential response",e)}}catch(e){return{data:null,error:xS({error:e,options:t})}}}async function AS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new La("Browser returned unexpected credential type",e)}:{data:null,error:new La("Empty credential response",e)}}catch(e){return{data:null,error:SS({error:e,options:t})}}}const jS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},IS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Da(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const a=r[s];e(a)?r[s]=Da(a,o):r[s]=Da(o)}else r[s]=o}return r}function MS(t,e){return Da(jS,t,e||{})}function LS(t,e){return Da(IS,t,e||{})}class DS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const u=i??ES.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;if(!c.name){const h=r;if(h)c.name=`${c.id}:${h}`;else{const f=(await this.client.getUser()).data.user,p=((o=f==null?void 0:f.user_metadata)===null||o===void 0?void 0:o.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";c.name=`${c.id}:${p}`}}c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=MS(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:d}=await RS({publicKey:c,signal:u});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const c=LS(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:d}=await AS(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(a){return U(a)?{data:null,error:a}:{data:null,error:new pr("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Ws("rpId is required for WebAuthn authentication")};try{if(!Nf())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new pr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Ws("rpId is required for WebAuthn registration")};try{if(!Nf())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new pr("Unexpected error in register",o)}}}}vS();const NS={url:Ix,storageKey:Mx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function zf(t,e,n){return await n()}const $r={};class Vs{get jwks(){var e,n;return(n=(e=$r[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=$r[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},NS),e);if(this.storageKey=s.storageKey,this.instanceID=(n=Vs.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Vs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ve()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new gS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hy(s.fetch),this.lock=s.lock||zf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Ve()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=yS:this.lock=zf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new DS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Vy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Df(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Df(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$y}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Ve()&&(n=Yx(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ve()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Fx(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return U(n)?this._returnResult({error:n}):this._returnResult({error:new pr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:It}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:c,password:h,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await zr(this.storage,this.storageKey)),s=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},xform:It})}else if("phone"in e){const{phone:c,password:h,options:d}=e;s=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:It})}else throw new Po("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return await We(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await We(this.storage,`${this.storageKey}-code-verifier`),U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mf})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mf})}else throw new Po("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new Nr;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(U(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,a,l,u,c,h,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:y,wallet:_,statement:g,options:m}=e;let v;if(Ve())if(typeof _=="object")v=_;else{const x=window;if("ethereum"in x&&typeof x.ethereum=="object"&&"request"in x.ethereum&&typeof x.ethereum.request=="function")v=x.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=_}const S=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),k=await v.request({method:"eth_requestAccounts"}).then(x=>x).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=qy(k[0]);let C=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const x=await v.request({method:"eth_chainId"});C=_S(x)}const w={domain:S.host,address:T,statement:g,uri:S.href,version:"1",chainId:C,nonce:(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=bS(w),p=await v.request({method:"personal_sign",params:[wS(f),T]})}try{const{data:y,error:_}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:It});if(_)throw _;if(!y||!y.session||!y.user){const g=new Nr;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(U(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,s,o,a,l,u,c,h,d,f;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:_,wallet:g,statement:m,options:v}=e;let S;if(Ve())if(typeof g=="object")S=g;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))S=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const k=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const T=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let C;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")C=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)C=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)p=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),y=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${k.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const T=await S.signMessage(new TextEncoder().encode(p),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=T}}try{const{data:_,error:g}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:vr(y)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:It});if(g)throw g;if(!_||!_.session||!_.user){const m=new Nr;return this._returnResult({data:{user:null,session:null},error:m})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(U(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await rr(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new $x;const{data:s,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:It});if(await We(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new Nr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await We(this.storage,`${this.storageKey}-code-verifier`),U(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:It}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Nr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(U(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await zr(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Po("You must provide either an email or phone number.")}catch(a){if(await We(this.storage,`${this.storageKey}-code-verifier`),U(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:It});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await zr(this.storage,this.storageKey));const u=await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:dS});return!((s=u.data)===null||s===void 0)&&s.url&&Ve()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await We(this.storage,`${this.storageKey}-code-verifier`),U(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new gt;const{error:i}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Po("You must provide either an email or phone number and a type")}catch(n){if(U(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Zl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await rr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=nu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=lS(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pn}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Pn})})}catch(n){if(U(n))return eu(n)&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new gt;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await zr(this.storage,this.storageKey));const{data:u,error:c}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Pn});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await We(this.storage,`${this.storageKey}-code-verifier`),U(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gt;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Ao(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(U(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new gt;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(U(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ve())throw new Ro("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ro(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Tf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ro("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Tf("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new Ro("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const f=d-c;f*1e3<=Kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=d-h;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:y,error:_}=await this._getUser(s);if(_)throw _;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(U(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!eu(s))return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Bx(a)&&(a.status===404||a.status===401||a.status===403)||eu(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Gx(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await zr(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await We(this.storage,`${this.storageKey}-code-verifier`),U(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:h,error:d}=s;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Ve()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(U(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,h=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:It}),{data:d,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Nr}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:f}))}catch(i){if(await We(this.storage,`${this.storageKey}-code-verifier`),U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Qx(async i=>(i>0&&await Xx(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:It})),(i,s)=>{const o=200*Math.pow(2,i);return s&&tu(s)&&Date.now()+o-r<Kr})}catch(r){if(this._debug(n,"error",r),U(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ve()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await rr(this.storage,this.storageKey);if(i&&this.userStorage){let o=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await qr(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:nu()}else if(i&&!i.user&&!i.user){const o=await rr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await We(this.storage,this.storageKey+"-user"),await qr(this.storage,this.storageKey,i)):i.user=nu()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zl;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Zl}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),tu(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new gl;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new gt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),U(s)){const o={data:null,error:s};return tu(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await We(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await qr(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=jf(i);await qr(this.storage,this.storageKey,s)}else{const i=jf(n);await qr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await We(this.storage,this.storageKey),await We(this.storage,this.storageKey+"-code-verifier"),await We(this.storage,this.storageKey+"-user"),this.userStorage&&await We(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Kr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Kr}ms, refresh threshold is ${xc} ticks`),i<=xc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ky)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await zr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?OS(e.webauthn.credential_response):PS(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:CS(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:TS(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,i,s;if(e)try{const{payload:f}=Ao(e);let p=null;f.aal&&(p=f.aal);let y=p;const{data:{user:_},error:g}=await this.getUser(e);if(g)return this._returnResult({data:null,error:g});((r=(n=_==null?void 0:_.factors)===null||n===void 0?void 0:n.filter(S=>S.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(y="aal2");const v=f.amr||[];return{data:{currentLevel:p,nextLevel:y,currentAuthenticationMethods:v},error:null}}catch(f){if(U(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ao(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new gt})})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new gt});const o=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new gt});const o=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await W(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new gt})})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await W(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gt})})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Nx>i)return r;const{data:s,error:o}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return this._returnResult({data:null,error:p});r=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Ao(r);n!=null&&n.allowExpired||sS(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const c=oS(i.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Kx(`${a}.${l}`)))throw new Ec("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}}Vs.nextInstanceID={};const zS=Vs,BS="2.95.3";let Zi="";typeof Deno<"u"?Zi="deno":typeof document<"u"?Zi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zi="react-native":Zi="node";const FS={"X-Client-Info":`supabase-js-${Zi}/${BS}`},$S={headers:FS},US={schema:"public"},WS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VS={};function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function HS(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KS(t){var e=HS(t,"string");return Hs(e)=="symbol"?e:e+""}function qS(t,e,n){return(e=KS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bf(Object(n),!0).forEach(function(r){qS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const GS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),YS=()=>Headers,JS=(t,e,n)=>{const r=GS(n),i=YS();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Ee(Ee({},o),{},{headers:u}))}};function XS(t){return t.endsWith("/")?t:t+"/"}function QS(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,d={db:Ee(Ee({},l),i),auth:Ee(Ee({},u),s),realtime:Ee(Ee({},c),o),storage:{},global:Ee(Ee(Ee({},h),a),{},{headers:Ee(Ee({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function ZS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(XS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ek=class extends zS{constructor(t){super(t)}},tk=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const s=ZS(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,a={db:US,realtime:VS,auth:Ee(Ee({},WS),{},{storageKey:o}),global:$S},l=QS(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=JS(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ee({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Bb(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new jx(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Ab(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:o,lock:a,debug:l,throwOnError:u},c,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ek({url:this.authUrl.href,headers:Ee(Ee({},d),c),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new nx(this.realtimeUrl.href,Ee(Ee({},t),{},{params:Ee(Ee({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nk=(t,e,n)=>new tk(t,e,n);function rk(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}rk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ik="https://gvjgbzcxmxrlmsbdsmus.supabase.co",sk="sb_publishable_NOXMlW0_adxGVLzziVGRKg_63YoqB-2",Yy=nk(ik,sk),Ur=({label:t,name:e,value:n,onChange:r})=>b.jsxs("div",{style:{marginBottom:"2rem"},children:[b.jsx("label",{style:{fontWeight:"700",fontSize:"0.9rem",marginBottom:"1rem",display:"block",color:"var(--primary-color)"},children:t}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"400px"},children:[b.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"800",color:"var(--text-muted)",textTransform:"uppercase"},children:"Disagree"}),b.jsx("div",{style:{display:"flex",gap:"8px"},children:[1,2,3,4,5].map(i=>b.jsx("div",{onClick:()=>r(i),style:{width:"40px",height:"40px",borderRadius:"50%",border:`2px solid ${n===i?"var(--primary-accent)":"#e2e8f0"}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",background:n===i?"var(--primary-accent)":"white",color:n===i?"white":"var(--text-main)",fontWeight:"700",transition:"all 0.2s ease",boxShadow:n===i?"0 4px 12px rgba(59, 130, 246, 0.3)":"none"},children:i},i))}),b.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"800",color:"var(--text-muted)",textTransform:"uppercase"},children:"Agree"})]})]}),ok=()=>{const t=Oy(),[e,n]=I.useState(!1),[r,i]=I.useState({age:"",gender:"",occupation:"",d_trust:0,d_appeal:0,d_intent:0,o_trust:0,o_appeal:0,o_intent:0}),s=async a=>{if(a.preventDefault(),!r.age||r.d_trust===0||r.o_trust===0){alert("Please complete all evaluation fields.");return}n(!0);const l={age:r.age,gender:r.gender,occupation:r.occupation,d_trust:parseInt(r.d_trust),d_appeal:parseInt(r.d_appeal),d_intent:parseInt(r.d_intent),o_trust:parseInt(r.o_trust),o_appeal:parseInt(r.o_appeal),o_intent:parseInt(r.o_intent)};try{const u=JSON.parse(localStorage.getItem("survey_responses")||"[]");localStorage.setItem("survey_responses",JSON.stringify([...u,l]));const{error:c}=await Yy.from("responses").insert([l]);c&&(console.error("Cloud Sync Error:",c.message),alert(`Data saved locally! Note: Cloud sync failed because: ${c.message}. Please check if the 'responses' table exists in your Supabase project.`)),t("/dashboard")}catch(u){console.error("Submission Logic Error:",u),alert("Critical failure during save. Please try again.")}finally{n(!1)}},o=(a,l)=>i(u=>({...u,[a]:l}));return b.jsxs("section",{className:"animate-in",children:[b.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem"},children:[b.jsx("h2",{style:{fontSize:"3.5rem",marginBottom:"1rem"},children:"Consumer Perception Survey"}),b.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.2rem",maxWidth:"700px",margin:"0 auto"},children:"Help us understand the psychological drivers behind marketing effectiveness in the modern age."})]}),b.jsxs("form",{onSubmit:s,children:[b.jsxs("div",{className:"glass-panel",style:{marginBottom:"3rem"},children:[b.jsxs("h3",{style:{marginBottom:"2rem",display:"flex",alignItems:"center",gap:"1rem"},children:[b.jsx("span",{style:{background:"var(--primary-accent)",color:"white",width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.9rem"},children:"01"}),"Demographic Profiling"]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"2rem"},children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{style:{fontWeight:600,display:"block",marginBottom:"0.5rem"},children:"Age Cohort"}),b.jsxs("select",{className:"form-control",value:r.age,onChange:a=>o("age",a.target.value),required:!0,children:[b.jsx("option",{value:"",children:"Select Age"}),b.jsx("option",{value:"18-30",children:"1830 (Gen Z / Young Millennial)"}),b.jsx("option",{value:"31-50",children:"3150 (Millennial / Gen X)"}),b.jsx("option",{value:"50+",children:"50+ (Baby Boomer / Silent)"})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{style:{fontWeight:600,display:"block",marginBottom:"0.5rem"},children:"Occupation"}),b.jsx("input",{type:"text",className:"form-control",placeholder:"Professional Title",value:r.occupation,onChange:a=>o("occupation",a.target.value),required:!0})]})]})]}),b.jsxs("div",{style:{marginBottom:"3rem"},children:[b.jsx("h3",{style:{marginBottom:"3rem",textAlign:"center",fontSize:"2rem"},children:b.jsx("span",{style:{color:"var(--primary-accent)"},children:"Comparative Analysis"})}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"3rem"},children:[b.jsxs("div",{className:"ad-card",style:{border:"1px solid #e2e8f0"},children:[b.jsxs("div",{className:"ad-img-wrapper",style:{position:"relative"},children:[b.jsx("img",{src:"https://storage.googleapis.com/sales.appinst.io/2019/04/the-ultimate-guide-to-offline-marketing.png",alt:"Offline Billboard Advertisement"}),b.jsxs("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"linear-gradient(to top, rgba(0,0,0,0.8), transparent)",color:"white",padding:"2rem 1.5rem 1rem",fontSize:"1.2rem",fontWeight:"900",letterSpacing:"1px"},children:["OFFLINE MARKET",b.jsx("div",{style:{fontSize:"0.7rem",fontWeight:"400",opacity:.8,marginTop:"0.2rem"},children:"Traditional Billboard & Physical Stimuli"})]})]}),b.jsxs("div",{style:{padding:"2.5rem"},children:[b.jsx(Ur,{label:"Trust in the brand",value:r.o_trust,onChange:a=>o("o_trust",a)}),b.jsx(Ur,{label:"Appeal of the ad",value:r.o_appeal,onChange:a=>o("o_appeal",a)}),b.jsx(Ur,{label:"Likelihood to buy",value:r.o_intent,onChange:a=>o("o_intent",a)})]})]}),b.jsxs("div",{className:"ad-card",style:{border:"1px solid #e2e8f0"},children:[b.jsxs("div",{className:"ad-img-wrapper",style:{position:"relative"},children:[b.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTboMbQFH9Fm1he_uneOlSoLwckG3T02_cWEw&s",alt:"Online Digital Advertisement"}),b.jsxs("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"linear-gradient(to top, rgba(15, 23, 42, 0.8), transparent)",color:"white",padding:"2rem 1.5rem 1rem",fontSize:"1.2rem",fontWeight:"900",letterSpacing:"1px"},children:["ONLINE MARKET",b.jsx("div",{style:{fontSize:"0.7rem",fontWeight:"400",opacity:.8,marginTop:"0.2rem"},children:"Digital Campaigns & Social Micro-Targets"})]})]}),b.jsxs("div",{style:{padding:"2.5rem"},children:[b.jsx(Ur,{label:"Trust in the brand",value:r.d_trust,onChange:a=>o("d_trust",a)}),b.jsx(Ur,{label:"Appeal of the ad",value:r.d_appeal,onChange:a=>o("d_appeal",a)}),b.jsx(Ur,{label:"Likelihood to buy",value:r.d_intent,onChange:a=>o("d_intent",a)})]})]})]})]}),b.jsxs("div",{style:{textAlign:"center",paddingBottom:"4rem"},children:[b.jsx("button",{type:"submit",disabled:e,className:"btn-wow",style:{padding:"1.5rem 5rem",background:e?"var(--text-muted)":"var(--primary-color)",color:"white",opacity:e?.7:1,cursor:e?"not-allowed":"pointer"},children:e?"Syncing to Intelligence Cloud...":"Submit Research Data"}),b.jsx("p",{style:{marginTop:"1.5rem",fontSize:"0.85rem",color:"var(--text-muted)"},children:"* Your data will be anonymous and used for academic research only."})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function oo(t){return t+.5|0}const In=(t,e,n)=>Math.max(Math.min(t,n),e);function es(t){return In(oo(t*2.55),0,255)}function qn(t){return In(oo(t*255),0,255)}function cn(t){return In(oo(t/2.55)/100,0,1)}function Ff(t){return In(oo(t*100),0,100)}const Et={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cc=[..."0123456789ABCDEF"],ak=t=>Cc[t&15],lk=t=>Cc[(t&240)>>4]+Cc[t&15],jo=t=>(t&240)>>4===(t&15),uk=t=>jo(t.r)&&jo(t.g)&&jo(t.b)&&jo(t.a);function ck(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Et[t[1]]*17,g:255&Et[t[2]]*17,b:255&Et[t[3]]*17,a:e===5?Et[t[4]]*17:255}:(e===7||e===9)&&(n={r:Et[t[1]]<<4|Et[t[2]],g:Et[t[3]]<<4|Et[t[4]],b:Et[t[5]]<<4|Et[t[6]],a:e===9?Et[t[7]]<<4|Et[t[8]]:255})),n}const hk=(t,e)=>t<255?e(t):"";function dk(t){var e=uk(t)?ak:lk;return t?"#"+e(t.r)+e(t.g)+e(t.b)+hk(t.a,e):void 0}const fk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Jy(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function pk(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function gk(t,e,n){const r=Jy(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function mk(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function Dh(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=mk(n,r,i,c,s),l=l*60+.5),[l|0,u||0,a]}function Nh(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(qn)}function zh(t,e,n){return Nh(Jy,t,e,n)}function yk(t,e,n){return Nh(gk,t,e,n)}function vk(t,e,n){return Nh(pk,t,e,n)}function Xy(t){return(t%360+360)%360}function _k(t){const e=fk.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?es(+e[5]):qn(+e[5]));const i=Xy(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=yk(i,s,o):e[1]==="hsv"?r=vk(i,s,o):r=zh(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function wk(t,e){var n=Dh(t);n[0]=Xy(n[0]+e),n=zh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function bk(t){if(!t)return;const e=Dh(t),n=e[0],r=Ff(e[1]),i=Ff(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${cn(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const $f={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Uf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function xk(){const t={},e=Object.keys(Uf),n=Object.keys($f);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,$f[s]);s=parseInt(Uf[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Io;function Sk(t){Io||(Io=xk(),Io.transparent=[0,0,0,0]);const e=Io[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const kk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ek(t){const e=kk.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?es(o):In(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?es(r):In(r,0,255)),i=255&(e[4]?es(i):In(i,0,255)),s=255&(e[6]?es(s):In(s,0,255)),{r,g:i,b:s,a:n}}}function Ck(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${cn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const iu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Wr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Tk(t,e,n){const r=Wr(cn(t.r)),i=Wr(cn(t.g)),s=Wr(cn(t.b));return{r:qn(iu(r+n*(Wr(cn(e.r))-r))),g:qn(iu(i+n*(Wr(cn(e.g))-i))),b:qn(iu(s+n*(Wr(cn(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Mo(t,e,n){if(t){let r=Dh(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=zh(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Qy(t,e){return t&&Object.assign(e||{},t)}function Wf(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=qn(t[3]))):(e=Qy(t,{r:0,g:0,b:0,a:1}),e.a=qn(e.a)),e}function Ok(t){return t.charAt(0)==="r"?Ek(t):_k(t)}class Ks{constructor(e){if(e instanceof Ks)return e;const n=typeof e;let r;n==="object"?r=Wf(e):n==="string"&&(r=ck(e)||Sk(e)||Ok(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Qy(this._rgb);return e&&(e.a=cn(e.a)),e}set rgb(e){this._rgb=Wf(e)}rgbString(){return this._valid?Ck(this._rgb):void 0}hexString(){return this._valid?dk(this._rgb):void 0}hslString(){return this._valid?bk(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Tk(this._rgb,e._rgb,n)),this}clone(){return new Ks(this.rgb)}alpha(e){return this._rgb.a=qn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=oo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Mo(this._rgb,2,e),this}darken(e){return Mo(this._rgb,2,-e),this}saturate(e){return Mo(this._rgb,1,e),this}desaturate(e){return Mo(this._rgb,1,-e),this}rotate(e){return wk(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function rn(){}const Pk=(()=>{let t=0;return()=>t++})();function ce(t){return t==null}function Le(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Q(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function et(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function qt(t,e){return et(t)?t:e}function q(t,e){return typeof t>"u"?e:t}const Rk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Zy=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function pe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function oe(t,e,n,r){let i,s,o;if(Le(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Q(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Na(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function za(t){if(Le(t))return t.map(za);if(Q(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=za(t[n[i]]);return e}return t}function ev(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Ak(t,e,n,r){if(!ev(t))return;const i=e[t],s=n[t];Q(i)&&Q(s)?qs(i,s,r):e[t]=za(s)}function qs(t,e,n){const r=Le(e)?e:[e],i=r.length;if(!Q(t))return t;n=n||{};const s=n.merger||Ak;let o;for(let a=0;a<i;++a){if(o=r[a],!Q(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],t,o,n)}return t}function ms(t,e){return qs(t,e,{merger:jk})}function jk(t,e,n){if(!ev(t))return;const r=e[t],i=n[t];Q(r)&&Q(i)?ms(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=za(i))}const Vf={"":t=>t,x:t=>t.x,y:t=>t.y};function Ik(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Mk(t){const e=Ik(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Tr(t,e){return(Vf[e]||(Vf[e]=Mk(e)))(t)}function Bh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Gs=t=>typeof t<"u",Jn=t=>typeof t=="function",Hf=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Lk(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ue=Math.PI,be=2*ue,Dk=be+ue,Ba=Number.POSITIVE_INFINITY,Nk=ue/180,Ne=ue/2,ir=ue/4,Kf=ue*2/3,tv=Math.log10,en=Math.sign;function ys(t,e,n){return Math.abs(t-e)<n}function qf(t){const e=Math.round(t);t=ys(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(tv(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function zk(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Bk(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Fa(t){return!Bk(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Fk(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function $k(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function fn(t){return t*(ue/180)}function Uk(t){return t*(180/ue)}function Gf(t){if(!et(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function nv(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*ue&&(s+=be),{angle:s,distance:i}}function Tc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Wk(t,e){return(t-e+Dk)%be-ue}function vt(t){return(t%be+be)%be}function Ys(t,e,n,r){const i=vt(t),s=vt(e),o=vt(n),a=vt(s-i),l=vt(o-i),u=vt(i-s),c=vt(i-o);return i===s||i===o||r&&s===o||a>l&&u<c}function ct(t,e,n){return Math.max(e,Math.min(n,t))}function Vk(t){return ct(t,-32768,32767)}function pn(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Fh(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Oc=(t,e,n,r)=>Fh(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),Hk=(t,e,n)=>Fh(t,n,r=>t[r][e]>=n);function Kk(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const rv=["push","pop","shift","splice","unshift"];function qk(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),rv.forEach(n=>{const r="_onData"+Bh(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Yf(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(rv.forEach(s=>{delete t[s]}),delete t._chartjs)}function iv(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const sv=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ov(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,sv.call(window,()=>{r=!1,t.apply(e,n)}))}}function Gk(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const av=t=>t==="start"?"left":t==="end"?"right":"center",mt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Yk=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,Lo=t=>t===0||t===1,Jf=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*be/n)),Xf=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*be/n)+1,vs={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ne)+1,easeOutSine:t=>Math.sin(t*Ne),easeInOutSine:t=>-.5*(Math.cos(ue*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Lo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Lo(t)?t:Jf(t,.075,.3),easeOutElastic:t=>Lo(t)?t:Xf(t,.075,.3),easeInOutElastic(t){return Lo(t)?t:t<.5?.5*Jf(t*2,.1125,.45):.5+.5*Xf(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-vs.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?vs.easeInBounce(t*2)*.5:vs.easeOutBounce(t*2-1)*.5+.5};function $h(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Qf(t){return $h(t)?t:new Ks(t)}function su(t){return $h(t)?t:new Ks(t).saturate(.5).darken(.1).hexString()}const Jk=["x","y","borderWidth","radius","tension"],Xk=["color","borderColor","backgroundColor"];function Qk(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Xk},numbers:{type:"number",properties:Jk}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Zk(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Zf=new Map;function e1(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Zf.get(n);return r||(r=new Intl.NumberFormat(t,e),Zf.set(n,r)),r}function Uh(t,e,n){return e1(e,n).format(t)}const t1={values(t){return Le(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=n1(t,n)}const o=tv(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Uh(t,r,l)}};function n1(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var lv={formatters:t1};function r1(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Or=Object.create(null),Pc=Object.create(null);function _s(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function ou(t,e,n){return typeof e=="string"?qs(_s(t,e),n):qs(_s(t,""),e)}class i1{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>su(i.backgroundColor),this.hoverBorderColor=(r,i)=>su(i.borderColor),this.hoverColor=(r,i)=>su(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ou(this,e,n)}get(e){return _s(this,e)}describe(e,n){return ou(Pc,e,n)}override(e,n){return ou(Or,e,n)}route(e,n,r,i){const s=_s(this,e),o=_s(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[i];return Q(l)?Object.assign({},u,l):q(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Pe=new i1({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Qk,Zk,r1]);function s1(t){return!t||ce(t.size)||ce(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ep(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function sr(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function tp(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Rc(t,e,n,r){uv(t,e,n,r,null)}function uv(t,e,n,r,i){let s,o,a,l,u,c,h,d;const f=e.pointStyle,p=e.rotation,y=e.radius;let _=(p||0)*Nk;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(_),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,y,0,0,be):t.arc(n,r,y,0,be),t.closePath();break;case"triangle":c=i?i/2:y,t.moveTo(n+Math.sin(_)*c,r-Math.cos(_)*y),_+=Kf,t.lineTo(n+Math.sin(_)*c,r-Math.cos(_)*y),_+=Kf,t.lineTo(n+Math.sin(_)*c,r-Math.cos(_)*y),t.closePath();break;case"rectRounded":u=y*.516,l=y-u,o=Math.cos(_+ir)*l,h=Math.cos(_+ir)*(i?i/2-u:l),a=Math.sin(_+ir)*l,d=Math.sin(_+ir)*(i?i/2-u:l),t.arc(n-h,r-a,u,_-ue,_-Ne),t.arc(n+d,r-o,u,_-Ne,_),t.arc(n+h,r+a,u,_,_+Ne),t.arc(n-d,r+o,u,_+Ne,_+ue),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*y,c=i?i/2:l,t.rect(n-c,r-l,2*c,2*l);break}_+=ir;case"rectRot":h=Math.cos(_)*(i?i/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,d=Math.sin(_)*(i?i/2:y),t.moveTo(n-h,r-a),t.lineTo(n+d,r-o),t.lineTo(n+h,r+a),t.lineTo(n-d,r+o),t.closePath();break;case"crossRot":_+=ir;case"cross":h=Math.cos(_)*(i?i/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,d=Math.sin(_)*(i?i/2:y),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"star":h=Math.cos(_)*(i?i/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,d=Math.sin(_)*(i?i/2:y),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o),_+=ir,h=Math.cos(_)*(i?i/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,d=Math.sin(_)*(i?i/2:y),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(_)*y,a=Math.sin(_)*y,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(_)*(i?i/2:y),r+Math.sin(_)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Js(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ml(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function yl(t){t.restore()}function o1(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function a1(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function l1(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ce(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function u1(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function c1(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function $a(t,e,n,r,i,s={}){const o=Le(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,l1(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&c1(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ce(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,r,s.maxWidth)),t.fillText(u,n,r,s.maxWidth),u1(t,n,r,u,s),r+=Number(i.lineHeight);t.restore()}function Ua(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*ue,ue,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,ue,Ne,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Ne,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Ne,!0),t.lineTo(n+o.topLeft,r)}const h1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,d1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function f1(t,e){const n=(""+t).match(h1);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const p1=t=>+t||0;function Wh(t,e){const n={},r=Q(e),i=r?Object.keys(e):e,s=Q(t)?r?o=>q(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=p1(s(o));return n}function cv(t){return Wh(t,{top:"y",right:"x",bottom:"y",left:"x"})}function pi(t){return Wh(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ut(t){const e=cv(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ht(t,e){t=t||{},e=e||Pe.font;let n=q(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=q(t.style,e.style);r&&!(""+r).match(d1)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:q(t.family,e.family),lineHeight:f1(q(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:q(t.weight,e.weight),string:""};return i.string=s1(i),i}function Do(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function g1(t,e,n){const{min:r,max:i}=t,s=Zy(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function jr(t,e){return Object.assign(Object.create(t),e)}function Vh(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=pv("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Vh([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return dv(a,l,()=>S1(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return rp(a).includes(l)},ownKeys(a){return rp(a)},set(a,l,u){const c=a._storage||(a._storage=i());return a[l]=c[l]=u,delete a._keys,!0}})}function Ei(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:hv(t,r),setContext:s=>Ei(t,s,n,r),override:s=>Ei(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return dv(s,o,()=>y1(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function hv(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Jn(n)?n:()=>n,isIndexable:Jn(r)?r:()=>r}}const m1=(t,e)=>t?t+Bh(e):e,Hh=(t,e)=>Q(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dv(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function y1(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Jn(a)&&o.isScriptable(e)&&(a=v1(e,a,t,n)),Le(a)&&a.length&&(a=_1(e,a,t,o.isIndexable)),Hh(e,a)&&(a=Ei(a,i,s&&s[e],o)),a}function v1(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),Hh(t,l)&&(l=Kh(i._scopes,i,t,l)),l}function _1(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Q(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const h=Kh(u,i,t,c);e.push(Ei(h,s,o&&o[t],a))}}return e}function fv(t,e,n){return Jn(t)?t(e,n):t}const w1=(t,e)=>t===!0?e:typeof t=="string"?Tr(e,t):void 0;function b1(t,e,n,r,i){for(const s of e){const o=w1(n,s);if(o){t.add(o);const a=fv(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Kh(t,e,n,r){const i=e._rootScopes,s=fv(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=np(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=np(a,o,s,l,r),l===null)?!1:Vh(Array.from(a),[""],i,s,()=>x1(e,n,r))}function np(t,e,n,r,i){for(;n;)n=b1(t,e,n,r,i);return n}function x1(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Le(i)&&Q(n)?n:i||{}}function S1(t,e,n,r){let i;for(const s of e)if(i=pv(m1(s,t),n),typeof i<"u")return Hh(t,i)?Kh(n,r,t,i):i}function pv(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function rp(t){let e=t._keys;return e||(e=t._keys=k1(t._scopes)),e}function k1(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const E1=Number.EPSILON||1e-14,Ci=(t,e)=>e<t.length&&!t[e].skip&&t[e],gv=t=>t==="x"?"y":"x";function C1(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=Tc(s,i),l=Tc(o,s);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=r*u,d=r*c;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function T1(t,e,n){const r=t.length;let i,s,o,a,l,u=Ci(t,0);for(let c=0;c<r-1;++c)if(l=u,u=Ci(t,c+1),!(!l||!u)){if(ys(e[c],0,E1)){n[c]=n[c+1]=0;continue}i=n[c]/e[c],s=n[c+1]/e[c],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=i*o*e[c],n[c+1]=s*o*e[c])}}function O1(t,e,n="x"){const r=gv(n),i=t.length;let s,o,a,l=Ci(t,0);for(let u=0;u<i;++u){if(o=a,a=l,l=Ci(t,u+1),!a)continue;const c=a[n],h=a[r];o&&(s=(c-o[n])/3,a[`cp1${n}`]=c-s,a[`cp1${r}`]=h-s*e[u]),l&&(s=(l[n]-c)/3,a[`cp2${n}`]=c+s,a[`cp2${r}`]=h+s*e[u])}}function P1(t,e="x"){const n=gv(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,u=Ci(t,0);for(o=0;o<r;++o)if(a=l,l=u,u=Ci(t,o+1),!!l){if(u){const c=u[e]-l[e];i[o]=c!==0?(u[n]-l[n])/c:0}s[o]=a?u?en(i[o-1])!==en(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}T1(t,i,s),O1(t,s,e)}function No(t,e,n){return Math.max(Math.min(t,n),e)}function R1(t,e){let n,r,i,s,o,a=Js(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Js(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=No(i.cp1x,e.left,e.right),i.cp1y=No(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=No(i.cp2x,e.left,e.right),i.cp2y=No(i.cp2y,e.top,e.bottom)))}function A1(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")P1(t,i);else{let u=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=C1(u,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&R1(t,n)}function qh(){return typeof window<"u"&&typeof document<"u"}function Gh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wa(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const vl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function j1(t,e){return vl(t).getPropertyValue(e)}const I1=["top","right","bottom","left"];function br(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=I1[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const M1=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function L1(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(M1(i,s,t.target))a=i,l=s;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function hr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=vl(n),s=i.boxSizing==="border-box",o=br(i,"padding"),a=br(i,"border","width"),{x:l,y:u,box:c}=L1(t,n),h=o.left+(c&&a.left),d=o.top+(c&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((u-d)/p*n.height/r)}}function D1(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Gh(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=vl(s),l=br(a,"border","width"),u=br(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=Wa(a.maxWidth,s,"clientWidth"),i=Wa(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Ba,maxHeight:i||Ba}}const Mn=t=>Math.round(t*10)/10;function N1(t,e,n,r){const i=vl(t),s=br(i,"margin"),o=Wa(i.maxWidth,t,"clientWidth")||Ba,a=Wa(i.maxHeight,t,"clientHeight")||Ba,l=D1(t,e,n);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const d=br(i,"border","width"),f=br(i,"padding");u-=f.width+d.width,c-=f.height+d.height}return u=Math.max(0,u-s.width),c=Math.max(0,r?u/r:c-s.height),u=Mn(Math.min(u,o,l.maxWidth)),c=Mn(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Mn(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=Mn(Math.floor(c*r))),{width:u,height:c}}function ip(t,e,n){const r=e||1,i=Mn(t.height*r),s=Mn(t.width*r);t.height=Mn(t.height),t.width=Mn(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const z1=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};qh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function sp(t,e){const n=j1(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function dr(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function B1(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function F1(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=dr(t,i,n),a=dr(i,s,n),l=dr(s,e,n),u=dr(o,a,n),c=dr(a,l,n);return dr(u,c,n)}const $1=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},U1=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function gi(t,e,n){return t?$1(e,n):U1()}function mv(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function yv(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function vv(t){return t==="angle"?{between:Ys,compare:Wk,normalize:vt}:{between:pn,compare:(e,n)=>e-n,normalize:e=>e}}function op({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function W1(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=vv(r),l=e.length;let{start:u,end:c,loop:h}=t,d,f;if(h){for(u+=l,c+=l,d=0,f=l;d<f&&o(a(e[u%l][r]),i,s);++d)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:h,style:t.style}}function _v(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:u}=vv(r),{start:c,end:h,loop:d,style:f}=W1(t,e,n),p=[];let y=!1,_=null,g,m,v;const S=()=>l(i,v,g)&&a(i,v)!==0,k=()=>a(s,g)===0||l(s,v,g),T=()=>y||S(),C=()=>!y||k();for(let w=c,x=c;w<=h;++w)m=e[w%o],!m.skip&&(g=u(m[r]),g!==v&&(y=l(g,i,s),_===null&&T()&&(_=a(g,i)===0?w:x),_!==null&&C()&&(p.push(op({start:_,end:w,loop:d,count:o,style:f})),_=null),x=w,v=g));return _!==null&&p.push(op({start:_,end:h,loop:d,count:o,style:f})),p}function wv(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=_v(r[i],t.points,e);s.length&&n.push(...s)}return n}function V1(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function H1(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%i];u.skip||u.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function K1(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=V1(n,i,s,r);if(r===!0)return ap(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,u=!!t._fullLoop&&o===0&&a===i-1;return ap(t,H1(n,o,l,u),n,e)}function ap(t,e,n,r){return!r||!r.setContext||!n?e:q1(t,e,n,r)}function q1(t,e,n,r){const i=t._chart.getContext(),s=lp(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let c=s,h=e[0].start,d=h;function f(p,y,_,g){const m=a?-1:1;if(p!==y){for(p+=l;n[p%l].skip;)p-=m;for(;n[y%l].skip;)y+=m;p%l!==y%l&&(u.push({start:p%l,end:y%l,loop:_,style:g}),c=g,h=y%l)}}for(const p of e){h=a?h:p.start;let y=n[h%l],_;for(d=h+1;d<=p.end;d++){const g=n[d%l];_=lp(r.setContext(jr(i,{type:"segment",p0:y,p1:g,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),G1(_,c)&&f(h,d-1,p.loop,c),y=g,c=_}h<d-1&&f(h,d-1,p.loop,c)}return u}function lp(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function G1(t,e){if(!e)return!1;const n=[],r=function(i,s){return $h(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function zo(t,e,n){return t.options.clip?t[n]:e[n]}function Y1(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:zo(n,e,"left"),right:zo(n,e,"right"),top:zo(r,e,"top"),bottom:zo(r,e,"bottom")}:e}function bv(t,e){const n=e._clip;if(n.disabled)return!1;const r=Y1(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class J1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=sv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var sn=new J1;const up="transparent",X1={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Qf(t||up),i=r.valid&&Qf(e||up);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Q1{constructor(e,n,r,i){const s=n[r];i=Do([e.to,i,s,e.from]);const o=Do([e.from,s,i]);this._active=!0,this._fn=e.fn||X1[e.type||typeof o],this._easing=vs[e.easing]||vs.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Do([e.to,n,i,e.from]),this._from=Do([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class xv{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Q(e))return;const n=Object.keys(Pe.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Q(s))return;const o={};for(const a of n)o[a]=s[a];(Le(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=eE(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&Z1(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const c=n[u];let h=s[u];const d=r.get(u);if(h)if(d&&h.active()){h.update(d,c,a);continue}else h.cancel();if(!d||!d.duration){e[u]=c;continue}s[u]=h=new Q1(d,e,u,c),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return sn.add(this._chart,r),!0}}function Z1(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function eE(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function cp(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function tE(t,e,n){if(n===!1)return!1;const r=cp(t,n),i=cp(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function nE(t){let e,n,r,i;return Q(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function Sv(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function hp(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,u;if(e===null)return;let c=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(c=!0,r.all)continue;break}u=t.values[l],et(u)&&(s||e===0||en(e)===en(u))&&(e+=u)}return!c&&!r.all?0:e}function rE(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[i]:c,[s]:t[c]};return a}function au(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function iE(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function sE(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function oE(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function dp(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function fp(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,u=o.axis,c=iE(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:y,[u]:_}=p,g=p._stacks||(p._stacks={});d=g[u]=oE(i,c,y),d[a]=_,d._top=dp(d,o,!0,r.type),d._bottom=dp(d,o,!1,r.type);const m=d._visualValues||(d._visualValues={});m[a]=_}}function lu(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function aE(t,e){return jr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function lE(t,e,n){return jr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Vi(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const uu=t=>t==="reset"||t==="none",pp=(t,e)=>e?t:Object.assign({},t),uE=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Sv(n,!0),values:null};class mi{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=au(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,s=n.xAxisID=q(r.xAxisID,lu(e,"x")),o=n.yAxisID=q(r.yAxisID,lu(e,"y")),a=n.rAxisID=q(r.rAxisID,lu(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,o,a),c=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Yf(this._data,this),e._stacked&&Vi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Q(n)){const i=this._cachedMeta;this._data=rE(n,i)}else if(r!==n){if(r){Yf(r,this);const i=this._cachedMeta;Vi(i),i._parsed=[]}n&&Object.isExtensible(n)&&qk(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=au(n.vScale,n),n.stack!==r.stack&&(i=!0,Vi(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(fp(this,n._parsed),n._stacked=au(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,u=e>0&&r._parsed[e-1],c,h,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{Le(i[e])?d=this.parseArrayData(r,i,e,n):Q(i[e])?d=this.parseObjectData(r,i,e,n):d=this.parsePrimitiveData(r,i,e,n);const f=()=>h[a]===null||u&&h[a]<u[a];for(c=0;c<n;++c)r._parsed[c+e]=h=d[c],l&&(f()&&(l=!1),u=h);r._sorted=l}o&&fp(this,d)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,h=new Array(i);let d,f,p;for(d=0,f=i;d<f;++d)p=d+r,h[d]={[a]:c||s.parse(u[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,u,c,h;for(l=0,u=i;l<u;++l)c=l+r,h=n[c],a[l]={x:s.parse(h[0],c),y:o.parse(h[1],c)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,h,d,f;for(c=0,h=i;c<h;++c)d=c+r,f=n[d],u[c]={x:s.parse(Tr(f,a),d),y:o.parse(Tr(f,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:Sv(i,!0),values:n._stacks[e.axis]._visualValues};return hp(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=hp(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=uE(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=sE(a);let d,f;function p(){f=i[d];const y=f[a.axis];return!et(f[e.axis])||c>y||h<y}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(u,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(u,e,f,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],et(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=nE(q(this.options.clip,tE(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,s,a,l),c=a;c<a+l;++c){const h=i[c];h.hidden||(h.active&&u?o.push(h):h.draw(e,s))}for(c=0;c<o.length;++c)o[c].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=lE(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=aE(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Gs(r);if(a)return pp(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),f=Object.keys(Pe.elements[e]),p=()=>this.getContext(r,i,n),y=u.resolveNamedOptions(d,f,p,h);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(pp(y,l))),y}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,n),d=c.getOptionScopes(this.getDataset(),h);l=c.createResolver(d,this.getContext(e,r,n))}const u=new xv(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||uu(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){uu(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!uu(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Vi(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$(mi,"defaults",{}),$(mi,"datasetElementType",null),$(mi,"dataElementType",null);function cE(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=iv(r.sort((i,s)=>i-s))}return t._cache.$bar}function hE(t){const e=t.iScale,n=cE(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(Gs(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function dE(t,e,n,r){const i=n.barThickness;let s,o;return ce(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function fE(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:u}}function pE(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:i,end:s,min:o,max:a}}function kv(t,e,n,r){return Le(t)?pE(t,e,n,r):e[n.axis]=n.parse(t,r),e}function gp(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let u,c,h,d;for(u=n,c=n+r;u<c;++u)d=e[u],h={},h[i.axis]=a||i.parse(o[u],u),l.push(kv(d,h,s,u));return l}function cu(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function gE(t,e,n){return t!==0?en(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function mE(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function yE(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:c}=mE(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=u:(n._bottom||0)===r?i=c:(s[mp(c,o,a,l)]=!0,i=u)),s[mp(i,o,a,l)]=!0,t.borderSkipped=s}function mp(t,e,n,r){return r?(t=vE(t,e,n),t=yp(t,n,e)):t=yp(t,e,n),t}function vE(t,e,n){return t===e?n:t===n?e:t}function yp(t,e,n){return t==="start"?e:t==="end"?n:t}function _E(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ra extends mi{parsePrimitiveData(e,n,r,i){return gp(e,n,r,i)}parseArrayData(e,n,r,i){return gp(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,c=o.axis==="x"?a:l,h=[];let d,f,p,y;for(d=r,f=r+i;d<f;++d)y=n[d],p={},p[s.axis]=s.parse(Tr(y,u),d),h.push(kv(Tr(y,c),p,o,d));return h}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=cu(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,i);for(let f=n;f<n+r;f++){const p=this.getParsed(f),y=s||ce(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,c),g=(p._stacks||{})[a.axis],m={horizontal:u,base:y.base,enableBorderRadius:!g||cu(p._custom)||o===g._top||o===g._bottom,x:u?y.head:_.center,y:u?_.center:y.head,height:u?_.size:Math.abs(y.size),width:u?Math.abs(y.size):_.size};d&&(m.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const v=m.options||e[f].options;yE(m,v,g,o),_E(m,v,c.ratio),this.updateElement(e[f],f,m,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],u=c=>{const h=c._parsed.find(f=>f[r.axis]===l),d=h&&h[c.vScale.axis];if(ce(d)||isNaN(d))return!0};for(const c of i)if(!(n!==void 0&&u(c))&&((s===!1||o.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[q(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||hE(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),u=l._custom,c=cu(u);let h=l[n.axis],d=0,f=r?this.applyStack(n,l,r):h,p,y;f!==h&&(d=f-h,f=h),c&&(h=u.barStart,f=u.barEnd-u.barStart,h!==0&&en(h)!==en(u.barEnd)&&(d=0),d+=h);const _=!ce(s)&&!c?s:d;let g=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(d+f):p=g,y=p-g,Math.abs(y)<o){y=gE(y,n,a)*o,h===a&&(g-=y/2);const m=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),S=Math.min(m,v),k=Math.max(m,v);g=Math.max(Math.min(g,k),S),p=g+y,r&&!c&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(p)-n.getValueForPixel(g))}if(g===n.getPixelForValue(a)){const m=en(y)*n.getLineWidthForValue(a)/2;g+=m,y-=m}return{size:y,base:g,head:p,center:p+y/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=q(i.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?fE(e,n,i,c*u):dE(e,n,i,c*u),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(q(d,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+f;a=h.start+h.chunk*p+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}$(ra,"id","bar"),$(ra,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),$(ra,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function wE(t,e,n){let r=1,i=1,s=0,o=0;if(e<be){const a=t,l=a+e,u=Math.cos(a),c=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(v,S,k)=>Ys(v,a,l,!0)?1:Math.max(S,S*n,k,k*n),p=(v,S,k)=>Ys(v,a,l,!0)?-1:Math.min(S,S*n,k,k*n),y=f(0,u,h),_=f(Ne,c,d),g=p(ue,u,h),m=p(ue+Ne,c,d);r=(y-g)/2,i=(_-m)/2,s=-(y+g)/2,o=-(_+m)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class ts extends mi{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Q(r[e])){const{key:l="value"}=this._parsing;s=u=>+Tr(r[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return fn(this.options.rotation-90)}_getCircumference(){return fn(this.options.circumference)}_getRotationExtents(){let e=be,n=-be;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(Rk(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:y}=wE(h,c,l),_=(r.width-o)/d,g=(r.height-o)/f,m=Math.max(Math.min(_,g)/2,0),v=Zy(this.options.radius,m),S=Math.max(v*l,0),k=(v-S)/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=y*v,i.total=this.calculateTotal(),this.outerRadius=v-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/be)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&u.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,i);let g=this._getRotation(),m;for(m=0;m<n;++m)g+=this._circumference(m,s);for(m=n;m<n+r;++m){const v=this._circumference(m,s),S=e[m],k={x:c+this.offsetX,y:h+this.offsetY,startAngle:g,endAngle:g+v,circumference:v,outerRadius:p,innerRadius:f};_&&(k.options=y||this.resolveDataElementOptions(m,S.active?"active":i)),g+=v,this.updateElement(S,m,k,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?be*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Uh(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(q(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$(ts,"id","doughnut"),$(ts,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),$(ts,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),$(ts,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:h.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:r,borderRadius:o&&(a||h.borderRadius),index:u}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Ac extends ts{}$(Ac,"id","pie"),$(Ac,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function or(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Yh{constructor(e){$(this,"options");this.options=e||{}}static override(e){Object.assign(Yh.prototype,e)}init(){}formats(){return or()}parse(){return or()}format(){return or()}add(){return or()}diff(){return or()}startOf(){return or()}endOf(){return or()}}var bE={_date:Yh};function xE(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const u=a._reversePixels?Hk:Oc;if(r){if(i._sharedOptions){const c=s[0],h=typeof c.getRange=="function"&&c.getRange(e);if(h){const d=u(s,e,n-h),f=u(s,e,n+h);return{lo:d.lo,hi:f.hi}}}}else{const c=u(s,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=t,f=d.slice(0,c.lo+1).reverse().findIndex(y=>!ce(y[h.axis]));c.lo-=Math.max(0,f);const p=d.slice(c.hi).findIndex(y=>!ce(y[h.axis]));c.hi+=Math.max(0,p)}return c}}return{lo:0,hi:s.length-1}}function _l(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:h,hi:d}=xE(s[a],e,o,i);for(let f=h;f<=d;++f){const p=c[f];p.skip||r(p,u,f)}}}function SE(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function hu(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||_l(t,n,e,function(a,l,u){!i&&!Js(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function kE(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],r),{angle:h}=nv(o,{x:e.x,y:e.y});Ys(h,u,c)&&i.push({element:o,datasetIndex:a,index:l})}return _l(t,n,e,s),i}function EE(t,e,n,r,i,s){let o=[];const a=SE(n);let l=Number.POSITIVE_INFINITY;function u(c,h,d){const f=c.inRange(e.x,e.y,i);if(r&&!f)return;const p=c.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!f)return;const _=a(e,p);_<l?(o=[{element:c,datasetIndex:h,index:d}],l=_):_===l&&o.push({element:c,datasetIndex:h,index:d})}return _l(t,n,e,u),o}function du(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?kE(t,e,n,i):EE(t,e,n,r,i,s)}function vp(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return _l(t,n,e,(l,u,c)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var CE={modes:{index(t,e,n,r){const i=hr(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?hu(t,i,s,r,o):du(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,h=u.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,r){const i=hr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?hu(t,i,s,r,o):du(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,r){const i=hr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return hu(t,i,s,r,o)},nearest(t,e,n,r){const i=hr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return du(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=hr(e,t);return vp(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=hr(e,t);return vp(t,i,"y",n.intersect,r)}}};const Ev=["left","top","right","bottom"];function Hi(t,e){return t.filter(n=>n.pos===e)}function _p(t,e){return t.filter(n=>Ev.indexOf(n.pos)===-1&&n.box.axis===e)}function Ki(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function TE(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function OE(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!Ev.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function PE(t,e){const n=OE(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:l&&e.availableHeight)}return n}function RE(t){const e=TE(t),n=Ki(e.filter(u=>u.box.fullSize),!0),r=Ki(Hi(e,"left"),!0),i=Ki(Hi(e,"right")),s=Ki(Hi(e,"top"),!0),o=Ki(Hi(e,"bottom")),a=_p(e,"x"),l=_p(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Hi(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function wp(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Cv(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function AE(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Q(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&Cv(o,s.getPadding());const a=Math.max(0,e.outerWidth-wp(o,t,"left","right")),l=Math.max(0,e.outerHeight-wp(o,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function jE(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function IE(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function ns(t,e,n,r){const i=[];let s,o,a,l,u,c;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,IE(a.horizontal,e));const{same:h,other:d}=AE(e,n,a,r);u|=h&&i.length,c=c||d,l.fullSize||i.push(a)}return u&&ns(i,e,n,r)||c}function Bo(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function bp(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*c,d=u.size||l.height;Gs(u.start)&&(o=u.start),l.fullSize?Bo(l,i.left,o,n.outerWidth-i.right-i.left,d):Bo(l,e.left+u.placed,o,h,d),u.start=o,u.placed+=h,o=l.bottom}else{const h=e.h*c,d=u.size||l.width;Gs(u.start)&&(s=u.start),l.fullSize?Bo(l,s,i.top,d,n.outerHeight-i.bottom-i.top):Bo(l,s,e.top+u.placed,d,h),u.start=s,u.placed+=h,s=l.right}}e.x=s,e.y=o}var Ln={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Ut(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=RE(t.boxes),l=a.vertical,u=a.horizontal;oe(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const c=l.reduce((y,_)=>_.box.options&&_.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},i);Cv(d,Ut(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),p=PE(l.concat(u),h);ns(a.fullSize,f,h,p),ns(l,f,h,p),ns(u,f,h,p)&&ns(l,f,h,p),jE(f),bp(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,bp(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},oe(a.chartArea,y=>{const _=y.box;Object.assign(_,t.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Tv{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class ME extends Tv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ia="$chartjs",LE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xp=t=>t===null||t==="";function DE(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[ia]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",xp(i)){const s=sp(t,"width");s!==void 0&&(t.width=s)}if(xp(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=sp(t,"height");s!==void 0&&(t.height=s)}return t}const Ov=z1?{passive:!0}:!1;function NE(t,e,n){t&&t.addEventListener(e,n,Ov)}function zE(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Ov)}function BE(t,e){const n=LE[t.type]||t.type,{x:r,y:i}=hr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Va(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function FE(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Va(a.addedNodes,r),o=o&&!Va(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function $E(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Va(a.removedNodes,r),o=o&&!Va(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Xs=new Map;let Sp=0;function Pv(){const t=window.devicePixelRatio;t!==Sp&&(Sp=t,Xs.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function UE(t,e){Xs.size||window.addEventListener("resize",Pv),Xs.set(t,e)}function WE(t){Xs.delete(t),Xs.size||window.removeEventListener("resize",Pv)}function VE(t,e,n){const r=t.canvas,i=r&&Gh(r);if(!i)return;const s=ov((a,l)=>{const u=i.clientWidth;n(a,l),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(i),UE(t,s),o}function fu(t,e,n){n&&n.disconnect(),e==="resize"&&WE(t)}function HE(t,e,n){const r=t.canvas,i=ov(s=>{t.ctx!==null&&n(BE(s,t))},t);return NE(r,e,i),i}class KE extends Tv{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(DE(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[ia])return!1;const r=n[ia].initial;["height","width"].forEach(s=>{const o=r[s];ce(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[ia],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:FE,detach:$E,resize:VE}[n]||HE;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:fu,detach:fu,resize:fu}[n]||zE)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return N1(e,n,r,i)}isAttached(e){const n=e&&Gh(e);return!!(n&&n.isConnected)}}function qE(t){return!qh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?ME:KE}class tn{constructor(){$(this,"x");$(this,"y");$(this,"active",!1);$(this,"options");$(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Fa(this.x)&&Fa(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}$(tn,"defaults",{}),$(tn,"defaultRoutes");function GE(t,e){const n=t.options.ticks,r=YE(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?XE(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return QE(e,u,s,o/i),u;const c=JE(s,e,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Fo(e,u,c,ce(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Fo(e,u,c,s[h],s[h+1]);return Fo(e,u,c,l,ce(f)?e.length:l+f),u}return Fo(e,u,c),u}function YE(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function JE(t,e,n){const r=ZE(t),i=e.length/n;if(!r)return Math.max(i,1);const s=zk(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function XE(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function QE(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Fo(t,e,n,r,i){const s=q(r,0),o=Math.min(q(i,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),c=s;c<0;)a++,c=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(s+a*n))}function ZE(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const eC=t=>t==="left"?"right":t==="right"?"left":t,kp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Ep=(t,e)=>Math.min(e||t,t);function Cp(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function tC(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-a||l>o+a)))return l}function nC(t,e){oe(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function qi(t){return t.drawTicks?t.tickLength:0}function Tp(t,e){if(!t.display)return 0;const n=ht(t.font,e),r=Ut(t.padding);return(Le(t.text)?t.text.length:1)*n.lineHeight+r.height}function rC(t,e){return jr(t,{scale:e,type:"scale"})}function iC(t,e,n){return jr(t,{tick:n,index:e,type:"tick"})}function sC(t,e,n){let r=av(t);return(n&&e!=="right"||!n&&e==="right")&&(r=eC(r)),r}function oC(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let h=0,d,f,p;const y=o-i,_=a-s;if(t.isHorizontal()){if(f=mt(r,s,a),Q(n)){const g=Object.keys(n)[0],m=n[g];p=c[g].getPixelForValue(m)+y-e}else n==="center"?p=(u.bottom+u.top)/2+y-e:p=kp(t,n,e);d=a-s}else{if(Q(n)){const g=Object.keys(n)[0],m=n[g];f=c[g].getPixelForValue(m)-_+e}else n==="center"?f=(u.left+u.right)/2-_+e:f=kp(t,n,e);p=mt(r,o,i),h=n==="left"?-Ne:Ne}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class ji extends tn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=qt(e,Number.POSITIVE_INFINITY),n=qt(n,Number.NEGATIVE_INFINITY),r=qt(r,Number.POSITIVE_INFINITY),i=qt(i,Number.NEGATIVE_INFINITY),{min:qt(e,r),max:qt(n,i),minDefined:et(e),maxDefined:et(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:qt(n,qt(r,n)),max:qt(r,qt(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pe(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=g1(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Cp(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=GE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pe(this.options.afterUpdate,[this])}beforeSetDimensions(){pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=pe(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Ep(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,f=ct(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),h+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-qi(e.grid)-n.padding-Tp(e.title,this.chart.options.font),u=Math.sqrt(h*h+d*d),o=Uk(Math.min(Math.asin(ct((c.highest.height+6)/a,-1,1)),Math.asin(ct(l/u,-1,1))-Math.asin(ct(d/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Tp(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=qi(s)+l):(e.height=this.maxHeight,e.width=qi(s)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:h,highest:d}=this._getLabelSizes(),f=r.padding*2,p=fn(this.labelRotation),y=Math.cos(p),_=Math.sin(p);if(a){const g=r.mirror?0:_*h.width+y*d.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=r.mirror?0:y*h.width+_*d.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(u,c,_,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?u?(d=i*e.width,f=r*n.height):(d=r*e.height,f=i*n.width):s==="start"?f=n.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let c=n.height/2,h=e.height/2;s==="start"?(c=0,h=e.height):s==="end"&&(c=n.height,h=0),this.paddingTop=c+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ce(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Cp(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/Ep(n,r));let u=0,c=0,h,d,f,p,y,_,g,m,v,S,k;for(h=0;h<n;h+=l){if(p=e[h].label,y=this._resolveTickFontOptions(h),i.font=_=y.string,g=s[_]=s[_]||{data:{},gc:[]},m=y.lineHeight,v=S=0,!ce(p)&&!Le(p))v=ep(i,g.data,g.gc,v,p),S=m;else if(Le(p))for(d=0,f=p.length;d<f;++d)k=p[d],!ce(k)&&!Le(k)&&(v=ep(i,g.data,g.gc,v,k),S+=m);o.push(v),a.push(S),u=Math.max(v,u),c=Math.max(S,c)}nC(s,n);const T=o.indexOf(u),C=a.indexOf(c),w=x=>({width:o[x]||0,height:a[x]||0});return{first:w(0),last:w(n-1),widest:w(T),highest:w(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Vk(this._alignToPixels?sr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=iC(this.getContext(),e,r))}return this.$context||(this.$context=rC(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=fn(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=qi(s),f=[],p=a.setContext(this.getContext()),y=p.display?p.width:0,_=y/2,g=function(K){return sr(r,K,y)};let m,v,S,k,T,C,w,x,E,O,R,B;if(o==="top")m=g(this.bottom),C=this.bottom-d,x=m-_,O=g(e.top)+_,B=e.bottom;else if(o==="bottom")m=g(this.top),O=e.top,B=g(e.bottom)-_,C=m+_,x=this.top+d;else if(o==="left")m=g(this.right),T=this.right-d,w=m-_,E=g(e.left)+_,R=e.right;else if(o==="right")m=g(this.left),E=e.left,R=g(e.right)-_,T=m+_,w=this.left+d;else if(n==="x"){if(o==="center")m=g((e.top+e.bottom)/2+.5);else if(Q(o)){const K=Object.keys(o)[0],N=o[K];m=g(this.chart.scales[K].getPixelForValue(N))}O=e.top,B=e.bottom,C=m+_,x=C+d}else if(n==="y"){if(o==="center")m=g((e.left+e.right)/2);else if(Q(o)){const K=Object.keys(o)[0],N=o[K];m=g(this.chart.scales[K].getPixelForValue(N))}T=m-_,w=T-d,E=e.left,R=e.right}const X=q(i.ticks.maxTicksLimit,h),H=Math.max(1,Math.ceil(h/X));for(v=0;v<h;v+=H){const K=this.getContext(v),N=s.setContext(K),A=a.setContext(K),P=N.lineWidth,z=N.color,M=A.dash||[],F=A.dashOffset,D=N.tickWidth,Z=N.tickColor,ie=N.tickBorderDash||[],te=N.tickBorderDashOffset;S=tC(this,v,l),S!==void 0&&(k=sr(r,S,P),u?T=w=E=R=k:C=x=O=B=k,f.push({tx1:T,ty1:C,tx2:w,ty2:x,x1:E,y1:O,x2:R,y2:B,width:P,color:z,borderDash:M,borderDashOffset:F,tickWidth:D,tickColor:Z,tickBorderDash:ie,tickBorderDashOffset:te}))}return this._ticksLength=h,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=s,d=qi(r.grid),f=d+c,p=h?-c:f,y=-fn(this.labelRotation),_=[];let g,m,v,S,k,T,C,w,x,E,O,R,B="middle";if(i==="top")T=this.bottom-p,C=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+p,C=this._getXAxisLabelAlignment();else if(i==="left"){const H=this._getYAxisLabelAlignment(d);C=H.textAlign,k=H.x}else if(i==="right"){const H=this._getYAxisLabelAlignment(d);C=H.textAlign,k=H.x}else if(n==="x"){if(i==="center")T=(e.top+e.bottom)/2+f;else if(Q(i)){const H=Object.keys(i)[0],K=i[H];T=this.chart.scales[H].getPixelForValue(K)+f}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")k=(e.left+e.right)/2-f;else if(Q(i)){const H=Object.keys(i)[0],K=i[H];k=this.chart.scales[H].getPixelForValue(K)}C=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?B="top":l==="end"&&(B="bottom"));const X=this._getLabelSizes();for(g=0,m=a.length;g<m;++g){v=a[g],S=v.label;const H=s.setContext(this.getContext(g));w=this.getPixelForTick(g)+s.labelOffset,x=this._resolveTickFontOptions(g),E=x.lineHeight,O=Le(S)?S.length:1;const K=O/2,N=H.color,A=H.textStrokeColor,P=H.textStrokeWidth;let z=C;o?(k=w,C==="inner"&&(g===m-1?z=this.options.reverse?"left":"right":g===0?z=this.options.reverse?"right":"left":z="center"),i==="top"?u==="near"||y!==0?R=-O*E+E/2:u==="center"?R=-X.highest.height/2-K*E+E:R=-X.highest.height+E/2:u==="near"||y!==0?R=E/2:u==="center"?R=X.highest.height/2-K*E:R=X.highest.height-O*E,h&&(R*=-1),y!==0&&!H.showLabelBackdrop&&(k+=E/2*Math.sin(y))):(T=w,R=(1-O)*E/2);let M;if(H.showLabelBackdrop){const F=Ut(H.backdropPadding),D=X.heights[g],Z=X.widths[g];let ie=R-F.top,te=0-F.left;switch(B){case"middle":ie-=D/2;break;case"bottom":ie-=D;break}switch(C){case"center":te-=Z/2;break;case"right":te-=Z;break;case"inner":g===m-1?te-=Z:g>0&&(te-=Z/2);break}M={left:te,top:ie,width:Z+F.width,height:D+F.height,color:H.backdropColor}}_.push({label:S,font:x,textOffset:R,options:{rotation:y,color:N,strokeColor:A,strokeWidth:P,textAlign:z,textBaseline:B,translation:[k,T],backdrop:M}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-fn(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,c;return n==="left"?i?(c=this.right+s,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?i?(c=this.left+s,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,h,d;this.isHorizontal()?(u=sr(e,this.left,o)-o/2,c=sr(e,this.right,a)+a/2,h=d=l):(h=sr(e,this.top,o)-o/2,d=sr(e,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,h),n.lineTo(c,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&ml(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;$a(r,u,0,c,l,a)}i&&yl(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=ht(r.font),o=Ut(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Q(n)?(l+=o.bottom,Le(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:h,rotation:d}=oC(this,l,n,a);$a(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:d,textAlign:sC(a,n,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=q(e.grid&&e.grid.z,-1),i=q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ji.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ht(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $o{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;uC(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,aC(e,o,r),this.override&&Pe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Pe[i]&&(delete Pe[i][r],this.override&&delete Or[r])}}function aC(t,e,n){const r=qs(Object.create(null),[n?Pe.get(n):{},Pe.get(e),t.defaults]);Pe.set(e,r),t.defaultRoutes&&lC(e,t.defaultRoutes),t.descriptors&&Pe.describe(e,t.descriptors)}function lC(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Pe.route(s,i,l,a)})}function uC(t){return"id"in t&&"defaults"in t}class cC{constructor(){this.controllers=new $o(mi,"datasets",!0),this.elements=new $o(tn,"elements"),this.plugins=new $o(Object,"plugins"),this.scales=new $o(ji,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):oe(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=Bh(e);pe(r["before"+i],[],r),n[e](r),pe(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Jt=new cC;class hC{constructor(){this._init=void 0}notify(e,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(pe(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ce(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=q(r.options&&r.options.plugins,{}),s=dC(r);return i===!1&&!n?[]:pC(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function dC(t){const e={},n=[],r=Object.keys(Jt.plugins.items);for(let s=0;s<r.length;s++)n.push(Jt.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function fC(t,e){return!e&&t===!1?null:t===!0?{}:t}function pC(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=fC(r[l],i);u!==null&&s.push({plugin:a,options:gC(t.config,{plugin:a,local:n[l]},u,o)})}return s}function gC(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jc(t,e){const n=Pe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function mC(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function yC(t,e){return t===e?"_index_":"_value_"}function Op(t){if(t==="x"||t==="y"||t==="r")return t}function vC(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ic(t,...e){if(Op(t))return t;for(const n of e){const r=n.axis||vC(n.position)||t.length>1&&Op(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Pp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function _C(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Pp(t,"x",n[0])||Pp(t,"y",n[0])}return{}}function wC(t,e){const n=Or[t.type]||{scales:{}},r=e.scales||{},i=jc(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Q(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ic(o,a,_C(o,t),Pe.scales[a.type]),u=yC(l,i),c=n.scales||{};s[o]=ms(Object.create(null),[{axis:l},a,c[l],c[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||jc(a,e),c=(Or[a]||{}).scales||{};Object.keys(c).forEach(h=>{const d=mC(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),ms(s[f],[{axis:d},r[f],c[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];ms(a,[Pe.scales[a.type],Pe.scale])}),s}function Rv(t){const e=t.options||(t.options={});e.plugins=q(e.plugins,{}),e.scales=wC(t,e)}function Av(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function bC(t){return t=t||{},t.data=Av(t.data),Rv(t),t}const Rp=new Map,jv=new Set;function Uo(t,e){let n=Rp.get(t);return n||(n=e(),Rp.set(t,n),jv.add(n)),n}const Gi=(t,e,n)=>{const r=Tr(e,n);r!==void 0&&t.add(r)};class xC{constructor(e){this._config=bC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Av(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Rv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Uo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Uo(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Uo(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Uo(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(h=>Gi(l,e,h))),c.forEach(h=>Gi(l,i,h)),c.forEach(h=>Gi(l,Or[s]||{},h)),c.forEach(h=>Gi(l,Pe,h)),c.forEach(h=>Gi(l,Pc,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),jv.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Or[n]||{},Pe.datasets[n]||{},{type:n},Pe,Pc]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Ap(this._resolverCache,e,i);let l=o;if(kC(o,n)){s.$shared=!1,r=Jn(r)?r():r;const u=this.createResolver(e,r,a);l=Ei(o,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,r=[""],i){const{resolver:s}=Ap(this._resolverCache,e,r);return Q(n)?Ei(s,n,void 0,i):s}}function Ap(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Vh(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const SC=t=>Q(t)&&Object.getOwnPropertyNames(t).some(e=>Jn(t[e]));function kC(t,e){const{isScriptable:n,isIndexable:r}=hv(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Jn(a)||SC(a))||o&&Le(a))return!0}return!1}var EC="4.5.1";const CC=["top","bottom","left","right","chartArea"];function jp(t,e){return t==="top"||t==="bottom"||CC.indexOf(t)===-1&&e==="x"}function Ip(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Mp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),pe(n&&n.onComplete,[t],e)}function TC(t){const e=t.chart,n=e.options.animation;pe(n&&n.onProgress,[t],e)}function Iv(t){return qh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const sa={},Lp=t=>{const e=Iv(t);return Object.values(sa).filter(n=>n.canvas===e).pop()};function OC(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function PC(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Sn;let wl=(Sn=class{static register(...e){Jt.add(...e),Dp()}static unregister(...e){Jt.remove(...e),Dp()}constructor(e,n){const r=this.config=new xC(n),i=Iv(e),s=Lp(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||qE(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=Pk(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Gk(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],sa[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}sn.listen(this,"complete",Mp),sn.listen(this,"progress",TC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return ce(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Jt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ip(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tp(this.canvas,this.ctx),this}stop(){return sn.stop(this),this}resize(e,n){sn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ip(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),pe(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};oe(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Ic(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),oe(s,o=>{const a=o.options,l=a.id,u=Ic(l,a),c=q(a.type,o.dtype);(a.position===void 0||jp(a.position,u)!==jp(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===c)h=r[l];else{const d=Jt.getScale(c);h=new d({id:l,type:c,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),oe(i,(o,a)=>{o||delete r[a]}),oe(r,o=>{Ln.configure(this,o,o.options),Ln.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Ip("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||jc(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Jt.getController(a),{datasetElementType:u,dataElementType:c}=Pe.datasets[a];Object.assign(l,{dataElementType:Jt.getElement(c),datasetElementType:u&&Jt.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){oe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:h}=this.getDatasetMeta(u),d=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||oe(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ip("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){oe(this.scales,e=>{Ln.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Hf(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;OC(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!Hf(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ln.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],oe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Jn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(sn.has(this)?this.attached&&!sn.running(this)&&sn.start(this):(this.draw(),Mp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=bv(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&ml(n,i),e.controller.draw(),i&&yl(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Js(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=CE.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=jr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Gs(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),sn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),tp(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete sa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};oe(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){oe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},oe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Na(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=Lk(e),u=PC(e,this._lastEvent,r,l);r&&(this._lastEvent=null,pe(s.onHover,[e,a,this],this),l&&pe(s.onClick,[e,a,this],this));const c=!Na(a,i);return(c||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,c}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},$(Sn,"defaults",Pe),$(Sn,"instances",sa),$(Sn,"overrides",Or),$(Sn,"registry",Jt),$(Sn,"version",EC),$(Sn,"getChart",Lp),Sn);function Dp(){return oe(wl.instances,t=>t._plugins.invalidate())}function RC(t,e,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:u,borderJoinStyle:c}=l,h=Math.min(u/o,vt(r-n));if(t.beginPath(),t.arc(i,s,o-u/2,r+h/2,n-h/2),a>0){const d=Math.min(u/a,vt(r-n));t.arc(i,s,a+u/2,n-d/2,r+d/2,!0)}else{const d=Math.min(u/2,o*vt(r-n));if(c==="round")t.arc(i,s,d,n-ue/2,r+ue/2,!0);else if(c==="bevel"){const f=2*d*d,p=-f*Math.cos(n+ue/2)+i,y=-f*Math.sin(n+ue/2)+s,_=f*Math.cos(r+ue/2)+i,g=f*Math.sin(r+ue/2)+s;t.lineTo(p,y),t.lineTo(_,g)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function AC(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let u=i/a;t.beginPath(),t.arc(s,o,a,r-u,n+u),l>i?(u=i/l,t.arc(s,o,l,n+u,r-u,!0)):t.arc(s,o,i,n+Ne,r-Ne),t.closePath(),t.clip()}function jC(t){return Wh(t,["outerStart","outerEnd","innerStart","innerEnd"])}function IC(t,e,n,r){const i=jC(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const u=(n-Math.min(s,l))*r/2;return ct(l,0,Math.min(s,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ct(i.innerStart,0,o),innerEnd:ct(i.innerEnd,0,o)}}function Vr(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Ha(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=e,h=Math.max(e.outerRadius+r+n-u,0),d=c>0?c+r+n+u:0;let f=0;const p=i-l;if(r){const H=c>0?c-r:0,K=h>0?h-r:0,N=(H+K)/2,A=N!==0?p*N/(N+r):p;f=(p-A)/2}const y=Math.max(.001,p*h-n/ue)/h,_=(p-y)/2,g=l+_+f,m=i-_-f,{outerStart:v,outerEnd:S,innerStart:k,innerEnd:T}=IC(e,d,h,m-g),C=h-v,w=h-S,x=g+v/C,E=m-S/w,O=d+k,R=d+T,B=g+k/O,X=m-T/R;if(t.beginPath(),s){const H=(x+E)/2;if(t.arc(o,a,h,x,H),t.arc(o,a,h,H,E),S>0){const P=Vr(w,E,o,a);t.arc(P.x,P.y,S,E,m+Ne)}const K=Vr(R,m,o,a);if(t.lineTo(K.x,K.y),T>0){const P=Vr(R,X,o,a);t.arc(P.x,P.y,T,m+Ne,X+Math.PI)}const N=(m-T/d+(g+k/d))/2;if(t.arc(o,a,d,m-T/d,N,!0),t.arc(o,a,d,N,g+k/d,!0),k>0){const P=Vr(O,B,o,a);t.arc(P.x,P.y,k,B+Math.PI,g-Ne)}const A=Vr(C,g,o,a);if(t.lineTo(A.x,A.y),v>0){const P=Vr(C,x,o,a);t.arc(P.x,P.y,v,g-Ne,x)}}else{t.moveTo(o,a);const H=Math.cos(x)*h+o,K=Math.sin(x)*h+a;t.lineTo(H,K);const N=Math.cos(E)*h+o,A=Math.sin(E)*h+a;t.lineTo(N,A)}t.closePath()}function MC(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Ha(t,e,n,r,l,i);for(let u=0;u<s;++u)t.fill();isNaN(a)||(l=o+(a%be||be))}return Ha(t,e,n,r,l,i),t.fill(),l}function LC(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:h,borderDashOffset:d,borderRadius:f}=l,p=l.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=d,p?(t.lineWidth=u*2,t.lineJoin=c||"round"):(t.lineWidth=u,t.lineJoin=c||"bevel");let y=e.endAngle;if(s){Ha(t,e,n,r,y,i);for(let _=0;_<s;++_)t.stroke();isNaN(a)||(y=o+(a%be||be))}p&&AC(t,e,y),l.selfJoin&&y-o>=ue&&f===0&&c!=="miter"&&RC(t,e,y),s||(Ha(t,e,n,r,y,i),t.stroke())}class rs extends tn{constructor(n){super();$(this,"circumference");$(this,"endAngle");$(this,"fullCircles");$(this,"innerRadius");$(this,"outerRadius");$(this,"pixelMargin");$(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=nv(s,{x:n,y:r}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,p=q(d,u-l),y=Ys(o,l,u)&&l!==u,_=p>=be||y,g=pn(a,c+f,h+f);return _&&g}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:c}=this.options,h=(s+o)/2,d=(a+l+c+u)/2;return{x:r+Math.cos(h)*d,y:i+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>be?Math.floor(i/be):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(ue,i||0)),c=s*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,MC(n,this,c,o,a),LC(n,this,c,o,a),n.restore()}}$(rs,"id","arc"),$(rs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),$(rs,"defaultRoutes",{backgroundColor:"backgroundColor"}),$(rs,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Mv(t,e,n=e){t.lineCap=q(n.borderCapStyle,e.borderCapStyle),t.setLineDash(q(n.borderDash,e.borderDash)),t.lineDashOffset=q(n.borderDashOffset,e.borderDashOffset),t.lineJoin=q(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=q(n.borderWidth,e.borderWidth),t.strokeStyle=q(n.borderColor,e.borderColor)}function DC(t,e,n){t.lineTo(n.x,n.y)}function NC(t){return t.stepped?o1:t.tension||t.cubicInterpolationMode==="monotone"?a1:DC}function Lv(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),u=Math.min(s,a),c=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:u<l&&!c?r+u-l:u-l}}function zC(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:u}=Lv(i,n,r),c=NC(s);let{move:h=!0,reverse:d}=r||{},f,p,y;for(f=0;f<=u;++f)p=i[(a+(d?u-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):c(t,y,p,d,s.stepped),y=p);return l&&(p=i[(a+(d?u:0))%o],c(t,y,p,d,s.stepped)),!!l}function BC(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=Lv(i,n,r),{move:l=!0,reverse:u}=r||{};let c=0,h=0,d,f,p,y,_,g;const m=S=>(o+(u?a-S:S))%s,v=()=>{y!==_&&(t.lineTo(c,_),t.lineTo(c,y),t.lineTo(c,g))};for(l&&(f=i[m(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[m(d)],f.skip)continue;const S=f.x,k=f.y,T=S|0;T===p?(k<y?y=k:k>_&&(_=k),c=(h*c+S)/++h):(v(),t.lineTo(S,k),p=T,h=0,y=_=k),g=k}v()}function Mc(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?BC:zC}function FC(t){return t.stepped?B1:t.tension||t.cubicInterpolationMode==="monotone"?F1:dr}function $C(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),Mv(t,e.options),t.stroke(i)}function UC(t,e,n,r){const{segments:i,options:s}=e,o=Mc(e);for(const a of i)Mv(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const WC=typeof Path2D=="function";function VC(t,e,n,r){WC&&!e.options.segment?$C(t,e,n,r):UC(t,e,n,r)}class Dn extends tn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;A1(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=K1(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=wv(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=FC(r);let u,c;for(u=0,c=o.length;u<c;++u){const{start:h,end:d}=o[u],f=s[h],p=s[d];if(f===p){a.push(f);continue}const y=Math.abs((i-f[n])/(p[n]-f[n])),_=l(f,p,y,r.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Mc(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Mc(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),VC(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$(Dn,"id","line"),$(Dn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$(Dn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$(Dn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Np(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class oa extends tn{constructor(n){super();$(this,"parsed");$(this,"skip");$(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return Np(this,n,"x",r)}inYRange(n,r){return Np(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Js(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Rc(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}$(oa,"id","point"),$(oa,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$(oa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Dv(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,c,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),u=r-h,c=r+h):(h=s/2,a=n-h,l=n+h,u=Math.min(r,i),c=Math.max(r,i)),{left:a,top:u,right:l,bottom:c}}function Nn(t,e,n,r){return t?0:ct(e,n,r)}function HC(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=cv(r);return{t:Nn(i.top,s.top,0,n),r:Nn(i.right,s.right,0,e),b:Nn(i.bottom,s.bottom,0,n),l:Nn(i.left,s.left,0,e)}}function KC(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=pi(i),o=Math.min(e,n),a=t.borderSkipped,l=r||Q(i);return{topLeft:Nn(!l||a.top||a.left,s.topLeft,0,o),topRight:Nn(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Nn(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Nn(!l||a.bottom||a.right,s.bottomRight,0,o)}}function qC(t){const e=Dv(t),n=e.right-e.left,r=e.bottom-e.top,i=HC(t,n/2,r/2),s=KC(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function pu(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&Dv(t,r);return a&&(i||pn(e,a.left,a.right))&&(s||pn(n,a.top,a.bottom))}function GC(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function YC(t,e){t.rect(e.x,e.y,e.w,e.h)}function gu(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class aa extends tn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=qC(this),a=GC(o.radius)?Ua:YC;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,gu(o,n,s)),e.clip(),a(e,gu(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,gu(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return pu(this,e,n,r)}inXRange(e,n){return pu(this,e,null,n)}inYRange(e,n){return pu(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}$(aa,"id","bar"),$(aa,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),$(aa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function JC(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:l,end:u}=a;u=bl(l,u,i);const c=Lc(n,i[l],i[u],a.loop);if(!e.segments){o.push({source:a,target:c,start:i[l],end:i[u]});continue}const h=wv(e,c);for(const d of h){const f=Lc(n,s[d.start],s[d.end],d.loop),p=_v(a,i,f);for(const y of p)o.push({source:y,target:d,start:{[n]:zp(c,f,"start",Math.max)},end:{[n]:zp(c,f,"end",Math.min)}})}}return o}function Lc(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=vt(i),s=vt(s)),{property:t,start:i,end:s}}function XC(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=bl(o,a,i);const l=i[o],u=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:u.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:u.y}))}),s}function bl(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function zp(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function Nv(t,e){let n=[],r=!1;return Le(t)?(r=!0,n=t):n=XC(t,e),n.length?new Dn({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Bp(t){return t&&t.fill!==!1}function QC(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!et(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function ZC(t,e,n){const r=rT(t);if(Q(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return et(i)&&Math.floor(i)===i?eT(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function eT(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function tT(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Q(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function nT(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Q(t)?r=t.value:r=e.getBaseValue(),r}function rT(t){const e=t.options,n=e.fill;let r=q(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function iT(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=sT(e,n);a.push(Nv({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const u=s[l];for(let c=u.start;c<=u.end;c++)oT(i,o[c],a)}return new Dn({points:i,options:{}})}function sT(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function oT(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=aT(s,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function aT(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let u=0;u<s.length;u++){const c=s[u],h=o[c.start][n],d=o[c.end][n];if(pn(i,h,d)){a=i===h,l=i===d;break}}return{first:a,last:l,point:r}}class zv{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:be},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function lT(t){const{chart:e,fill:n,line:r}=t;if(et(n))return uT(e,n);if(n==="stack")return iT(t);if(n==="shape")return!0;const i=cT(t);return i instanceof zv?i:Nv(i,r)}function uT(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function cT(t){return(t.scale||{}).getPointPositionForValue?dT(t):hT(t)}function hT(t){const{scale:e={},fill:n}=t,r=tT(n,e);if(et(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function dT(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=nT(n,e,s),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new zv({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function mu(t,e,n){const r=lT(e),{chart:i,index:s,line:o,scale:a,axis:l}=e,u=o.options,c=u.fill,h=u.backgroundColor,{above:d=h,below:f=h}=c||{},p=i.getDatasetMeta(s),y=bv(i,p);r&&o.points.length&&(ml(t,n),fT(t,{line:o,target:r,above:d,below:f,area:n,scale:a,axis:l,clip:y}),yl(t))}function fT(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:l}=e,u=n._loop?"angle":e.axis;t.save();let c=s;s!==i&&(u==="x"?(Fp(t,r,o.top),yu(t,{line:n,target:r,color:i,scale:a,property:u,clip:l}),t.restore(),t.save(),Fp(t,r,o.bottom)):u==="y"&&($p(t,r,o.left),yu(t,{line:n,target:r,color:s,scale:a,property:u,clip:l}),t.restore(),t.save(),$p(t,r,o.right),c=i)),yu(t,{line:n,target:r,color:c,scale:a,property:u,clip:l}),t.restore()}function Fp(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:u}=a,c=i[l],h=i[bl(l,u,i)];s?(t.moveTo(c.x,c.y),s=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function $p(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:u}=a,c=i[l],h=i[bl(l,u,i)];s?(t.moveTo(c.x,c.y),s=!1):(t.lineTo(n,c.y),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function yu(t,e){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=e,l=JC(n,r,i);for(const{source:u,target:c,start:h,end:d}of l){const{style:{backgroundColor:f=s}={}}=u,p=r!==!0;t.save(),t.fillStyle=f,pT(t,o,a,p&&Lc(i,h,d)),t.beginPath();const y=!!n.pathSegment(t,u);let _;if(p){y?t.closePath():Up(t,r,d,i);const g=!!r.pathSegment(t,c,{move:y,reverse:!0});_=y&&g,_||Up(t,r,h,i)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function pT(t,e,n,r){const i=e.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let l,u,c,h;s==="x"?(l=o,u=i.top,c=a,h=i.bottom):(l=i.left,u=o,c=i.right,h=a),t.beginPath(),n&&(l=Math.max(l,n.left),c=Math.min(c,n.right),u=Math.max(u,n.top),h=Math.min(h,n.bottom)),t.rect(l,u,c-l,h-u),t.clip()}}function Up(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var gT={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Dn&&(l={visible:t.isDatasetVisible(o),index:o,fill:ZC(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=QC(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&mu(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;Bp(s)&&mu(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!Bp(r)||n.drawTime!=="beforeDatasetDraw"||mu(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Wp=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},mT=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Vp extends tn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=pe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=ht(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Wp(r,s);let u,c;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-c;return this.legendItems.forEach((p,y)=>{const _=r+n/2+s.measureText(p.text).width;(y===0||u[u.length-1]+_+2*a>o)&&(h+=c,u[u.length-(y>0?0:1)]=0,f+=c,d++),l[y]={left:0,top:f,row:d,width:_,height:i},u[u.length-1]+=_+a}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let h=a,d=0,f=0,p=0,y=0;return this.legendItems.forEach((_,g)=>{const{itemWidth:m,itemHeight:v}=yT(r,n,s,_,i);g>0&&f+v+2*a>c&&(h+=d+a,u.push({width:d,height:f}),p+=d+a,y++,d=f=0),l[g]={left:p,top:f,col:y,width:m,height:v},d=Math.max(d,m),f+=v+a}),h+=d,u.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=gi(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=mt(r,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=mt(r,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=mt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=mt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ml(e,this),this._draw(),yl(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Pe.color,l=gi(e.rtl,this.left,this.width),u=ht(o.font),{padding:c}=o,h=u.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:p,boxHeight:y,itemHeight:_}=Wp(o,h),g=function(T,C,w){if(isNaN(p)||p<=0||isNaN(y)||y<0)return;i.save();const x=q(w.lineWidth,1);if(i.fillStyle=q(w.fillStyle,a),i.lineCap=q(w.lineCap,"butt"),i.lineDashOffset=q(w.lineDashOffset,0),i.lineJoin=q(w.lineJoin,"miter"),i.lineWidth=x,i.strokeStyle=q(w.strokeStyle,a),i.setLineDash(q(w.lineDash,[])),o.usePointStyle){const E={radius:y*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:x},O=l.xPlus(T,p/2),R=C+d;uv(i,E,O,R,o.pointStyleWidth&&p)}else{const E=C+Math.max((h-y)/2,0),O=l.leftForLtr(T,p),R=pi(w.borderRadius);i.beginPath(),Object.values(R).some(B=>B!==0)?Ua(i,{x:O,y:E,w:p,h:y,radius:R}):i.rect(O,E,p,y),i.fill(),x!==0&&i.stroke()}i.restore()},m=function(T,C,w){$a(i,w.text,T,C+_/2,u,{strikethrough:w.hidden,textAlign:l.textAlign(w.textAlign)})},v=this.isHorizontal(),S=this._computeTitleHeight();v?f={x:mt(s,this.left+c,this.right-r[0]),y:this.top+c+S,line:0}:f={x:this.left+c,y:mt(s,this.top+S+c,this.bottom-n[0].height),line:0},mv(this.ctx,e.textDirection);const k=_+c;this.legendItems.forEach((T,C)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const w=i.measureText(T.text).width,x=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),E=p+d+w;let O=f.x,R=f.y;l.setWidth(this.width),v?C>0&&O+E+c>this.right&&(R=f.y+=k,f.line++,O=f.x=mt(s,this.left+c,this.right-r[f.line])):C>0&&R+k>this.bottom&&(O=f.x=O+n[f.line].width+c,f.line++,R=f.y=mt(s,this.top+S+c,this.bottom-n[f.line].height));const B=l.x(O);if(g(B,R,T),O=Yk(x,O+p+d,v?O+E:this.right,e.rtl),m(l.x(O),R,T),v)f.x+=E+c;else if(typeof T.text!="string"){const X=u.lineHeight;f.y+=Bv(T,X)+c}else f.y+=k}),yv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=ht(n.font),i=Ut(n.padding);if(!n.display)return;const s=gi(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=i.top+l;let c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+u,h=mt(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((y,_)=>Math.max(y,_.height),0);c=u+mt(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=mt(a,h,h+d);o.textAlign=s.textAlign(av(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,$a(o,n.text,f,c,r)}_computeTitleHeight(){const e=this.options.title,n=ht(e.font),r=Ut(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(pn(e,this.left,this.right)&&pn(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],pn(e,i.left,i.left+i.width)&&pn(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!wT(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=mT(i,r);i&&!s&&pe(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&pe(n.onHover,[e,r,this],this)}else r&&pe(n.onClick,[e,r,this],this)}}function yT(t,e,n,r,i){const s=vT(r,t,e,n),o=_T(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function vT(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function _T(t,e,n){let r=t;return typeof e.text!="string"&&(r=Bv(e,n)),r}function Bv(t,e){const n=t.text?t.text.length:0;return e*n}function wT(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var bT={id:"legend",_element:Vp,start(t,e,n){const r=t.legend=new Vp({ctx:t.ctx,options:n,chart:t});Ln.configure(t,r,n),Ln.addBox(t,r)},stop(t){Ln.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Ln.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=Ut(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const is={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=Tc(e,u);c<i&&(i=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Gt(t,e){return e&&(Le(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function on(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function xT(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Hp(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=ht(e.bodyFont),u=ht(e.titleFont),c=ht(e.footerFont),h=s.length,d=i.length,f=r.length,p=Ut(e.padding);let y=p.height,_=0,g=r.reduce((S,k)=>S+k.before.length+k.lines.length+k.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=f*S+(g-f)*l.lineHeight+(g-1)*e.bodySpacing}d&&(y+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let m=0;const v=function(S){_=Math.max(_,n.measureText(S).width+m)};return n.save(),n.font=u.string,oe(t.title,v),n.font=l.string,oe(t.beforeBody.concat(t.afterBody),v),m=e.displayColors?o+2+e.boxPadding:0,oe(r,S=>{oe(S.before,v),oe(S.lines,v),oe(S.after,v)}),m=0,n.font=c.string,oe(t.footer,v),n.restore(),_+=p.width,{width:_,height:y}}function ST(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function kT(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function ET(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),kT(u,t,e,n)&&(u="center"),u}function Kp(t,e,n){const r=n.yAlign||e.yAlign||ST(t,n);return{xAlign:n.xAlign||e.xAlign||ET(t,e,n,r),yAlign:r}}function CT(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function TT(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function qp(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=i+s,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:f}=pi(o);let p=CT(e,a);const y=TT(e,l,u);return l==="center"?a==="left"?p+=u:a==="right"&&(p-=u):a==="left"?p-=Math.max(c,d)+i:a==="right"&&(p+=Math.max(h,f)+i),{x:ct(p,0,r.width-e.width),y:ct(y,0,r.height-e.height)}}function Wo(t,e,n){const r=Ut(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Gp(t){return Gt([],on(t))}function OT(t,e,n){return jr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Yp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Fv={beforeTitle:rn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:rn,beforeBody:rn,beforeLabel:rn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ce(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:rn,afterBody:rn,beforeFooter:rn,footer:rn,afterFooter:rn};function ot(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?Fv[e].call(n,r):i}class Dc extends tn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new xv(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=OT(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=ot(r,"beforeTitle",this,e),s=ot(r,"title",this,e),o=ot(r,"afterTitle",this,e);let a=[];return a=Gt(a,on(i)),a=Gt(a,on(s)),a=Gt(a,on(o)),a}getBeforeBody(e,n){return Gp(ot(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return oe(e,s=>{const o={before:[],lines:[],after:[]},a=Yp(r,s);Gt(o.before,on(ot(a,"beforeLabel",this,s))),Gt(o.lines,ot(a,"label",this,s)),Gt(o.after,on(ot(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return Gp(ot(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=ot(r,"beforeFooter",this,e),s=ot(r,"footer",this,e),o=ot(r,"afterFooter",this,e);let a=[];return a=Gt(a,on(i)),a=Gt(a,on(s)),a=Gt(a,on(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(xT(this.chart,n[l]));return e.filter&&(a=a.filter((c,h,d)=>e.filter(c,h,d,r))),e.itemSort&&(a=a.sort((c,h)=>e.itemSort(c,h,r))),oe(a,c=>{const h=Yp(e.callbacks,c);i.push(ot(h,"labelColor",this,c)),s.push(ot(h,"labelPointStyle",this,c)),o.push(ot(h,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=is[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Hp(this,r),u=Object.assign({},a,l),c=Kp(this.chart,r,u),h=qp(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=pi(a),{x:d,y:f}=e,{width:p,height:y}=n;let _,g,m,v,S,k;return s==="center"?(S=f+y/2,i==="left"?(_=d,g=_-o,v=S+o,k=S-o):(_=d+p,g=_+o,v=S-o,k=S+o),m=_):(i==="left"?g=d+Math.max(l,c)+o:i==="right"?g=d+p-Math.max(u,h)-o:g=this.caretX,s==="top"?(v=f,S=v-o,_=g-o,m=g+o):(v=f+y,S=v+o,_=g+o,m=g-o),k=v),{x1:_,x2:g,x3:m,y1:v,y2:S,y3:k}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const u=gi(r.rtl,this.x,this.width);for(e.x=Wo(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=ht(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,c=ht(s.bodyFont),h=Wo(this,"left",s),d=i.x(h),f=l<c.lineHeight?(c.lineHeight-l)/2:0,p=n.y+f;if(s.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=i.leftForLtr(d,u)+u/2,g=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Rc(e,y,_,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Rc(e,y,_,g)}else{e.lineWidth=Q(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=i.leftForLtr(d,u),_=i.leftForLtr(i.xPlus(d,1),u-2),g=pi(o.borderRadius);Object.values(g).some(m=>m!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Ua(e,{x:y,y:p,w:u,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Ua(e,{x:_,y:p+1,w:u-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,p,u,l),e.strokeRect(y,p,u,l),e.fillStyle=o.backgroundColor,e.fillRect(_,p+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=r,h=ht(r.bodyFont);let d=h.lineHeight,f=0;const p=gi(r.rtl,this.x,this.width),y=function(w){n.fillText(w,p.x(e.x+f),e.y+d/2),e.y+=d+s},_=p.textAlign(o);let g,m,v,S,k,T,C;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Wo(this,_,r),n.fillStyle=r.bodyColor,oe(this.beforeBody,y),f=a&&_!=="right"?o==="center"?u/2+c:u+2+c:0,S=0,T=i.length;S<T;++S){for(g=i[S],m=this.labelTextColors[S],n.fillStyle=m,oe(g.before,y),v=g.lines,a&&v.length&&(this._drawColorBox(n,e,S,p,r),d=Math.max(h.lineHeight,l)),k=0,C=v.length;k<C;++k)y(v[k]),d=h.lineHeight;oe(g.after,y)}f=0,d=h.lineHeight,oe(this.afterBody,y),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=gi(r.rtl,this.x,this.width);for(e.x=Wo(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=ht(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:c}=r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=pi(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+u-d,l),n.quadraticCurveTo(a+u,l,a+u,l+d),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+u,l+c-p),n.quadraticCurveTo(a+u,l+c,a+u-p,l+c),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+f,l+c),n.quadraticCurveTo(a,l+c,a,l+c-f),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=is[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Hp(this,e),l=Object.assign({},o,this._size),u=Kp(n,e,l),c=qp(e,l,u,n);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Ut(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),mv(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),yv(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!Na(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!Na(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=is[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}$(Dc,"positioners",is);var PT={id:"tooltip",_element:Dc,positioners:is,afterInit(t,e,n){n&&(t.tooltip=new Dc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Fv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const RT=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function AT(t,e,n,r){const i=t.indexOf(e);if(i===-1)return RT(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const jT=(t,e)=>t===null?null:ct(Math.round(t),0,e);function Jp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Nc extends ji{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ce(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:AT(r,e,q(n,e),this._addedLabels),jT(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Jp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$(Nc,"id","category"),$(Nc,"defaults",{ticks:{callback:Jp}});function IT(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:d}=t,f=s||1,p=c-1,{min:y,max:_}=e,g=!ce(o),m=!ce(a),v=!ce(u),S=(_-y)/(h+1);let k=qf((_-y)/p/f)*f,T,C,w,x;if(k<1e-14&&!g&&!m)return[{value:y},{value:_}];x=Math.ceil(_/k)-Math.floor(y/k),x>p&&(k=qf(x*k/p/f)*f),ce(l)||(T=Math.pow(10,l),k=Math.ceil(k*T)/T),i==="ticks"?(C=Math.floor(y/k)*k,w=Math.ceil(_/k)*k):(C=y,w=_),g&&m&&s&&Fk((a-o)/s,k/1e3)?(x=Math.round(Math.min((a-o)/k,c)),k=(a-o)/x,C=o,w=a):v?(C=g?o:C,w=m?a:w,x=u-1,k=(w-C)/x):(x=(w-C)/k,ys(x,Math.round(x),k/1e3)?x=Math.round(x):x=Math.ceil(x));const E=Math.max(Gf(k),Gf(C));T=Math.pow(10,ce(l)?E:l),C=Math.round(C*T)/T,w=Math.round(w*T)/T;let O=0;for(g&&(d&&C!==o?(n.push({value:o}),C<o&&O++,ys(Math.round((C+O*k)*T)/T,o,Xp(o,S,t))&&O++):C<o&&O++);O<x;++O){const R=Math.round((C+O*k)*T)/T;if(m&&R>a)break;n.push({value:R})}return m&&d&&w!==a?n.length&&ys(n[n.length-1].value,a,Xp(a,S,t))?n[n.length-1].value=a:n.push({value:a}):(!m||w===a)&&n.push({value:w}),n}function Xp(t,e,{horizontal:n,minRotation:r}){const i=fn(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class MT extends ji{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ce(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=en(i),u=en(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=IT(i,s);return e.bounds==="ticks"&&$k(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Uh(e,this.chart.options.locale,this.options.ticks.format)}}class zc extends MT{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=et(e)?e:0,this.max=et(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=fn(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$(zc,"id","linear"),$(zc,"defaults",{ticks:{callback:lv.formatters.numeric}});const xl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},lt=Object.keys(xl);function Qp(t,e){return t-e}function Zp(t,e){if(ce(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),et(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Fa(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function eg(t,e,n,r){const i=lt.length;for(let s=lt.indexOf(t);s<i-1;++s){const o=xl[lt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return lt[s]}return lt[i-1]}function LT(t,e,n,r,i){for(let s=lt.length-1;s>=lt.indexOf(n);s--){const o=lt[s];if(xl[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return lt[n?lt.indexOf(n):0]}function DT(t){for(let e=lt.indexOf(t)+1,n=lt.length;e<n;++e)if(xl[lt[e]].common)return lt[e]}function tg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Fh(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function NT(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function ng(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:NT(t,r,i,n)}class Ka extends ji{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new bE._date(e.adapters.date);i.init(n),ms(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Zp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=et(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=et(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=Kk(i,s,o);return this._unit=n.unit||(r.autoSkip?eg(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):LT(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:DT(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),ng(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=ct(n,0,o),r=ct(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||eg(s.minUnit,n,r,this._getLabelCapacity(n)),a=q(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=Fa(l)||l===!0,c={};let h=n,d,f;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<r;d=+e.add(d,a,o),f++)tg(c,d,p);return(d===r||i.bounds==="ticks"||f===1)&&tg(c,d,p),Object.keys(c).sort(Qp).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return pe(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],h=u&&a[u],d=r[n],f=u&&h&&d&&d.major;return this._adapter.format(e,i||(f?h:c))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=fn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,ng(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Zp(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return iv(e.sort(Qp))}}$(Ka,"id","time"),$(Ka,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Vo(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Oc(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Oc(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class rg extends Ka{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Vo(n,this.min),this._tableRange=Vo(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)c=i[o+1],l=i[o-1],u=i[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Vo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Vo(this._table,r*this._tableRange+this._minPos,!0)}}$(rg,"id","timeseries"),$(rg,"defaults",Ka.defaults);const $v="label";function ig(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function zT(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Uv(t,e){t.labels=e}function Wv(t,e,n=$v){const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function BT(t,e=$v){const n={labels:[],datasets:[]};return Uv(n,t.labels),Wv(n,t.datasets,e),n}function FT(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:h,...d}=t,f=I.useRef(null),p=I.useRef(null),y=()=>{f.current&&(p.current=new wl(f.current,{type:o,data:BT(a,s),options:l&&{...l},plugins:u}),ig(e,p.current))},_=()=>{ig(e,null),p.current&&(p.current.destroy(),p.current=null)};return I.useEffect(()=>{!i&&p.current&&l&&zT(p.current,l)},[i,l]),I.useEffect(()=>{!i&&p.current&&Uv(p.current.config.data,a.labels)},[i,a.labels]),I.useEffect(()=>{!i&&p.current&&a.datasets&&Wv(p.current.config.data,a.datasets,s)},[i,a.datasets]),I.useEffect(()=>{p.current&&(i?(_(),setTimeout(y)):p.current.update(h))},[i,l,a.labels,a.datasets,h]),I.useEffect(()=>{p.current&&(_(),setTimeout(y))},[o]),I.useEffect(()=>(y(),()=>_()),[]),b.jsx("canvas",{ref:f,role:"img",height:n,width:r,...d,children:c})}const $T=I.forwardRef(FT);function Vv(t,e){return wl.register(e),I.forwardRef((n,r)=>b.jsx($T,{...n,ref:r,type:t}))}const UT=Vv("bar",ra),WT=Vv("pie",Ac);wl.register(rs,PT,bT,Nc,zc,aa,oa,Dn,gT);const VT=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!0);I.useEffect(()=>{(async()=>{try{const{data:h,error:d}=await Yy.from("responses").select("*");if(d)throw d;if(h&&h.length>0)e(h);else{const f=JSON.parse(localStorage.getItem("survey_responses")||"[]");e(f)}}catch(h){console.error("Supabase fetch error:",h.message);const d=JSON.parse(localStorage.getItem("survey_responses")||"[]");e(d)}finally{r(!1)}})()},[]);const i=t.length;if(n)return b.jsxs("div",{className:"glass-panel animate-in",style:{textAlign:"center",margin:"4rem auto",maxWidth:"600px",padding:"4rem"},children:[b.jsx("div",{style:{fontSize:"3rem",marginBottom:"2rem"},children:""}),b.jsx("h2",{style:{fontSize:"2rem"},children:"Syncing Intelligence Database..."}),b.jsx("p",{style:{color:"var(--text-muted)"},children:"Pulling the latest consumer research data from Supabase Cloud."})]});if(i===0)return b.jsxs("div",{className:"glass-panel animate-in",style:{textAlign:"center",margin:"4rem auto",maxWidth:"600px"},children:[b.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"Data Core Empty"}),b.jsx("p",{style:{color:"var(--text-muted)"},children:"The intelligence dashboard requires survey responses to activate visualizations."}),b.jsx("div",{style:{marginTop:"2rem"},children:b.jsx("a",{href:"/survey",className:"btn-wow",style:{textDecoration:"none"},children:"Initialize Data Collection"})})]});const s=c=>(t.reduce((h,d)=>h+(d[c]||0),0)/i).toFixed(2),o=[{label:"Total Sample (N)",value:i,color:"var(--primary-accent)"},{label:"Digital Intent",value:s("d_intent"),color:"var(--secondary-accent)"},{label:"Offline Intent",value:s("o_intent"),color:"var(--primary-color)"},{label:"Brand Trust Ratio",value:(parseFloat(s("d_trust"))/parseFloat(s("o_trust"))).toFixed(2),color:"var(--success-color)"}],a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{family:"Inter",weight:600}}}}},l={labels:["18-30","31-50","50+"],datasets:[{data:[t.filter(c=>c.age==="18-30").length,t.filter(c=>c.age==="31-50").length,t.filter(c=>c.age==="50+").length],backgroundColor:["#3b82f6","#8b5cf6","#0f172a"],borderWidth:0,hoverOffset:15}]},u={labels:["Purchase Intent","Brand Trust","Visual Appeal"],datasets:[{label:"Digital (Clicks)",data:[s("d_intent"),s("d_trust"),s("d_appeal")],backgroundColor:"rgba(59, 130, 246, 0.7)",borderRadius:10},{label:"Offline (Bricks)",data:[s("o_intent"),s("o_trust"),s("o_appeal")],backgroundColor:"rgba(15, 23, 42, 0.7)",borderRadius:10}]};return b.jsxs("section",{className:"animate-in",children:[b.jsx("h2",{className:"section-title",style:{fontSize:"3rem",marginBottom:"3rem"},children:"Research Intelligence Dashboard"}),b.jsx("div",{className:"stats-grid",children:o.map((c,h)=>b.jsxs("div",{className:"stat-card",children:[b.jsx("div",{className:"stat-value",style:{color:c.color},children:c.value}),b.jsx("div",{style:{textTransform:"uppercase",letterSpacing:"0.1em",fontSize:"0.75rem",fontWeight:800,color:"var(--text-muted)"},children:c.label})]},h))}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"2rem",marginBottom:"4rem"},children:[b.jsxs("div",{className:"glass-panel",style:{padding:"2rem"},children:[b.jsx("h3",{style:{marginBottom:"2rem",textAlign:"center"},children:"Age Demographic Index"}),b.jsx("div",{style:{height:"320px"},children:b.jsx(WT,{data:l,options:a})})]}),b.jsxs("div",{className:"glass-panel",style:{padding:"2rem"},children:[b.jsx("h3",{style:{marginBottom:"2rem",textAlign:"center"},children:"Cross-Channel Performance"}),b.jsx("div",{style:{height:"320px"},children:b.jsx(UT,{data:u,options:{...a,scales:{y:{beginAtZero:!0,max:5}}}})})]})]}),b.jsx("div",{className:"glass-panel",style:{padding:"3rem",background:"linear-gradient(to right, #0f172a, #1e293b)",color:"white"},children:b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"3rem",flexWrap:"wrap"},children:[b.jsxs("div",{style:{flex:1},children:[b.jsx("h3",{style:{color:"white",fontSize:"2rem",marginBottom:"1rem"},children:"Insight Extraction"}),b.jsx("p",{style:{opacity:.8},children:'Our data shows that while Digital leads in visual appeal among younger cohorts, Offline marketing maintains a "Trust Edge" in established demographics.'})]}),b.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[b.jsxs("div",{style:{textAlign:"center"},children:[b.jsx("div",{style:{fontSize:"1.5rem",fontWeight:800,color:"var(--primary-accent)"},children:"+14%"}),b.jsx("div",{style:{fontSize:"0.7rem",opacity:.6},children:"TRUST PREMIUM"})]}),b.jsxs("div",{style:{textAlign:"center"},children:[b.jsx("div",{style:{fontSize:"1.5rem",fontWeight:800,color:"var(--secondary-accent)"},children:"92%"}),b.jsx("div",{style:{fontSize:"0.7rem",opacity:.6},children:"ENGAGEMENT"})]})]})]})})]})};var Hv={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Yv,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},l=0,u={};function c(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(x){var E=k(x);E.chunkSize=parseInt(E.chunkSize),x.step||x.chunk||(E.chunkSize=null),this._handle=new y(E),(this._handle.streamer=this)._config=E}).call(this,w),this.parseChunk=function(x,E){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let B=this._config.newline;B||(R=this._config.quoteChar||'"',B=this._handle.guessLineEndings(x,R)),x=[...x.split(B).slice(O)].join(B)}this.isFirstChunk&&C(this._config.beforeFirstChunk)&&(R=this._config.beforeFirstChunk(x))!==void 0&&(x=R),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+x,R=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(x=R.meta.cursor,O=(this._finished||(this._partialLine=O.substring(x-this._baseIndex),this._baseIndex=x),R&&R.data&&(this._rowCount+=R.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:R,workerId:u.WORKER_ID,finished:O});else if(C(this._config.chunk)&&!E){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=R=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!O||!C(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(x){C(this._config.error)?this._config.error(x):o&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:x,finished:!1})}}function h(w){var x;(w=w||{}).chunkSize||(w.chunkSize=u.RemoteChunkSize),c.call(this,w),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(E){this._input=E,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(x=new XMLHttpRequest,this._config.withCredentials&&(x.withCredentials=this._config.withCredentials),s||(x.onload=T(this._chunkLoaded,this),x.onerror=T(this._chunkError,this)),x.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var E,O=this._config.downloadRequestHeaders;for(E in O)x.setRequestHeader(E,O[E])}var R;this._config.chunkSize&&(R=this._start+this._config.chunkSize-1,x.setRequestHeader("Range","bytes="+this._start+"-"+R));try{x.send(this._config.downloadRequestBody)}catch(B){this._chunkError(B.message)}s&&x.status===0&&this._chunkError()}},this._chunkLoaded=function(){x.readyState===4&&(x.status<200||400<=x.status?this._chunkError():(this._start+=this._config.chunkSize||x.responseText.length,this._finished=!this._config.chunkSize||this._start>=(E=>(E=E.getResponseHeader("Content-Range"))!==null?parseInt(E.substring(E.lastIndexOf("/")+1)):-1)(x),this.parseChunk(x.responseText)))},this._chunkError=function(E){E=x.statusText||E,this._sendError(new Error(E))}}function d(w){(w=w||{}).chunkSize||(w.chunkSize=u.LocalChunkSize),c.call(this,w);var x,E,O=typeof FileReader<"u";this.stream=function(R){this._input=R,E=R.slice||R.webkitSlice||R.mozSlice,O?((x=new FileReader).onload=T(this._chunkLoaded,this),x.onerror=T(this._chunkError,this)):x=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var R=this._input,B=(this._config.chunkSize&&(B=Math.min(this._start+this._config.chunkSize,this._input.size),R=E.call(R,this._start,B)),x.readAsText(R,this._config.encoding));O||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(R){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(R.target.result)},this._chunkError=function(){this._sendError(x.error)}}function f(w){var x;c.call(this,w=w||{}),this.stream=function(E){return x=E,this._nextChunk()},this._nextChunk=function(){var E,O;if(!this._finished)return E=this._config.chunkSize,x=E?(O=x.substring(0,E),x.substring(E)):(O=x,""),this._finished=!x,this.parseChunk(O)}}function p(w){c.call(this,w=w||{});var x=[],E=!0,O=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(R){this._input=R,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&x.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),x.length?this.parseChunk(x.shift()):E=!0},this._streamData=T(function(R){try{x.push(typeof R=="string"?R:R.toString(this._config.encoding)),E&&(E=!1,this._checkIsFinished(),this.parseChunk(x.shift()))}catch(B){this._streamError(B)}},this),this._streamError=T(function(R){this._streamCleanUp(),this._sendError(R)},this),this._streamEnd=T(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(w){var x,E,O,R,B=Math.pow(2,53),X=-B,H=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,N=this,A=0,P=0,z=!1,M=!1,F=[],D={data:[],errors:[],meta:{}};function Z(ee){return w.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function ie(){if(D&&O&&(Ue("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),O=!1),w.skipEmptyLines&&(D.data=D.data.filter(function(me){return!Z(me)})),te()){let me=function(ze,ye){C(w.transformHeader)&&(ze=w.transformHeader(ze,ye)),F.push(ze)};var G=me;if(D)if(Array.isArray(D.data[0])){for(var ee=0;te()&&ee<D.data.length;ee++)D.data[ee].forEach(me);D.data.splice(0,1)}else D.data.forEach(me)}function re(me,ze){for(var ye=w.header?{}:[],le=0;le<me.length;le++){var Y=le,Ge=me[le],Ge=((se,ve)=>(je=>(w.dynamicTypingFunction&&w.dynamicTyping[je]===void 0&&(w.dynamicTyping[je]=w.dynamicTypingFunction(je)),(w.dynamicTyping[je]||w.dynamicTyping)===!0))(se)?ve==="true"||ve==="TRUE"||ve!=="false"&&ve!=="FALSE"&&((je=>{if(H.test(je)&&(je=parseFloat(je),X<je&&je<B))return 1})(ve)?parseFloat(ve):K.test(ve)?new Date(ve):ve===""?null:ve):ve)(Y=w.header?le>=F.length?"__parsed_extra":F[le]:Y,Ge=w.transform?w.transform(Ge,Y):Ge);Y==="__parsed_extra"?(ye[Y]=ye[Y]||[],ye[Y].push(Ge)):ye[Y]=Ge}return w.header&&(le>F.length?Ue("FieldMismatch","TooManyFields","Too many fields: expected "+F.length+" fields but parsed "+le,P+ze):le<F.length&&Ue("FieldMismatch","TooFewFields","Too few fields: expected "+F.length+" fields but parsed "+le,P+ze)),ye}var ke;D&&(w.header||w.dynamicTyping||w.transform)&&(ke=1,!D.data.length||Array.isArray(D.data[0])?(D.data=D.data.map(re),ke=D.data.length):D.data=re(D.data,0),w.header&&D.meta&&(D.meta.fields=F),P+=ke)}function te(){return w.header&&F.length===0}function Ue(ee,re,ke,G){ee={type:ee,code:re,message:ke},G!==void 0&&(ee.row=G),D.errors.push(ee)}C(w.step)&&(R=w.step,w.step=function(ee){D=ee,te()?ie():(ie(),D.data.length!==0&&(A+=ee.data.length,w.preview&&A>w.preview?E.abort():(D.data=D.data[0],R(D,N))))}),this.parse=function(ee,re,ke){var G=w.quoteChar||'"',G=(w.newline||(w.newline=this.guessLineEndings(ee,G)),O=!1,w.delimiter?C(w.delimiter)&&(w.delimiter=w.delimiter(ee),D.meta.delimiter=w.delimiter):((G=((me,ze,ye,le,Y)=>{var Ge,se,ve,je;Y=Y||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ir=0;Ir<Y.length;Ir++){for(var Wt,Ii=Y[Ir],Ye=0,Vt=0,Be=0,st=(ve=void 0,new g({comments:le,delimiter:Ii,newline:ze,preview:10}).parse(me)),nn=0;nn<st.data.length;nn++)ye&&Z(st.data[nn])?Be++:(Wt=st.data[nn].length,Vt+=Wt,ve===void 0?ve=Wt:0<Wt&&(Ye+=Math.abs(Wt-ve),ve=Wt));0<st.data.length&&(Vt/=st.data.length-Be),(se===void 0||Ye<=se)&&(je===void 0||je<Vt)&&1.99<Vt&&(se=Ye,Ge=Ii,je=Vt)}return{successful:!!(w.delimiter=Ge),bestDelimiter:Ge}})(ee,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess)).successful?w.delimiter=G.bestDelimiter:(O=!0,w.delimiter=u.DefaultDelimiter),D.meta.delimiter=w.delimiter),k(w));return w.preview&&w.header&&G.preview++,x=ee,E=new g(G),D=E.parse(x,re,ke),ie(),z?{meta:{paused:!0}}:D||{meta:{paused:!1}}},this.paused=function(){return z},this.pause=function(){z=!0,E.abort(),x=C(w.chunk)?"":x.substring(E.getCharIndex())},this.resume=function(){N.streamer._halted?(z=!1,N.streamer.parseChunk(x,!0)):setTimeout(N.resume,3)},this.aborted=function(){return M},this.abort=function(){M=!0,E.abort(),D.meta.aborted=!0,C(w.complete)&&w.complete(D),x=""},this.guessLineEndings=function(me,G){me=me.substring(0,1048576);var G=new RegExp(_(G)+"([^]*?)"+_(G),"gm"),ke=(me=me.replace(G,"")).split("\r"),G=me.split(`
`),me=1<G.length&&G[0].length<ke[0].length;if(ke.length===1||me)return`
`;for(var ze=0,ye=0;ye<ke.length;ye++)ke[ye][0]===`
`&&ze++;return ze>=ke.length/2?`\r
`:"\r"}}function _(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(w){var x=(w=w||{}).delimiter,E=w.newline,O=w.comments,R=w.step,B=w.preview,X=w.fastMode,H=null,K=!1,N=w.quoteChar==null?'"':w.quoteChar,A=N;if(w.escapeChar!==void 0&&(A=w.escapeChar),(typeof x!="string"||-1<u.BAD_DELIMITERS.indexOf(x))&&(x=","),O===x)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<u.BAD_DELIMITERS.indexOf(O))&&(O=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var P=0,z=!1;this.parse=function(M,F,D){if(typeof M!="string")throw new Error("Input must be a string");var Z=M.length,ie=x.length,te=E.length,Ue=O.length,ee=C(R),re=[],ke=[],G=[],me=P=0;if(!M)return Ye();if(X||X!==!1&&M.indexOf(N)===-1){for(var ze=M.split(E),ye=0;ye<ze.length;ye++){if(G=ze[ye],P+=G.length,ye!==ze.length-1)P+=E.length;else if(D)return Ye();if(!O||G.substring(0,Ue)!==O){if(ee){if(re=[],je(G.split(x)),Vt(),z)return Ye()}else je(G.split(x));if(B&&B<=ye)return re=re.slice(0,B),Ye(!0)}}return Ye()}for(var le=M.indexOf(x,P),Y=M.indexOf(E,P),Ge=new RegExp(_(A)+_(N),"g"),se=M.indexOf(N,P);;)if(M[P]===N)for(se=P,P++;;){if((se=M.indexOf(N,se+1))===-1)return D||ke.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:re.length,index:P}),Wt();if(se===Z-1)return Wt(M.substring(P,se).replace(Ge,N));if(N===A&&M[se+1]===A)se++;else if(N===A||se===0||M[se-1]!==A){le!==-1&&le<se+1&&(le=M.indexOf(x,se+1));var ve=Ir((Y=Y!==-1&&Y<se+1?M.indexOf(E,se+1):Y)===-1?le:Math.min(le,Y));if(M.substr(se+1+ve,ie)===x){G.push(M.substring(P,se).replace(Ge,N)),M[P=se+1+ve+ie]!==N&&(se=M.indexOf(N,P)),le=M.indexOf(x,P),Y=M.indexOf(E,P);break}if(ve=Ir(Y),M.substring(se+1+ve,se+1+ve+te)===E){if(G.push(M.substring(P,se).replace(Ge,N)),Ii(se+1+ve+te),le=M.indexOf(x,P),se=M.indexOf(N,P),ee&&(Vt(),z))return Ye();if(B&&re.length>=B)return Ye(!0);break}ke.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:re.length,index:P}),se++}}else if(O&&G.length===0&&M.substring(P,P+Ue)===O){if(Y===-1)return Ye();P=Y+te,Y=M.indexOf(E,P),le=M.indexOf(x,P)}else if(le!==-1&&(le<Y||Y===-1))G.push(M.substring(P,le)),P=le+ie,le=M.indexOf(x,P);else{if(Y===-1)break;if(G.push(M.substring(P,Y)),Ii(Y+te),ee&&(Vt(),z))return Ye();if(B&&re.length>=B)return Ye(!0)}return Wt();function je(Be){re.push(Be),me=P}function Ir(Be){var st=0;return st=Be!==-1&&(Be=M.substring(se+1,Be))&&Be.trim()===""?Be.length:st}function Wt(Be){return D||(Be===void 0&&(Be=M.substring(P)),G.push(Be),P=Z,je(G),ee&&Vt()),Ye()}function Ii(Be){P=Be,je(G),G=[],Y=M.indexOf(E,P)}function Ye(Be){if(w.header&&!F&&re.length&&!K){var st=re[0],nn=Object.create(null),Sl=new Set(st);let Jh=!1;for(let Mr=0;Mr<st.length;Mr++){let Ht=st[Mr];if(nn[Ht=C(w.transformHeader)?w.transformHeader(Ht,Mr):Ht]){let Mi,Xh=nn[Ht];for(;Mi=Ht+"_"+Xh,Xh++,Sl.has(Mi););Sl.add(Mi),st[Mr]=Mi,nn[Ht]++,Jh=!0,(H=H===null?{}:H)[Mi]=Ht}else nn[Ht]=1,st[Mr]=Ht;Sl.add(Ht)}Jh&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:re,errors:ke,meta:{delimiter:x,linebreak:E,aborted:z,truncated:!!Be,cursor:me+(F||0),renamedHeaders:H}}}function Vt(){R(Ye()),re=[],ke=[]}},this.abort=function(){z=!0},this.getCharIndex=function(){return P}}function m(w){var x=w.data,E=a[x.workerId],O=!1;if(x.error)E.userError(x.error,x.file);else if(x.results&&x.results.data){var R={abort:function(){O=!0,v(x.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(C(E.userStep)){for(var B=0;B<x.results.data.length&&(E.userStep({data:x.results.data[B],errors:x.results.errors,meta:x.results.meta},R),!O);B++);delete x.results}else C(E.userChunk)&&(E.userChunk(x.results,R,x.file),delete x.results)}x.finished&&!O&&v(x.workerId,x.results)}function v(w,x){var E=a[w];C(E.userComplete)&&E.userComplete(x),E.terminate(),delete a[w]}function S(){throw new Error("Not implemented.")}function k(w){if(typeof w!="object"||w===null)return w;var x,E=Array.isArray(w)?[]:{};for(x in w)E[x]=k(w[x]);return E}function T(w,x){return function(){w.apply(x,arguments)}}function C(w){return typeof w=="function"}return u.parse=function(w,x){var E=(x=x||{}).dynamicTyping||!1;if(C(E)&&(x.dynamicTypingFunction=E,E={}),x.dynamicTyping=E,x.transform=!!C(x.transform)&&x.transform,!x.worker||!u.WORKERS_SUPPORTED)return E=null,u.NODE_STREAM_INPUT,typeof w=="string"?(w=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(w),E=new(x.download?h:f)(x)):w.readable===!0&&C(w.read)&&C(w.on)?E=new p(x):(r.File&&w instanceof File||w instanceof Object)&&(E=new d(x)),E.stream(w);(E=(()=>{var O;return!!u.WORKERS_SUPPORTED&&(O=(()=>{var R=r.URL||r.webkitURL||null,B=n.toString();return u.BLOB_URL||(u.BLOB_URL=R.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=m,O.id=l++,a[O.id]=O)})()).userStep=x.step,E.userChunk=x.chunk,E.userComplete=x.complete,E.userError=x.error,x.step=C(x.step),x.chunk=C(x.chunk),x.complete=C(x.complete),x.error=C(x.error),delete x.worker,E.postMessage({input:w,config:x,workerId:E.id})},u.unparse=function(w,x){var E=!1,O=!0,R=",",B=`\r
`,X='"',H=X+X,K=!1,N=null,A=!1,P=((()=>{if(typeof x=="object"){if(typeof x.delimiter!="string"||u.BAD_DELIMITERS.filter(function(F){return x.delimiter.indexOf(F)!==-1}).length||(R=x.delimiter),typeof x.quotes!="boolean"&&typeof x.quotes!="function"&&!Array.isArray(x.quotes)||(E=x.quotes),typeof x.skipEmptyLines!="boolean"&&typeof x.skipEmptyLines!="string"||(K=x.skipEmptyLines),typeof x.newline=="string"&&(B=x.newline),typeof x.quoteChar=="string"&&(X=x.quoteChar),typeof x.header=="boolean"&&(O=x.header),Array.isArray(x.columns)){if(x.columns.length===0)throw new Error("Option columns is empty");N=x.columns}x.escapeChar!==void 0&&(H=x.escapeChar+X),x.escapeFormulae instanceof RegExp?A=x.escapeFormulae:typeof x.escapeFormulae=="boolean"&&x.escapeFormulae&&(A=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(X),"g"));if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return z(null,w,K);if(typeof w[0]=="object")return z(N||Object.keys(w[0]),w,K)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||N),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),z(w.fields||[],w.data||[],K);throw new Error("Unable to serialize unrecognized input");function z(F,D,Z){var ie="",te=(typeof F=="string"&&(F=JSON.parse(F)),typeof D=="string"&&(D=JSON.parse(D)),Array.isArray(F)&&0<F.length),Ue=!Array.isArray(D[0]);if(te&&O){for(var ee=0;ee<F.length;ee++)0<ee&&(ie+=R),ie+=M(F[ee],ee);0<D.length&&(ie+=B)}for(var re=0;re<D.length;re++){var ke=(te?F:D[re]).length,G=!1,me=te?Object.keys(D[re]).length===0:D[re].length===0;if(Z&&!te&&(G=Z==="greedy"?D[re].join("").trim()==="":D[re].length===1&&D[re][0].length===0),Z==="greedy"&&te){for(var ze=[],ye=0;ye<ke;ye++){var le=Ue?F[ye]:ye;ze.push(D[re][le])}G=ze.join("").trim()===""}if(!G){for(var Y=0;Y<ke;Y++){0<Y&&!me&&(ie+=R);var Ge=te&&Ue?F[Y]:Y;ie+=M(D[re][Ge],Y)}re<D.length-1&&(!Z||0<ke&&!me)&&(ie+=B)}}return ie}function M(F,D){var Z,ie;return F==null?"":F.constructor===Date?JSON.stringify(F).slice(1,25):(ie=!1,A&&typeof F=="string"&&A.test(F)&&(F="'"+F,ie=!0),Z=F.toString().replace(P,H),(ie=ie||E===!0||typeof E=="function"&&E(F,D)||Array.isArray(E)&&E[D]||((te,Ue)=>{for(var ee=0;ee<Ue.length;ee++)if(-1<te.indexOf(Ue[ee]))return!0;return!1})(Z,u.BAD_DELIMITERS)||-1<Z.indexOf(R)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?X+Z+X:Z)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=g,u.ParserHandle=y,u.NetworkStreamer=h,u.FileStreamer=d,u.StringStreamer=f,u.ReadableStreamStreamer=p,r.jQuery&&((i=r.jQuery).fn.parse=function(w){var x=w.config||{},E=[];return this.each(function(B){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var X=0;X<this.files.length;X++)E.push({file:this.files[X],inputElem:this,instanceConfig:i.extend({},x)})}),O(),this;function O(){if(E.length===0)C(w.complete)&&w.complete();else{var B,X,H,K,N=E[0];if(C(w.before)){var A=w.before(N.file,N.inputElem);if(typeof A=="object"){if(A.action==="abort")return B="AbortError",X=N.file,H=N.inputElem,K=A.reason,void(C(w.error)&&w.error({name:B},X,H,K));if(A.action==="skip")return void R();typeof A.config=="object"&&(N.instanceConfig=i.extend(N.instanceConfig,A.config))}else if(A==="skip")return void R()}var P=N.instanceConfig.complete;N.instanceConfig.complete=function(z){C(P)&&P(z,N.file,N.inputElem),R()},u.parse(N.file,N.instanceConfig)}}function R(){E.splice(0,1),O()}}),o&&(r.onmessage=function(w){w=w.data,u.WORKER_ID===void 0&&w&&(u.WORKER_ID=w.workerId),typeof w.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(w.input,w.config),finished:!0}):(r.File&&w.input instanceof File||w.input instanceof Object)&&(w=u.parse(w.input,w.config))&&r.postMessage({workerId:u.WORKER_ID,results:w,finished:!0})}),(h.prototype=Object.create(c.prototype)).constructor=h,(d.prototype=Object.create(c.prototype)).constructor=d,(f.prototype=Object.create(f.prototype)).constructor=f,(p.prototype=Object.create(c.prototype)).constructor=p,u})})(Hv);var HT=Hv.exports;const KT=og(HT),qT=()=>{const[t,e]=I.useState(null),[n,r]=I.useState(!1),[i,s]=I.useState(""),o=JSON.parse(localStorage.getItem("survey_responses")||"[]"),a=(u=o)=>{if(u.length<3){alert("Need at least 3 responses to run a full statistical suite including ANOVA.");return}const c=sg(u,"d_intent","o_intent"),h=sg(u,"d_trust","o_trust"),d=GT(u),f=YT(u);e({tIntent:c,tTrust:h,chiAge:d,anovaAge:f,count:u.length})},l=u=>{const c=u.target.files[0];c&&(s(c.name),KT.parse(c,{header:!0,skipEmptyLines:!0,transformHeader:h=>h.trim().toLowerCase().replace(/\s+/g,"_"),complete:h=>{const d=h.data.map(f=>({...f,d_intent:parseFloat(f.d_intent||f.digital_intent||0),o_intent:parseFloat(f.o_intent||f.offline_intent||0),d_trust:parseFloat(f.d_trust||f.digital_trust||0),o_trust:parseFloat(f.o_trust||f.offline_trust||0),age:(f.age||"").trim()})).filter(f=>f.age!==""&&!isNaN(f.d_intent));if(d.length<3){alert("Invalid CSV format. Please ensure headers include: age, d_intent, o_intent, d_trust, o_trust (Min 3 rows).");return}r(!0),a(d)},error:h=>alert("Error parsing CSV: "+h.message)}))};return b.jsxs("section",{className:"animate-in",children:[b.jsx("h2",{className:"section-title",style:{fontSize:"3rem",marginBottom:"3rem"},children:"Statistical Intelligence Engine"}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"2rem",marginBottom:"4rem"},children:[b.jsxs("div",{className:"glass-panel",style:{textAlign:"center",padding:"2.5rem"},children:[b.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:""}),b.jsx("h3",{children:"Platform Dataset"}),b.jsx("p",{style:{margin:"1rem 0",color:"var(--text-muted)",fontSize:"0.95rem"},children:"Analyze the real-time responses collected via the survey module."}),b.jsx("button",{onClick:()=>{r(!1),a()},className:"btn-wow",style:{background:"var(--primary-color)",color:"white",fontSize:"0.9rem",width:"100%"},children:"Analyze Survey Data"})]}),b.jsxs("div",{className:"glass-panel",style:{textAlign:"center",padding:"2.5rem",border:"1px solid var(--primary-accent)"},children:[b.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:""}),b.jsx("h3",{children:"Bulk Data Import"}),b.jsx("p",{style:{margin:"1rem 0",color:"var(--text-muted)",fontSize:"0.95rem"},children:"Upload high-volume CSV files for batch processing & validation."}),b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center"},children:[b.jsxs("label",{className:"btn-wow",style:{background:"var(--primary-accent)",color:"white",cursor:"pointer",fontSize:"0.9rem",width:"100%",textAlign:"center"},children:["Upload CSV File",b.jsx("input",{type:"file",accept:".csv",onChange:l,style:{display:"none"}})]}),b.jsx("a",{href:"#",onClick:u=>{u.preventDefault();const c=`age,d_intent,o_intent,d_trust,o_trust
18-30,5,3,4,2
31-50,4,4,3,5
50+,2,5,2,5
18-30,4,2,5,3
31-50,3,4,4,4
50+,1,4,1,4`,h=new Blob([c],{type:"text/csv"}),d=window.URL.createObjectURL(h),f=document.createElement("a");f.href=d,f.download="clicks_bricks_template.csv",f.click()},style:{fontSize:"0.8rem",color:"var(--primary-accent)",textDecoration:"none",fontWeight:700},children:" Download Schema Template"})]}),i&&b.jsxs("div",{style:{marginTop:"1rem",padding:"0.5rem",background:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)",borderRadius:"0.5rem",fontSize:"0.8rem",fontWeight:600},children:["Active: ",i]})]})]}),t&&b.jsxs("div",{className:"animate-in",children:[b.jsx("div",{style:{textAlign:"center",marginBottom:"3rem"},children:b.jsxs("span",{style:{background:n?"var(--primary-color)":"var(--primary-accent)",color:"white",padding:"0.5rem 1.5rem",borderRadius:"2rem",fontSize:"0.75rem",fontWeight:800,textTransform:"uppercase",letterSpacing:"0.1em"},children:["Matrix Source: ",n?"Extended Filesystem":"Platform LocalStorage"," | Sample Size (N) = ",t.count]})}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(340px, 1fr))",gap:"2rem"},children:[b.jsxs("div",{className:"stat-card",style:{textAlign:"left",borderLeft:"8px solid var(--primary-accent)"},children:[b.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Paired T-Test: Likelihood to buy"}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[b.jsx("span",{children:"t-Statistic:"}),b.jsx("span",{style:{fontWeight:700},children:t.tIntent.t.toFixed(4)})]}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem"},children:[b.jsx("span",{children:"Probability (p):"}),b.jsx("span",{style:{color:t.tIntent.p<.05?"var(--success-color)":"#ef4444",fontWeight:800},children:t.tIntent.p.toFixed(4)})]}),b.jsxs("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",background:"#f8fafc",padding:"1rem",borderRadius:"0.5rem"},children:[b.jsx("strong",{children:"Verdict:"})," ",t.tIntent.p<.05?"High significance in channel impact.":"No significant channel-based variance."]})]}),b.jsxs("div",{className:"stat-card",style:{textAlign:"left",borderLeft:"8px solid var(--secondary-accent)"},children:[b.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Paired T-Test: Trust in the brand"}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[b.jsx("span",{children:"t-Statistic:"}),b.jsx("span",{style:{fontWeight:700},children:t.tTrust.t.toFixed(4)})]}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem"},children:[b.jsx("span",{children:"Probability (p):"}),b.jsx("span",{style:{color:t.tTrust.p<.05?"var(--success-color)":"#ef4444",fontWeight:800},children:t.tTrust.p.toFixed(4)})]}),b.jsxs("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",background:"#f8fafc",padding:"1rem",borderRadius:"0.5rem"},children:[b.jsx("strong",{children:"Verdict:"})," ",t.tTrust.p<.05?"Reliability differs by medium.":"Trust levels are medium-invariant."]})]}),b.jsxs("div",{className:"stat-card",style:{textAlign:"left",borderLeft:"8px solid #f59e0b"},children:[b.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"One-Way ANOVA: Age vs Likelihood to buy"}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[b.jsx("span",{children:"F-Statistic:"}),b.jsx("span",{style:{fontWeight:700},children:t.anovaAge.f.toFixed(4)})]}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem"},children:[b.jsx("span",{children:"Probability (p):"}),b.jsx("span",{style:{color:t.anovaAge.p<.05?"var(--success-color)":"#ef4444",fontWeight:800},children:t.anovaAge.p.toFixed(4)})]}),b.jsxs("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",background:"#f8fafc",padding:"1rem",borderRadius:"0.5rem"},children:[b.jsx("strong",{children:"Verdict:"})," ",t.anovaAge.p<.05?"Age cohorts show divergent intent profiles.":"Intent is uniform across age groups."]})]}),b.jsxs("div",{className:"stat-card",style:{textAlign:"left",borderLeft:"8px solid var(--primary-color)"},children:[b.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Chi-Square: Age Moderation"}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[b.jsx("span",{children:"$\\chi^2$ Value:"}),b.jsx("span",{style:{fontWeight:700},children:t.chiAge.chi.toFixed(4)})]}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem"},children:[b.jsx("span",{children:"Probability (p):"}),b.jsx("span",{style:{color:t.chiAge.p<.05?"var(--success-color)":"#ef4444",fontWeight:800},children:t.chiAge.p.toFixed(4)})]}),b.jsxs("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",background:"#f8fafc",padding:"1rem",borderRadius:"0.5rem"},children:[b.jsx("strong",{children:"Verdict:"})," ",t.chiAge.p<.05?"Significant demographic-channel link.":"Preference independent of age."]})]})]})]}),b.jsxs("div",{className:"glass-panel",style:{marginTop:"4rem",padding:"2rem",display:"flex",alignItems:"center",gap:"2rem",flexWrap:"wrap"},children:[b.jsx("div",{style:{fontSize:"2.5rem"},children:""}),b.jsxs("div",{style:{flex:1},children:[b.jsx("h4",{style:{marginBottom:"0.5rem"},children:"Local Python Runtime"}),b.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["Execute the CLI analyzer for deeper regression:",b.jsx("code",{style:{background:"var(--primary-color)",color:"white",padding:"0.2rem 0.6rem",borderRadius:"0.3rem",marginLeft:"0.5rem"},children:"python research_analyzer.py data.csv"})]})]})]})]})};function sg(t,e,n){const r=t.length;let i=0,s=0;t.forEach(c=>{const h=(parseFloat(c[e])||0)-(parseFloat(c[n])||0);i+=h,s+=h*h});const o=i/r,a=(s-i*i/r)/(r-1),l=o/Math.sqrt(Math.max(a/r,1e-4)),u=1/(1+Math.pow(Math.abs(l),2));return{t:l,p:u}}function GT(t){const e=["18-30","31-50","50+"],n=[[0,0],[0,0],[0,0]];t.forEach(l=>{const u=e.indexOf(l.age),c=parseFloat(l.d_intent)>=parseFloat(l.o_intent)?0:1;u!==-1&&n[u][c]++});let r=0;const i=n.map(l=>l[0]+l[1]),s=[n.reduce((l,u)=>l+u[0],0),n.reduce((l,u)=>l+u[1],0)],o=t.length;for(let l=0;l<3;l++)for(let u=0;u<2;u++){const c=i[l]*s[u]/o;c>0&&(r+=Math.pow(n[l][u]-c,2)/c)}const a=1/(1+Math.pow(r,1.5));return{chi:r,p:a}}function YT(t){const e={"18-30":[],"31-50":[],"50+":[]};t.forEach(p=>{e[p.age]&&e[p.age].push(parseFloat(p.d_intent)||0)});const n=Object.values(e).filter(p=>p.length>0);if(n.length<2)return{f:0,p:1};const r=t.length,i=n.length,s=t.reduce((p,y)=>p+(parseFloat(y.d_intent)||0),0)/r;let o=0,a=0;n.forEach(p=>{const y=p.length,_=p.reduce((g,m)=>g+m,0)/y;o+=y*Math.pow(_-s,2),p.forEach(g=>{a+=Math.pow(g-_,2)})});const l=i-1,u=r-i,c=o/l,h=a/(u||1),d=c/(h||1),f=1/(1+Math.pow(d,2));return{f:d,p:f}}const JT=()=>{const t=JSON.parse(localStorage.getItem("survey_responses")||"[]"),e=t.length;if(e===0)return b.jsx("div",{className:"glass-panel animate-in",style:{textAlign:"center",margin:"4rem auto",maxWidth:"600px"},children:b.jsx("h2",{children:"Insufficient Intelligence Data"})});const n=l=>t.reduce((u,c)=>u+(c[l]||0),0)/e,r=n("d_intent"),i=n("o_intent"),s=n("d_trust"),o=n("o_trust"),a=({icon:l,title:u,description:c,color:h})=>b.jsxs("div",{className:"stat-card",style:{textAlign:"left",display:"flex",gap:"2rem",alignItems:"center",borderLeft:`8px solid ${h}`},children:[b.jsx("div",{style:{fontSize:"3rem"},children:l}),b.jsxs("div",{children:[b.jsx("h4",{style:{color:h,marginBottom:"0.5rem",fontSize:"1.2rem"},children:u}),b.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem"},children:c})]})]});return b.jsxs("section",{className:"animate-in",children:[b.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem"},children:[b.jsx("h2",{style:{fontSize:"3.5rem",marginBottom:"1rem"},children:"Strategic Recommendations"}),b.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.2rem"},children:"Automated business intelligence derived from current research datasets."})]}),b.jsxs("div",{style:{display:"grid",gap:"2rem",maxWidth:"900px",margin:"0 auto"},children:[b.jsx(a,{icon:"",title:"Channel Optimization",color:"var(--primary-accent)",description:r>i?`Digital conversion is outperforming offline by ${((r/i-1)*100).toFixed(1)}%. We recommend aggressive reallocation of performance marketing spend toward digital channels.`:"Offline channels maintain a superior intent capture. Stay focused on high-impact physical touchpoints and billboard ecosystems."}),b.jsx(a,{icon:"",title:"Trust Integrity",color:"var(--secondary-accent)",description:o>s?"The 'Trust Deficit' in digital media remains significant. Leverage traditional 'Bricks' media for high-stakes product launches and credibility campaigns.":"Digital trust has achieved parity. Focus on influencer-driven transparency and social proof to maintain current credibility levels."}),b.jsx(a,{icon:"",title:"Demographic Bimodalism",color:"var(--primary-color)",description:"Our model confirms a divergent strategic requirement: Build a separate mobile-native funnel for the 18-35 segment while maintaining legacy channel integrity for 50+ cohorts."})]}),b.jsxs("div",{className:"hero",style:{marginTop:"5rem",padding:"4rem 2rem",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)"},children:[b.jsx("h3",{style:{color:"white",marginBottom:"1.5rem"},children:"Core Strategic Verdict"}),b.jsxs("p",{style:{fontSize:"1.2rem",opacity:.8,maxWidth:"700px",margin:"0 auto"},children:["To maximize ROI, your marketing architecture must move toward an ",b.jsx("strong",{children:"Integrated Hybrid Model"}),": utilizing ",o>s?"Offline":"Digital"," for brand foundation and ",r>i?"Digital":"Offline"," for conversion velocity."]})]})]})};function XT(){return b.jsx("nav",{className:"navbar",children:b.jsxs("div",{className:"nav-container",children:[b.jsx(tr,{to:"/",className:"nav-logo",style:{textDecoration:"none",color:"var(--primary-color)",fontWeight:"bold",fontSize:"1.5rem",fontFamily:"Playfair Display"},children:"Clicks vs Bricks"}),b.jsxs("ul",{className:"nav-links",children:[b.jsx("li",{children:b.jsx(tr,{to:"/",end:!0,children:"Home"})}),b.jsx("li",{children:b.jsx(tr,{to:"/about",children:"About Study"})}),b.jsx("li",{children:b.jsx(tr,{to:"/survey",children:"Survey"})}),b.jsx("li",{children:b.jsx(tr,{to:"/dashboard",children:"Dashboard"})}),b.jsx("li",{children:b.jsx(tr,{to:"/analysis",children:"Analysis"})}),b.jsx("li",{children:b.jsx(tr,{to:"/recommendations",children:"Recommendations"})})]})]})})}function QT(){return I.useEffect(()=>{if(!localStorage.getItem("survey_responses")){const t=[{age:"18-30",gender:"Male",occupation:"Student",d_trust:4,d_appeal:5,d_intent:4,o_trust:3,o_appeal:2,o_intent:3,habit_social:"High",habit_tv:"Low"},{age:"31-50",gender:"Female",occupation:"Professional",d_trust:3,d_appeal:4,d_intent:3,o_trust:5,o_appeal:4,o_intent:4,habit_social:"Medium",habit_tv:"Medium"},{age:"50+",gender:"Male",occupation:"Retired",d_trust:2,d_appeal:2,d_intent:2,o_trust:5,o_appeal:5,o_intent:5,habit_social:"Low",habit_tv:"High"},{age:"18-30",gender:"Female",occupation:"Student",d_trust:5,d_appeal:5,d_intent:5,o_trust:2,o_appeal:3,o_intent:2,habit_social:"High",habit_tv:"Low"},{age:"31-50",gender:"Male",occupation:"Self-employed",d_trust:4,d_appeal:3,d_intent:4,o_trust:4,o_appeal:4,o_intent:3,habit_social:"Medium",habit_tv:"Low"}];localStorage.setItem("survey_responses",JSON.stringify(t))}},[]),b.jsx(wb,{children:b.jsxs("div",{className:"app-wrapper",children:[b.jsx(XT,{}),b.jsx("main",{children:b.jsxs(db,{children:[b.jsx(ur,{path:"/",element:b.jsx(Cb,{})}),b.jsx(ur,{path:"/about",element:b.jsx(Tb,{})}),b.jsx(ur,{path:"/survey",element:b.jsx(ok,{})}),b.jsx(ur,{path:"/dashboard",element:b.jsx(VT,{})}),b.jsx(ur,{path:"/analysis",element:b.jsx(qT,{})}),b.jsx(ur,{path:"/recommendations",element:b.jsx(JT,{})})]})}),b.jsx("footer",{style:{textAlign:"center",padding:"2rem",color:"#718096",borderTop:"1px solid var(--border-color)"},children:b.jsx("p",{children:" 2026 MBA Research Project - Marketing Analytics Platform"})})]})})}vu.createRoot(document.getElementById("root")).render(b.jsx(yg.StrictMode,{children:b.jsx(QT,{})}));
